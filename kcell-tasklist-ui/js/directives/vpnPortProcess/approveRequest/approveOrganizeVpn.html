<div class="form-group">
    <div class="col-sm-3"><h4>Added Services </h4></div>
</div>
<div class="form-group">
    <div class="col-sm-12">
        <table class="table table-bordered">
            <thead>
            <tr>
                <th>#</th>
                <th ng-if="isConfirmCompletion">VPN ID</th>
                <th>Service</th>
                <th>Service Type</th>
                <th>Capacity (Mbit/s)</th>
                <th>VLAN</th>
                <th>Provider IP</th>
                <th>Kcell IP</th>
                <th>Provider AS</th>
                <th>Kcell AS</th>
                <th style="background-color: #e6e6e6">Port ID</th>
                <th style="background-color: #e6e6e6">Channel Type</th>
                <th style="background-color: #e6e6e6">Port Type</th>
                <th style="background-color: #e6e6e6">Termination point 1</th>
                <th style="background-color: #e6e6e6">Termination point 2</th>
            </tr>
            </thead>
            <tbody>
            <tr ng-if="isEditable" ng-repeat="addedService in addedServices">
                <td>{{$index + 1}}</td>
                <td ng-if="isConfirmCompletion">
                    <input type="text" name="added_service_vpn_id_{{$index}}" class="form-control"
                           ng-model="addedService.vpn_number" required>
                    <label class="error" ng-show="form.added_service_vpn_id_{{$index}}.$error.required && ( form.added_service_vpn_id_{{$index}}.$touched || view.submitted)">Required field</label>
                </td>
                <td>{{ addedService.service }}</td>
                <td>{{ getValueById('serviceTypeCatalog',addedService.service_type_id) }}</td>
                <td>{{ addedService.service_capacity }}</td>
                <td>
                    <input type="text" name="added_service_vlan_{{$index}}" class="form-control"
                               ng-model="addedService.vlan" ng-required="addedService.service === 'L2'">
                    <label class="error" ng-show="form.added_service_vlan_{{$index}}.$error.required && ( form.added_service_vlan_{{$index}}.$touched || view.submitted)">Required field</label>
                </td>
                <td>
                    <input type="text" name="added_service_provider_ip_{{$index}}" class="form-control"
                           ng-model="addedService.provider_ip" ng-required="addedService.service === 'L3'">
                    <label class="error" ng-show="form.added_service_provider_ip_{{$index}}.$error.required && ( form.added_service_provider_ip_{{$index}}.$touched || view.submitted)">Required field</label>
                </td>
                <td>
                    <input type="text" name="added_service_kcell_ip_{{$index}}" class="form-control"
                           ng-model="addedService.kcell_ip" ng-required="addedService.service === 'L3'">
                    <label class="error" ng-show="form.added_service_kcell_ip_{{$index}}.$error.required && ( form.added_service_kcell_ip_{{$index}}.$touched || view.submitted)">Required field</label>
                </td>
                <td>
                    <input type="text" name="added_service_provider_as{{$index}}" class="form-control"
                           ng-model=" addedService.provider_as">
                </td>
                <td>
                    <input type="text" name="added_service_kcell_as{{$index}}" class="form-control"
                           ng-model=" addedService.kcell_as">
                </td>
                <td style="background-color: #e6e6e6">{{ addedService.port.port_number }}</td>
                <td style="background-color: #e6e6e6">{{ addedService.port.channel_type }}</td>
                <td style="background-color: #e6e6e6">{{ addedService.port.port_type }}</td>
                <td style="background-color: #e6e6e6">{{ addressToString(addedService.port.port_termination_point) }}</td>
                <td style="background-color: #e6e6e6">{{ addressToString(addedService.vpn_termination_point_2) }}</td>
            </tr>
            <tr ng-if="!isEditable" ng-repeat="addedService in addedServices">
                <td>{{$index + 1}}</td>
                <td>{{ addedService.service }}</td>
                <td>{{ getValueById('serviceTypeCatalog',addedService.service_type_id) }}</td>
                <td>{{ addedService.service_capacity }}</td>
                <td>{{ addedService.vlan }}</td>
                <td>{{ addedService.provider_ip }}</td>
                <td>{{ addedService.kcell_ip }}</td>
                <td>{{ addedService.provider_as }}</td>
                <td>{{ addedService.kcell_as }}</td>
                <td style="background-color: #e6e6e6">{{ addedService.port.port_number }}</td>
                <td style="background-color: #e6e6e6">{{ addedService.port.channel_type }}</td>
                <td style="background-color: #e6e6e6">{{ addedService.port.port_type }}</td>
                <td style="background-color: #e6e6e6">{{ addressToString(addedService.port.port_termination_point) }}</td>
                <td style="background-color: #e6e6e6">{{ addressToString(addedService.vpn_termination_point_2) }}</td>
            </tr>
            </tbody>
        </table>
    </div>
</div>

