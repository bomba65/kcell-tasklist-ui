<style>
	.my-row{
		color: #929292;
	}
	.my-row b {
		color: #000;
	}
    

    @media print {
        /*.print-page {
            width: 210mm;
            padding-left: 25mm;
            padding-right: 25mm;
            font-family: 'Open Sans', 'Helvetica Neue', sans-serif;
        }*/

        @page {
            size: 210mm 297mm;
            margin: 20mm 15mm;
            font-family: 'Open Sans', 'Helvetica Neue', sans-serif;
        }
        .col-sm-1, .col-sm-2, .col-sm-3, .col-sm-4, .col-sm-5, .col-sm-6, .col-sm-7, .col-sm-8, .col-sm-9, .col-sm-10, .col-sm-11, .col-sm-12 {
            float: left;
            margin: 0;
            padding: 0;
        }
        .col-sm-12 {
            width: 100%;
        }
        .col-sm-11 {
            width: 91.66666667%;
        }
        .col-sm-10 {
            width: 83.33333333%;
        }
        .col-sm-9 {
            width: 75%;
        }
        .col-sm-8 {
            width: 66.66666667%;
        }
        .col-sm-7 {
            width: 58.33333333%;
        }
        .col-sm-6 {
            width: 50%;
        }
        .col-sm-5 {
            width: 41.66666667%;
        }
        .col-sm-4 {
            width: 33.33333333%;
        }
        .col-sm-3 {
            width: 25%;
        }
        .col-sm-2 {
            width: 16.66666667%;
        }
        .col-sm-1 {
            width: 8.33333333%;
        }
        .vspace {
            width: 100%;
            height: 5%;
        }
    }
</style>


<div class="well" ng-if="!print">
    
    <iframe id="fileDownloadIframe" style="display:none;"></iframe>

	<h4 style="text-align: center">UAT Protocol</h4>
    <div class="row">
        <div class="form-group">
            <label class="col-sm-2 control-label pull-left"><b>BusinessKey:</b></label>
            <div class="col-sm-8" >
                {{bk}}
            </div>
        </div>
    </div>
    <!-- <div class="row">
        <div class="form-group">
            <label class="col-sm-2 control-label pull-left"><b>Activity:</b></label>
            <div class="col-sm-8" >
                {{uatModel.demandActivity.value}}
            </div>
        </div>
    </div> -->
    <div class="row">
        <div class="form-group">
            <label class="col-sm-2 control-label pull-left"><b>Demand Name:</b></label>
            <div class="col-sm-8" >
                {{uatModel.demandName.value}}
            </div>
        </div>
    </div>
 	<div class="row">
        <div class="form-group">
            <label class="col-sm-12 control-label"><b>General Product/Service description:</b></label>
            <div class="col-sm-10">
                {{uatModel.generalProductDesc.value}}
            </div>
        </div>
    </div>
    <div style="margin-bottom: 20px;"></div>
    <div class="row">
        <div class="form-group">
        	<label class="col-sm-12 control-label pull-left"><b><H4>Test cases:</H4></b></label>
            <table class="table table-condensed">
				<thead>
					<tr>
						<th width="20%"># Test case</th>
						<th width="60%"># Use case</th>
						<th width="20%">Result</th>
					</tr>
				</thead>
				<tbody>
					<tr ng-repeat="r in uatModel.data.value">
						<td>Test case {{$index+1}}</td>
						<td>{{r.useCase}}</td>
						<td>{{r.result}}</td>
					</tr>
				</tbody>
			</table>
        </div>
    </div>
    <div style="margin-bottom: 20px;"></div>
    <div class="row">
        <div class="form-group">
            <div class="col-sm-10 control-label pull-left">
            	<b>Resolution:</b> {{uatModel.launchTaskResult.value === 'ready'?'Ready to launch':uatModel.launchTaskResult.value === 'riskReady'?'Ready to launch with risks':uatModel.launchTaskResult.value === 'notReady'?'NOT Ready to launch':''}}
            </div>
        </div>
    </div>
    <div>&nbsp;</div>
    <div class="row">
        <div class="form-group">
            <label class="col-sm-12 control-label"><b>Risks/Limitation:</b></label>
            <div class="col-sm-10">
                {{uatModel.risksLimits.value}}
            </div>
        </div>
    </div>
    <div style="margin-bottom: 20px;"></div>
    <div class="row">
        <div class="form-group">
        	<label class="col-sm-12 control-label pull-left"><b><H4>Approval List:</H4></b></label>
            <table class="table table-condensed">
				<thead>
					<tr>
						<th width="20%">Role</th>
						<th width="20%">Responsible</th>
						<th width="20%">Date</th>
						<th width="15%">Result</th>
						<th width="25%">Comment</th>
					</tr>
				</thead>
				<tbody>
					<tr ng-repeat="d in uatModel.approvalList.value" ng-if="d.role && d.role.length">
							<td>{{d.role}}</td>
							<td>{{d.responsibleName}}</td>
			                <td>{{d.date |  date: 'dd.MM.yyyy HH:mm'}}</td>
			                <td>{{d.result}}</td>
			                <td>{{d.comment}}</td>
						</tr>
				</tbody>
			</table>
        </div>
    </div>
	<div style="margin-bottom: 20px;"></div>
    <div class="row">
        <div class="form-group">
        	<label class="col-sm-12 control-label pull-left"><b><H4>Attachments:</H4></b></label>
            <table class="table table-condensed">
				<thead>
					<tr>
						<th class="col-sm-3">Document category</th>
                        <th>File Name</th>
                        <th  width="20%">Date</th>
                        <th>Responsible</th>
					</tr>
				</thead>
				<tbody>
					<tr ng-repeat="attachment in uatModel.attachments.value track by $index">
                        <td class="col-sm-3">{{attachment.category}}</td>
                        <td><a ng-click="download(attachment.path)">{{attachment.name}}</a></td>
                        <td>{{attachment.created | date: 'dd.MM.yyyy HH:mm'}}</td>
                        <td>{{attachment.createdBy}}</td>
                    </tr>
				</tbody>
			</table>
        </div>
    </div>
</div>

<div ng-if="print">

    <iframe id="fileDownloadIframe" style="display:none;"></iframe>
    
    <div class="col-sm-12">
	    <label class="col-sm-3">Business key:</label>
        <div class="col-sm-9">
            {{uatModel.businessKeyUAT.value}}
        </div>
    </div>
    <div class="col-sm-12">&nbsp;</div>

    <div class="col-sm-12">
	    <label class="col-sm-3">Start date:</label>
        <div class="col-sm-9">
            {{uatModel.startTime.value | date: 'dd.MM.yyyy HH:mm'}}
        </div>
    </div>
    <div class="col-sm-12">&nbsp;</div>

    <div class="col-sm-12">
	    <label class="col-sm-3">Close date:</label>
        <div class="col-sm-9">
            {{uatModel.endTime.value | date: 'dd.MM.yyyy HH:mm'}}
        </div>
    </div>
    <div class="col-sm-12">&nbsp;</div>

    <div class="col-sm-12">
	    <label class="col-sm-3">Demand Name:</label>
        <div class="col-sm-9">
            {{uatModel.demandName.value}}
        </div>
    </div>
    <div class="col-sm-12">&nbsp;</div>
    
    <div class="col-sm-12">
        <label class="col-sm-12">General Product/Service description:</label>
        <div class="col-sm-12">
            {{uatModel.generalProductDesc.value}}
        </div>
    </div>
    <div class="col-sm-12">&nbsp;</div>

    <div class="col-sm-12">
        <label class="col-sm-12">Test cases</label>
        <div class="col-sm-12">
            <table class="table table-bordered">
                <thead>
                <tr>
                    <th class="col-sm-2 text-center"># Test case</th>
                    <th class="col-sm-8 text-center"># Use case</th>
                    <th class="col-sm-2 text-center">Result</th>
                </tr>
                </thead>
                <tbody>
                <tr ng-repeat="r in uatModel.data.value track by $index">
                    <td class="col-sm-2 text-center">Test case {{$index+1}}</td>
                    <td class="col-sm-8">{{r.useCase}}</td>
                    <td class="col-sm-2 text-center">{{r.result}}</td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>
    <div class="col-sm-12">&nbsp;</div>

    <div class="col-sm-12">
        <label class="col-sm-3">Resolution:</label>
        <div class="col-sm-9">
            {{uatModel.launchTaskResult.value === 'ready'?'Ready to launch':uatModel.launchTaskResult.value === 'riskReady'?'Ready to launch with risks':uatModel.launchTaskResult.value === 'notReady'?'NOT Ready to launch':''}}
        </div>
    </div>
    <div class="col-sm-12">&nbsp;</div>

    <div class="col-sm-12">
        <label class="col-sm-12">Risks/Limitation:</label>
        <div class="col-sm-12">
            {{uatModel.risksLimits.value}}
        </div>
    </div>
    <div class="col-sm-12">&nbsp;</div>

    <div class="col-sm-12">
        <label class="col-sm-12">Approval list</label>
        <div class="col-sm-12">
            <table class="table table-bordered">
                <thead>
                <tr>
                    <th class="col-sm-3 text-center">Role</th>
                    <th class="col-sm-2 text-center">Responsible</th>
                    <th class="col-sm-3 text-center">Date</th>
                    <th class="col-sm-1 text-center">Result</th>
                    <th class="col-sm-3 text-center">Comment</th>
                </tr>
                </thead>
                <tbody>
                <tr ng-repeat="d in uatModel.approvalList.value" ng-if="d.role && d.role.length">
                    <td class="col-sm-3 text-center">{{d.role}}</td>
                    <td class="col-sm-2 text-center">{{d.responsibleName}}</td>
                    <td class="col-sm-3 text-center">{{d.date |  date: 'dd.MM.yyyy HH:mm'}}</td>
                    <td class="col-sm-1 text-center">{{d.result}}</td>
                    <td class="col-sm-3 text-left">{{d.comment}}</td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>
    <div class="col-sm-12">&nbsp;</div>

    <div class="col-sm-12">
        <label class="col-sm-12 control-label">Attachments</label>
        <div class="col-sm-12">
            <table class="table table-bordered">
                <thead>
                <tr>
                    <th class="col-sm-3 text-center">Category</th>
                    <th class="col-sm-3 text-center">File Name</th>
                    <th class="col-sm-3 text-center">Date</th>
                    <th class="col-sm-3 text-center">Responsible</th>
                </tr>
                </thead>
                <tbody>
                <tr ng-repeat="file in uatModel.attachments.value track by $index">
                    <td class="col-sm-3 text-center">{{file.category}}</td>
                    <td class="col-sm-3 text-center"><a ng-click="download(file.path)">{{file.name}}</a></td>
                    <td class="col-sm-3 text-center">{{file.created | date: 'dd.MM.yyyy HH:mm'}}</td>
                    <td class="col-sm-3 text-center">{{file.createdBy}}</td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>
    <div class="col-sm-12">&nbsp;</div>
    
    <div class="col-sm-12">
        <label class="col-sm-12">History</label>
        <div class="col-sm-12">
            <table class="table table-bordered">
                <thead>
                <tr>
                    <th class="col-sm-2 text-center">Activity</th>
                    <th class="col-sm-2 text-center">Assignee</th>
                    <th class="col-sm-2 text-center">Resolution</th>
                    <th class="col-sm-3 text-center">Date</th>
                    <th class="col-sm-3 text-left">Comment</th>
                </tr>
                </thead>
                <tbody>
                <tr ng-repeat="resolution in uatModel.resolutions.value">
                    <td class="col-sm-2 text-center">{{resolution.taskName}}</td>
                    <td class="col-sm-2 text-center">{{resolution.assigneeName}}</td>
                    <td class="col-sm-2 text-center">{{resolution.resolution}}</td>
                    <td class="col-sm-3 text-center">{{resolution.taskEndDate | date: 'dd.MM.yyyy HH:mm'}}</td>
                    <td class="col-sm-3 text-left">{{resolution.comment}}</td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>