<div class="well">
    <div class="form-group">
        <label class="col-sm-3 control-label">Initiator:</label>
        <div class="col-sm-3">
            <input type="text" class="form-control" value = "{{invoice.initiatorFull.value.lastName}} {{invoice.initiatorFull.value.firstName}}" disabled="disabled" />
        </div>
    </div>
    <!-- <div class="form-group">
        <label class="col-sm-3 control-label">Monthly Act #:</label>
        <div class="col-sm-3">
            <input type="text" class="form-control" value = "{{invoice.monthActNumber.value}}" disabled="disabled" />
        </div>
    </div> -->
    <div class="form-group">
        <label class="col-sm-3 control-label">Region:</label>
        <div class="col-sm-3">
            <input type="text" class="form-control" value = "{{invoice.regionLabel.value}}" disabled="disabled" />
        </div>
    </div>
    <!-- <div class="form-group">
        <label class="col-sm-3 control-label">Type of works:</label>
        <div class="col-sm-3">
            <input type="text" class="form-control" value = "{{invoice.workTypeLabel.value}}" disabled="disabled" />
        </div>
    </div> -->
    <div class="form-group">
        <label class="col-sm-3 control-label">Period:</label>
        <div class="col-sm-3">
            <input type="text" class="form-control" value = "to {{invoice.periodDate.value | date:'dd.MM.yyyy hh:mm'}}" disabled="disabled" />
        </div>
    </div>
</div>

<div class="col-sm-12">
    <div class="row">
        <table class="table table-condensed" class="form-group" ng-if="invoice.selectedWorks.value" ng-init="getCatalogs()">
            <thead>
                <tr>
                    <th colspan="2">Requested Job Info</th>
                    <th>Site Info</th>
                    <th colspan="7">Job Request Info</th>
                    <th colspan="2">Delay Info</th>
                </tr>
                <tr>
                    <th width="40%">Ordered work</th>
                    <th width="3%">Q-ty</th>
                    <th width="9%">Sitename</th>
                    <th width="12%">JR number</th>
                    <th width="6%">Job Request ordered date</th>
                    <th width="6%">Material list approval date</th>
                    <th width="6%">Job Request Perform date</th>
                    <th width="6%">Job Request Acceptance date</th>
                    <th width="3%">Emergency JR</th> <!--"yes" or "no"-->
                    <th width="3%">Customer's material required</th> <!--"yes" or "no"-->
                    <th width="3%">Emergency JR</th>
                    <th width="3%">Regular JR</th>
                </tr>
            </thead>
            <tbody ng-repeat="(key, value) in invoice.selectedWorks.value">
                <tr ng-repeat="w in value">
                    <td ng-if="$first" rowspan="{{value.length}}">{{catalogs.worksTitle[key]}}</td>
                    <td>{{w.quantity}}</td>
                    <td>{{w.site_name}}</td>
                    <td>{{w.businessKey}}</td>
                    <td>{{w.fillAppliedChanges | date:'dd.MM.yyyy'}}</td>
                    <td>{{w.validateTr | date:'dd.MM.yyyy'}}</td>
                    <td>{{w.acceptWorkStartTime | date:'dd.MM.yyyy'}}</td>
                    <td>{{w.acceptWorkEndTime | date:'dd.MM.yyyy'}}</td>
                    <td>{{w.priority == 'emergency'?'Emergency':'Regular'}}</td>
                    <td>{{w.materialsRequired}}</td>
                    <td>{{w.emergencyDelay}}</td>
                    <td>{{w.regularDelay}}</td>
                </tr>
            </tbody>
        </table>
    </div>
</div>
