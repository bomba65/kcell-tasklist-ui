<div class="form-group">
    <label class="col-sm-4 control-label">Connection type: <span class="text-danger glyphicon-asterisk"></span></label>
    <div class="col-sm-8">
        <!--<select class="form-control" name="tsConnectionType" ng-model="data.connectionType" ng-required="!disabled" ng-disabled="disabled">-->
        <select class="form-control selectpicker" select-picker title="" name="tsConnectionType" ng-model="datatech.connectionType" ng-disabled="disabled">
            <option style="display:none" value=""></option>
            <option value="SIP over internet">SIP over internet</option>
            <option value="SIP cable direct">SIP cable direct</option>
        </select>
        <span class="has-error" ng-if="form.tsConnectionType.$error.required && (form.tsConnectionType.$touched || view.submitted)">Required field</span>
    </div>
</div>
<div class="form-group">
    <label class="col-sm-4 control-label">Authorization type: <span class="text-danger glyphicon-asterisk"></span></label>
    <div class="col-sm-8">
        <select class="form-control selectpicker" select-picker title="SIP-авторизация(доступ по стат. IP c лог/пар) / SIP-транк(доступ по стат. IP)" name="sipAuthorizationType" ng-model="datasip.authorizationType" ng-required="!disabled" ng-disabled="disabled" ng-style="{'background-color': ((pbxDatas.fetched && pbxDatas.authorizationType !== datasip.authorizationType) ? 'orange' : null)}">
            <option ng-class="!disabled? 'hide-default-option' : ''" value=""></option>
            <option value="SIP-авторизация(доступ по стат. IP c лог/пар)">SIP-авторизация(доступ по стат. IP c лог/пар)</option>
            <option value="SIP-транк(доступ по стат. IP)">SIP-транк(доступ по стат. IP)</option>S
        </select>
        <span class="has-error" ng-if="form.sipAuthorizationType.$error.required && (form.sipAuthorizationType.$touched || view.submitted)">Required field</span>
    </div>
</div>
<div class="form-group" ng-hide="hiddenFields.connectionPoint">
    <label class="col-sm-4 control-label">Connection point: <span class="text-danger glyphicon-asterisk"></span></label>
    <div class="col-sm-8">
        <select class="form-control selectpicker" select-picker data-container='body' title="SBC / SIP Proxy" name="tsConnectionPoint" ng-model="datatech.connectionPoint" ng-required="editConnPoint" ng-disabled="!editConnPoint || disabled" ng-style="{'background-color': ((pbxDatas.fetched && pbxDatas.connectionPoint !== datasip.connectionPoint) ? 'orange' : null)}">
            <option ng-class="editConnPoint? 'hide-default-option' : ''" value=""></option>
            <option value="SBC">SBC</option>
            <option value="SIP Proxy">SIP Proxy</option>
        </select>
        <span class="has-error" ng-if="form.tsConnectionPoint.$error.required && (form.tsConnectionPoint.$touched || view.submitted)">Required field</span>
    </div>
</div>
<div class="form-group" ng-if="showCpNew">
    <label class="col-sm-4 control-label">Connection point (NEW): <span class="text-danger glyphicon-asterisk"></span></label>
    <div class="col-sm-8">
        <select class="form-control selectpicker" select-picker title="" name="tsConnectionPointNew" ng-model="datatech.connectionPointNew" ng-required="!disabled" ng-disabled="disabled" ng-style="{'background-color': ((pbxDatas.fetched && pbxDatas.connectionPointNew && pbxDatas.connectionPointNew !== datasip.connectionPointNew) ? 'orange' : null)}">
            <option ng-class="!disabled? 'hide-default-option' : ''" value="">SBC / SIP Proxy</option>
            <option value="SBC">SBC</option>
            <option value="SIP Proxy">SIP Proxy</option>
        </select>
        <span class="has-error" ng-if="form.tsConnectionPointNew.$error.required && (form.tsConnectionPointNew.$touched || view.submitted)">Required field</span>
    </div>
</div>

<div class="row">
    <div class="col-sm-{{showNewFields?'6':'12'}}">
        <div class="form-group" ng-hide="hiddenFields.curPublicVoiceIP">
            <label class="col-sm-{{showNewFields?'12':'4'}} control-label">Public static IP for voice traffic: <span class="text-danger glyphicon-asterisk"></span></label>
            <div class="col-sm-{{showNewFields?'12':'8'}}">
                <input type="text" class="form-control" placeholder="Публичный статический IP для голосового трафика" name="sipCurPublicVoiceIP" ng-model="datasip.curPublicVoiceIP" ng-required="!disabled || modifyConnection" ng-disabled="disabled && !modifyConnection" ng-class="{'highlight-field': modifyConnection}" ng-style="{'background-color': ((pbxDatas.fetched && pbxDatas.curPublicVoiceIP !== datasip.curPublicVoiceIP) ? 'orange' : null)}">
                <span class="has-error" ng-if="form.sipCurPublicVoiceIP.$error.required && (form.sipCurPublicVoiceIP.$touched || view.submitted)">Required field</span>
            </div>
        </div>
    </div>
    <div class="col-sm-6" ng-if="showNewFields">
        <div class="form-group">
            <label class="col-sm-12 control-label">New public static IP for voice traffic: <span class="text-danger glyphicon-asterisk"></span></label>
            <div class="col-sm-12">
                <input type="text" class="form-control" placeholder="Публичный статический IP для голосового трафика" name="sipNewPublicVoiceIP" ng-model="datasip.newPublicVoiceIP" ng-required="!disabled" ng-disabled="disabled" ng-style="{'background-color': ((pbxDatas.fetched && pbxDatas.newPublicVoiceIP && pbxDatas.newPublicVoiceIP !== datasip.newPublicVoiceIP) ? 'orange' : null)}">
                <span class="has-error" ng-if="form.sipNewPublicVoiceIP.$error.required && (form.sipNewPublicVoiceIP.$touched || view.submitted)">Required field</span>
            </div>
        </div>
    </div>
</div>
<div class="row">
    <div class="col-sm-{{showNewFields?'6':'12'}}">
        <div class="form-group" ng-hide="hiddenFields.curSignalingIP">
            <label class="col-sm-{{showNewFields?'12':'4'}} control-label">Public static IP for signaling: <span class="text-danger glyphicon-asterisk"></span></label>
            <div class="col-sm-{{showNewFields?'12':'8'}}">
                <input type="text" class="form-control" placeholder="Публичный статический IP для сигнализации" name="sipCurSignalingIP" ng-model="datasip.curSignalingIP" ng-required="!disabled || modifyConnection" ng-disabled="disabled && !modifyConnection" ng-class="{'highlight-field': modifyConnection}" ng-style="{'background-color': ((pbxDatas.fetched && pbxDatas.curSignalingIP !== datasip.curSignalingIP) ? 'orange' : null)}">
                <span class="has-error" ng-if="form.sipCurSignalingIP.$error.required && (form.sipCurSignalingIP.$touched || view.submitted)">Required field</span>
            </div>
        </div>
    </div>
    <div class="col-sm-6" ng-if="showNewFields">
        <div class="form-group">
            <label class="col-sm-12 control-label">New public static IP for signaling: <span class="text-danger glyphicon-asterisk"></span></label>
            <div class="col-sm-12">
                <input type="text" class="form-control" placeholder="Публичный статический IP для сигнализации" name="sipNewSignalingIP" ng-model="datasip.newSignalingIP" ng-required="!disabled" ng-disabled="disabled" ng-style="{'background-color': ((pbxDatas.fetched && pbxDatas.newSignalingIP && pbxDatas.newSignalingIP !== datasip.newSignalingIP) ? 'orange' : null)}">
                <span class="has-error" ng-if="form.sipNewSignalingIP.$error.required && (form.sipNewSignalingIP.$touched || view.submitted)">Required field</span>
            </div>
        </div>
    </div>
</div>
<div class="form-group">
    <label class="col-sm-4 control-label">Transport Layer Protocol: <span class="text-danger glyphicon-asterisk"></span></label>
    <div class="col-sm-8">
        <select class="form-control selectpicker" select-picker title="Только TCP / Только UDP / UDP и TCP" name="sipTransProtocol" ng-model="datasip.transProtocol" ng-required="!disabled || modifyConnection" ng-disabled="disabled && !modifyConnection" ng-class="{'highlight-field': modifyConnection}" ng-style="{'background-color': ((pbxDatas.fetched && pbxDatas.transProtocol !== datasip.transProtocol) ? 'orange' : null)}">
            <option ng-class="(!disabled || modifyConnection) ? 'hide-default-option' : ''" value=""></option>
            <option value="Только TCP">Только TCP</option>
            <option value="Только UDP">Только UDP</option>
            <option value="UDP и TCP">UDP и TCP</option>
        </select>
        <span class="has-error" ng-if="form.sipTransProtocol.$error.required && (form.sipTransProtocol.$touched || view.submitted)">Required field</span>
    </div>
</div>
<div class="form-group">
    <label class="col-sm-4 control-label">Ports for signaling: <span class="text-danger glyphicon-asterisk"></span></label>
    <div class="col-sm-8">
        <input type="text" class="form-control" placeholder="5060, 5061" name="sipSignalingPort" ng-model="datasip.signalingPort" ng-required="!disabled || modifyConnection" ng-disabled="disabled && !modifyConnection" ng-class="{'highlight-field': modifyConnection}" ng-style="{'background-color': ((pbxDatas.fetched && pbxDatas.signalingPort !== datasip.signalingPort) ? 'orange' : null)}">
        <span class="has-error" ng-if="form.sipSignalingPort.$error.required && (form.sipSignalingPort.$touched || view.submitted)">Required field</span>
    </div>
</div>
<div class="form-group">
    <label class="col-sm-4 control-label">Count sessions (double talks): <span class="text-danger glyphicon-asterisk"></span></label>
    <div class="col-sm-8">
        <input type="number" class="form-control" placeholder="Количество необходимых сессий (одновременных разговоров)*" name="sipSessionsCount" ng-model="datasip.sessionsCount" ng-required="!disabled || modifyConnection" ng-disabled="disabled && !modifyConnection" ng-class="{'highlight-field': modifyConnection}" ng-style="{'background-color': ((pbxDatas.fetched && pbxDatas.sessionsCount !== datasip.sessionsCount) ? 'orange' : null)}">
        <span class="has-error" ng-if="form.sipSessionsCount.$error.required && (form.sipSessionsCount.$touched || view.submitted)">Required field</span>
    </div>
</div>
<div class="form-group">
    <label class="col-sm-4 control-label">Port for voice traffic: <span class="text-danger glyphicon-asterisk"></span></label>
    <div class="col-sm-2">
        <input type="number" class="form-control" placeholder="from" name="sipVoicePortStart" ng-model="datasip.voicePortStart" ng-required="!disabled || modifyConnection" ng-disabled="disabled && !modifyConnection" ng-class="{'highlight-field': modifyConnection}" ng-style="{'background-color': ((pbxDatas.fetched && pbxDatas.voicePortStart !== datasip.voicePortStart) ? 'orange' : null)}">
        <span class="has-error" ng-if="form.sipVoicePortStart.$error.required && (form.sipVoicePortStart.$touched || view.submitted)">Required field</span>
    </div>
    <div class="col-sm-2">
        <input type="number" class="form-control" placeholder="to" name="sipVoicePortEnd" ng-model="datasip.voicePortEnd" ng-required="!disabled || modifyConnection" ng-disabled="disabled && !modifyConnection" ng-class="{'highlight-field': modifyConnection}" ng-style="{'background-color': ((pbxDatas.fetched && pbxDatas.voicePortEnd !== datasip.voicePortEnd) ? 'orange' : null)}">
        <span class="has-error" ng-if="form.sipVoicePortEnd.$error.required && (form.sipVoicePortEnd.$touched || view.submitted)">Required field</span>
    </div>
</div>
<div class="form-group">
    <label class="col-sm-4 control-label">Preferred coding: <span class="text-danger glyphicon-asterisk"></span></label>
    <div class="col-sm-8">
        <select class="form-control selectpicker" select-picker title="g711 / g729 / g711/g729" name="sipCoding" ng-model="datasip.coding" ng-required="!disabled || modifyConnection" ng-disabled="disabled && !modifyConnection" ng-class="{'highlight-field': modifyConnection}" ng-style="{'background-color': ((pbxDatasS.fetched && pbxDatasS.coding !== datasip.coding) ? 'orange' : null)}">
            <option ng-class="(!disabled || modifyConnection) ? 'hide-default-option' : ''" value=""></option>
            <option value="g711">g711</option>
            <option value="g729">g729</option>
            <option value="g711/g729">g711/g729</option>
        </select>
        <span class="has-error" ng-if="form.sipCoding.$error.required && (form.sipCoding.$touched || view.submitted)">Required field</span>
    </div>
</div>
<div class="form-group">
    <label class="col-sm-4 control-label">Caller ID: <span class="text-danger glyphicon-asterisk"></span></label>
    <div class="col-sm-8">
        <input type="text" class="form-control" name="callerID" ng-model="datasip.callerID" ng-required="!disabled || modifyConnection" ng-disabled="disabled && !modifyConnection" ng-class="{'highlight-field': modifyConnection}" ng-style="{'background-color': ((pbxDatas.fetched && pbxDatas.callerID !== datasip.callerID) ? 'orange' : null)}">
        <span class="has-error" ng-if="form.callerID.$error.required && (form.callerID.$touched || view.submitted)">Required field</span>
    </div>
</div>
<div class="form-group">
    <label class="col-sm-4 control-label">Contact Person: <span class="text-danger glyphicon-asterisk"></span></label>
    <div class="col-sm-8">
        <input type="text" class="form-control" placeholder="Контактное лицо" name="tsContactPerson" ng-model="datatech.contactPerson" ng-required="!disabled" ng-disabled="disabled" ng-style="{'background-color': ((pbxData.fetched && pbxData.contactPerson !== datatech.contactPerson) ? 'orange' : null)}">
        <span class="has-error" ng-if="form.tsContactPerson.$error.required && (form.tsContactPerson.$touched || view.submitted)">Required field</span>
    </div>
</div>
<div class="form-group">
    <label class="col-sm-4 control-label">Contact Email: <span class="text-danger glyphicon-asterisk"></span></label>
    <div class="col-sm-8">
        <input type="text" class="form-control" placeholder="Контактный Email (для тестовых настроек)" name="tsContactEmail" ng-model="datatech.contactEmail" ng-required="!disabled" ng-disabled="disabled" ng-style="{'background-color': ((pbxData.fetched && pbxData.contactEmail !== datatech.contactEmail) ? 'orange' : null)}">
        <span class="has-error" ng-if="form.tsContactEmail.$error.required && (form.tsContactEmail.$touched || view.submitted)">Required field</span>
    </div>
</div>
<div class="form-group">
    <label class="col-sm-4 control-label">Contact number: <span class="text-danger glyphicon-asterisk"></span></label>
    <div class="col-sm-8">
        <input type="text" class="form-control" placeholder="Контактый телефон" name="tsContactNumber" ng-model="datatech.contactNumber" ng-required="!disabled" ng-disabled="disabled" ng-style="{'background-color': ((pbxData.fetched && pbxData.contactNumber !== datatech.contactNumber) ? 'orange' : null)}">
        <span class="has-error" ng-if="form.tsContactNumber.$error.required && (form.tsContactNumber.$touched || view.submitted)">Required field</span>
    </div>
</div>

<div class="form-group">
    <label class="col-sm-4">Description: </label>
    <div class="col-sm-8">
        <textarea elastic-textarea rows="2" ng-disabled="disabled" class="form-control" ng-model="datasip.description" ng-style="{'background-color': ((pbxDatas.fetched && pbxDatas.description && pbxDatas.description !== datasip.description) ? 'orange' : null)}"></textarea>
    </div>
</div>