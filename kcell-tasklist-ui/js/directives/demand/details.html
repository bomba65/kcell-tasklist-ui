<style type="text/css">
    .list-group-item:hover{
        color: #fff;
        background-color: #5f3e72;
        cursor: pointer;
        text-decoration: underline;
    }
</style>
<div class="col-sm-12" style="padding-left: 0; padding-right: 0;">
    <div class="col-sm-6">
        <div class="form-group">
            <label class="col-sm-12 control-label">Demand description<span class="text-danger glyphicon-asterisk"></span></label>
            <div class="col-sm-12" ng-if="disabled && !editdescription">
                <div class="col-sm-12 disabled-element">{{data.description}}</div>
            </div>
            <div class="col-sm-12" ng-if="!disabled || editdescription">
                <textarea elastic-textarea style="resize:none" class="form-control" name="gDemandDescription" ng-model="data.description"  ng-required="!disabled || editdescription"></textarea>
                <span class="has-error" ng-if="form.gDemandDescription.$error.required && (form.gDemandDescription.$touched || view.submitted)">Required field</span>
            </div>
        </div>
    </div>
    <div class="col-sm-6">
        <div class="form-group">
            <label class="col-sm-12 control-label">Dependancies and Asumptions<span class="text-danger glyphicon-asterisk"></span></label>
            <div class="col-sm-12" ng-if="disabled">
                <div class="col-sm-12 disabled-element">{{(data.depAsumptions && data.depAsumptions.length)?data.depAsumptions:'&nbsp;'}}</div>
            </div>
            <div class="col-sm-12" ng-if="!disabled">
                <textarea elastic-textarea style="resize:none" class="form-control" name="gDepAsumptions" ng-model="data.depAsumptions" ng-disabled="disabled" ng-required="!disabled"></textarea>
                <span class="has-error" ng-if="form.gDepAsumptions.$error.required && (form.gDepAsumptions.$touched || view.submitted)">Required field</span>
            </div>
        </div>
    </div>
</div>

<div class="col-sm-12" style="padding-left: 0; padding-right: 0;">
    <div class="col-sm-4" style="margin-top: 10px;">
        <label class="col-sm-12">Product Configurations</label>
        <div class="col-sm-12" style="border: 1px solid #ccc; border-radius: 10px; padding-top: 5px; margin-bottom: 10px;">
            <div class="form-group">
                <label class="col-sm-4 control-label">Product type<span class="text-danger glyphicon-asterisk"></span></label>
                <div class="col-sm-8">
                    <select class="form-control" name="gProductType" ng-model="data.productType" ng-disabled="disabled" ng-required="!disabled">
                        <option value="Tarrif">Tarrif</option>
                        <option value="Service">Service</option>
                    </select>
                    <span class="has-error" ng-if="form.gProductType.$error.required && (form.gProductType.$touched || view.submitted)">Required field</span>
                </div>
            </div>
            <table class="table">
                <thead>
                    <tr>
                        <th>Product name</th>
                        <th>Version</th>
                        <th ng-if="!disabled" class="text-center">
                            <a href="#" style="font-size: 25px;" ng-click="productNameAdd()">
                                <span class="glyphicon glyphicon-plus-sign"></span>
                            </a>
                        </th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="p in data.productNames track by $index">
                        <td>
                            <span ng-if="disabled">{{p.name}}</span>
                            <span ng-if="!disabled">
                                <textarea rows="1" elastic-textarea class="form-control" ng-model="p.name" ng-keyup="productNameComplete($index)" ng-focus="productNameComplete($index)"></textarea>
                                <ul class="list-group" ng-blur="productNameBlur($index)">
                                    <li class="list-group-item" ng-repeat="opt in filteredProductNames[$index]" ng-click="productNameSelect($parent.$index, opt)">{{opt.name}}</li>
                                </ul>
                                <span class="has-error" ng-if="p.name.length == 0 && view.submitted && !disabled">Required field</span>
                            </span>
                        </td>
                        <td>
                            <span ng-if="disabled">{{p.version}}</span>
                            <span ng-if="!disabled">
                                <input type="number" class="form-control" ng-model="p.version">
                            </span>
                        </td>
                        <td ng-if="!disabled" class="text-center">
                            <button type="button" class="btn btn-default" ng-click="productNameDelete($index)">Delete</button>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
    <div class="col-sm-4">
        <label class="col-sm-12" style="margin-top: 10px">Product Offers</label>
        <div class="col-sm-12" style="border: 1px solid #ccc; border-radius: 10px; padding-top: 5px; margin-bottom: 10px; overflow: auto;">
            <table class="table" style="min-width: 400px;">
                <thead>
                    <tr>
                        <th>Product offer name</th>
                        <th>Product offer description</th>
                        <th>Version</th>
                        <th ng-if="!disabled" class="text-center">
                            <a href="#" style="font-size: 25px;" ng-click="offerNameAdd()">
                                <span class="glyphicon glyphicon-plus-sign"></span>
                            </a>
                        </th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="p in data.offerNames track by $index">
                        <td>
                            <span ng-if="disabled">{{p.name}}</span>
                            <span ng-if="!disabled">
                                <textarea rows="1" elastic-textarea class="form-control" ng-model="p.name" ng-keyup="offerNameComplete($index)" ng-focus="offerNameComplete($index)"></textarea>
                                <ul class="list-group" ng-blur="offerNameBlur($index)">
                                    <li class="list-group-item" ng-repeat="opt in filteredOfferNames[$index]" ng-click="offerNameSelect($parent.$index, opt)">{{opt.name}}</li>
                                </ul>
                                <span class="has-error" ng-if="p.name.length == 0 && view.submitted && !disabled">Required field</span>
                            </span>
                        </td>
                        <td>
                            <span ng-if="disabled">{{p.description}}</span>
                            <span ng-if="!disabled">
                                <textarea rows="1" elastic-textarea class="form-control" ng-model="p.description"></textarea>
                            </span>
                        </td>
                        <td>
                            <span ng-if="disabled">{{p.version}}</span>
                            <span ng-if="!disabled">
                                <input type="number" class="form-control" ng-model="p.version">
                            </span>
                        </td>
                        <td ng-if="!disabled" class="text-center">
                            <button type="button" class="btn btn-default" ng-click="productNameDelete($index)">Delete</button>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
    <div class="col-sm-4">
        <label class="col-sm-12" style="margin-top: 10px;">Deliverables</label>
        <div class="col-sm-12" style="border: 1px solid #ccc; border-radius: 10px; padding-top: 5px; margin-bottom: 10px;">
            <div class="form-group">
                <label class="col-sm-5 control-label">Deliverable<span class="text-danger glyphicon-asterisk"></span></label>
                <div class="col-sm-7" ng-if="!disabled">
                    <div ng-dropdown-multiselect="" options="deliverableOptions" selected-model="data.deliverable" extra-settings="multiselectSettings"></div>
                    <span class="has-error" ng-if="data.deliverable.length == 0 && view.submitted && !disabled">Required field</span>
                </div>
                <div class="col-sm-7" ng-if="disabled">
                    <div class="disabled-element">
                        {{(data.deliverable && data.deliverable.length)?'':'&nbsp;'}}
                        <div ng-repeat="d in data.deliverable">{{d.v}}</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>