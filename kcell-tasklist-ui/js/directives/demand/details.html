<style>
    .list-group {
        border: 1px solid #428bca;
        position: absolute;
        z-index: 100;
        width: 100%;
        border-radius: 4px;
    }
    .list-group-item {
        border: none;
        border-radius: 0;
        text-align: center;
    }
    .list-group-item:hover,
    .list-group-item:focus {
        color: #fff !important;
        background-color: #428bca !important;
        cursor: pointer;
        text-decoration: none;
    }
</style>
<div class="col-sm-8" style="margin-top: 10px; padding-left: 0; padding-right: 10px;">
    <label class="col-sm-12">Product Configurations</label>
    <div class="col-sm-12" style="border: 1px solid #ccc; border-radius: 10px; padding-top: 5px; margin-bottom: 10px;">
        <div class="form-group">
            <label class="col-sm-3 control-label">Product type:<span class="text-danger glyphicon-asterisk"></span></label>
            <div class="col-sm-5">
                <select class="form-control" name="gProductType" ng-model="data.productType" ng-disabled="disabled" ng-required="!disabled">
                    <option value="Tariff">Tariff</option>
                    <option value="Service">Service</option>
                </select>
                <span class="has-error" ng-if="form.gProductType.$error.required && (form.gProductType.$touched || view.submitted)">Required field</span>
            </div>
            <label class="col-sm-2 control-label">Version:</label>
            <label class="col-sm-2 control-label">{{data.productVersion}}</label>
        </div>
        <div class="form-group">
            <label class="col-sm-3 control-label">Product Name:<span class="text-danger glyphicon-asterisk"></span></label>
            <div class="col-sm-9" ng-if="disabled">
                <div class="disabled-element">{{(data.productName && data.productName.length)?data.productName:'&nbsp;'}}</div>
            </div>
            <div class="col-sm-9" ng-if="!disabled">
                <textarea elastic-textarea rows="1" class="form-control" name="gProductName" ng-model="data.productName" ng-change="productNameChange()" typeahead="name as c.name for c in catalog.products | filter:{name:$viewValue}" typeahead-on-select="productNameSelected($item)" autocomplete="off" required></textarea>
                <span class="has-error" ng-if="form.gProductName.$error.required && (form.gProductName.$touched || view.submitted)">Required field</span>
            </div>
        </div>
    </div>
</div>
<div class="col-sm-4" style="padding-left: 0; padding-right: 0;">
    <label class="col-sm-12" style="margin-top: 10px;">Deliverables</label>
    <div class="col-sm-12" style="border: 1px solid #ccc; border-radius: 10px; padding-top: 5px; margin-bottom: 10px;">
        <div class="form-group">
            <label class="col-sm-5 control-label">Deliverable<span class="text-danger glyphicon-asterisk"></span></label>
            <div class="col-sm-7" ng-if="!disabled">
                <div ng-dropdown-multiselect="" options="deliverableOptions" selected-model="data.deliverable" extra-settings="multiselectSettings"></div>
                <input type="hidden" name="detailsDeliverable" ng-model="deliverableHidden" required>
                <span class="has-error" ng-if="form.detailsDeliverable.$error.required && (form.detailsDeliverable.$touched || view.submitted)">Required field</span>
                <span style="height: 100%; width: auto;" ng-if="data.deliverable.length">
                    <p ng-repeat="d in data.deliverable">{{d.v}}</p>
                </span>
            </div>
            <div class="col-sm-7" ng-if="disabled">
                <div class="form-control" style="height: 100%;" disabled>
                    {{(data.deliverable && data.deliverable.length)?'':'&nbsp;'}}
                    <div ng-repeat="d in data.deliverable">{{d.v}}</div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="col-sm-12" style="padding-left: 0; padding-right: 0;">
    <label class="col-sm-12" style="margin-top: 10px">Product Offers</label>
    <div class="col-sm-12" style="border: 1px solid #ccc; border-radius: 10px; padding-top: 5px; margin-bottom: 10px;">
        <table class="table">
            <thead>
            <tr>
                <th style="width: 5%;" ng-if="!disabled" class="text-center">
                    <a style="font-size: 25px;" ng-click="productOfferAdd()">
                        <span class="glyphicon glyphicon-plus-sign"></span>
                    </a>
                </th>
                <th ng-style="{'width': (disabled?'30%':'25%')}">Product offer name</th>
                <th style="width: 60%;">Product offer description</th>
                <th ng-style="{'width': (disabled?'10%':'5%')}">Version</th>
                <th style="width: 5%;" ng-if="!disabled" class="text-center">
                </th>
            </tr>
            </thead>
            <tbody>
            <tr ng-repeat="p in data.productOffers track by $index">
                <td ng-if="!disabled">
                    <button type="button" class="btn btn-default" ng-click="productOfferEdit($index)">Edit</button>
                </td>
                <td>{{p.name}}</td>
                <td style="word-break: break-word;">{{p.description}}</td>
                <td>{{p.version}}</td>
                <td ng-if="!disabled" class="text-center">
                    <button type="button" class="btn btn-default" ng-click="productOfferDelete($index)">Delete</button>
                </td>
            </tr>
            </tbody>
        </table>
        <div ng-if="cpo" class="col-sm-12" style="border: 1px solid #ccc; border-radius: 10px; margin-bottom: 10px; padding: 10px;">
            <div class="form-group">
                <label class="col-sm-4 control-label">Product offer name</label>
                <div class="col-sm-8">
                    <textarea elastic-textarea rows="1" class="form-control" ng-model="cpo.name" ng-change="productOfferChange()" typeahead="name as c.name for c in catalog.offers | filter:{name:$viewValue}" typeahead-on-select="productOfferSelected($item)" autocomplete="off"></textarea>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-4 control-label">Product offer description</label>
                <div class="col-sm-8">
                    <textarea rows="1" elastic-textarea class="form-control" ng-model="cpo.description"></textarea>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-4 control-label">Version</label>
                <label class="col-sm-4 control-label">{{cpo.version}}</label>
            </div>
            <div class="col-sm-12">
                <button type="button" class="btn btn-success pull-right" style="margin-left: 20px;" ng-click="saveCPO()">Save</button>
                <button type="button" class="btn btn-default pull-right" ng-click="cancelCPO()">Cancel</button>
            </div>
        </div>
    </div>
</div>