<style>
    .table-borderless > tbody > tr > td,
    .table-borderless > tbody > tr > th {
        border: none;
    }


    /* Fixed Headers magic */
    .fixed-header-table-container .table thead th {
        text-align: left;
    }
    .fixed-header-table-container .table thead span {
        position: absolute;
        top: 0;
        background-color: #fff;
        padding: 5px;
        word-wrap: 'break-word';
        margin-left: -8px;
        z-index: 1000000;
    }
    .fixed-header-table-container {
        position: relative;
        overflow: hidden;
    }
    .fixed-header-table-container-inner {
        overflow-y: auto;
        height: 100%;
    }
    .fixed-header-table-container .table td {
        padding: 2px !important;
        margin: 2px !important;
    }


    .list-group {
        border: 1px solid #428bca;
        position: absolute;
        z-index: 100;
    }
    .list-group-input {
        border: 1px solid #ccc;
        border-radius: 4px;
        padding: 6px 12px;
        color: #555;
    }
    .list-group-input-active {
        border-color: #9b5fb9;
    }
    .list-group-input:hover,
    .list-group-input:focus {
        border-color: #9b5fb9;
    }
    .list-group-item-nowrap {
        border: none;
        border-radius: 0;
        text-align: left;
        padding: 5px 10px;
        background: #fff;
    }
    .list-group-item-nowrap:hover,
    .list-group-item-nowrap:focus {
        color: #fff !important;
        background-color: #428bca !important;
        cursor: pointer;
        text-decoration: none;
    }


</style>
<div class="col-sm-12" ng-if="!disabled">
    <div class="form-group">
        <label class="col-sm-3 control-label">Upload Business case file</label>
        <div class="col-sm-9">
            <input type="file" class="form-control" multiple="false" onchange="angular.element(this).scope().xlsxSelected(this)" accept="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel">
        </div>
    </div>
</div>
<div class="col-sm-12" ng-if="!disabled"><hr /></div>

<!-- <div class="col-sm-12"> -->
<div class="col-sm-6 pull-left">
    <label class="col-sm-12">General Information</label>
    <div class="col-sm-12" style="border: 1px solid #ccc; border-radius: 10px; padding-top: 5px; margin-bottom: 10px;">
        <!--<div class="form-group" ng-if="disabled">
            <label class="col-sm-5 control-label">Ticket type<span class="text-danger glyphicon-asterisk"></span></label>
            <div class="col-sm-7">
                <select class="form-control" name="bTicketType" ng-model="data.ticketType" ng-required="!disabled" ng-disabled="disabled">
                    <option value="Demand">Demand</option>
                    <option value="AOP">AOP</option>
                </select>
                <span class="has-error" ng-if="form.bTicketType.$error.required && (form.bTicketType.$touched || view.submitted)">Required field</span>
            </div>
        </div>-->
        <div class="form-group">
            <label class="col-sm-5 control-label">Network economics</label>
            <div class="col-sm-7">
                <input type="text" class="form-control" ng-model="data.networkEconomics" typeahead="name as users.name for users in getUser($viewValue)" typeahead-on-select="userSelected($item)" autocomplete="off" ng-disabled="disabled">
            </div>
        </div>
        <!--<div class="form-group" ng-if="disabled">
            <label class="col-sm-5 control-label">IPM team member<span class="text-danger glyphicon-asterisk"></span></label>
            <div class="col-sm-7">
                <select class="form-control" name="bIPMTeamMember" ng-model="data.ipmTeamMember" ng-required="!disabled" ng-disabled="disabled">
                    <option value="Dossan">Dossan</option>
                    <option value="Ilyas">Ilyas</option>
                    <option value="Gani">Gani</option>
                    <option value="Gaukhar">Gaukhar</option>
                </select>
                <span class="has-error" ng-if="form.bIPMTeamMember.$error.required && (form.bIPMTeamMember.$touched || view.submitted)">Required field</span>
            </div>
        </div>
        <div class="form-group">
            <label class="col-sm-5 control-label">IPM decision<span class="text-danger glyphicon-asterisk"></span></label>
            <div class="col-sm-7">
                <div ng-click="toggleSelect('ipmDecision')" class="col-sm-12 list-group-input" ng-style="{'cursor': (disabled?'not-allowed':'pointer'), 'background-color': (disabled?'#eee':'none')}" ng-class="{'list-group-input-active':selects.ipmDecision.visible}">
                    {{data.ipmDecision}}
                    <span ng-if="!disabled" style="position: absolute; right: 5px; top: 45%; font-size: 10px;">&#9660;</span>
                </div>
                <div class="col-sm-12" style="padding: 0;" ng-show="selects.ipmDecision.visible && !disabled">
                    <ul class="list-group">
                        <li class="list-group-item" ng-click="selectOption('ipmDecision', option)" ng-repeat="option in selects.ipmDecision.options">
                            {{option}}
                        </li>
                    </ul>
                </div>
                <span class="has-error" ng-if="data.ipmDecision.length == 0 && view.submitted">Required field</span>
            </div>
        </div>-->
    </div>
</div>

<div class="col-sm-6 pull-right">
    <label class="col-sm-12">Qualitative</label>
    <div class="col-sm-12" style="border: 1px solid #ccc; border-radius: 10px; padding-top: 5px; margin-bottom: 10px;">
        <div class="form-group">
            <label class="col-sm-5 control-label">Strategic Goal<span class="text-danger glyphicon-asterisk"></span></label>
            <div class="col-sm-7">
                <demand-dropdown ng-model="data.strategicGoal"
                                 options="['Revenue growth', 'Cost optimisation', 'Business continuity', 'Regulatory', 'Regular expenses']"
                                 on-item-select="onItemSelect"
                                 index="'strategicGoal'"
                                 disabled="disabled && !editableQualitative"
                                 nowrap="true"></demand-dropdown>

                <span class="has-error" ng-if="(!disabled || editableQualitative) && (!data.strategicGoal || !data.strategicGoal.length) && view.submitted">Required field</span>
            </div>
        </div>
        <div class="form-group">
            <label class="col-sm-5 control-label">Strategy fit<span class="text-danger glyphicon-asterisk"></span></label>
            <div class="col-sm-7">
                <demand-dropdown ng-model="data.strategyFit"
                                 options="selects.strategyFit.options"
                                 on-item-select="onItemSelect"
                                 index="'strategyFit'"
                                 disabled="disabled && !editableQualitative"
                                 nowrap="false"></demand-dropdown>
                <span class="has-error" ng-if="(!disabled || editableQualitative) && (!data.strategyFit || !data.strategyFit.length) && view.submitted">Required field</span>
            </div>
        </div>
        <div class="form-group">
            <label class="col-sm-5 control-label">Define business priority<span class="text-danger glyphicon-asterisk"></span></label>
            <div class="col-sm-7">
                <demand-dropdown ng-model="data.businessPriority"
                                 options="selects.businessPriority.options"
                                 on-item-select="onItemSelect"
                                 index="'businessPriority'"
                                 disabled="disabled && !editableQualitative"
                                 nowrap="false"></demand-dropdown>
                <span class="has-error" ng-if="(!disabled || editableQualitative) && (!data.businessPriority || !data.businessPriority.length) && view.submitted">Required field</span>
            </div>
        </div>
        <div class="form-group">
            <label class="col-sm-5 control-label">Define impact on operational activities<span class="text-danger glyphicon-asterisk"></span></label>
            <div class="col-sm-7">
                <demand-dropdown ng-model="data.opActivitiesImpact"
                                 options="selects.opActivitiesImpact.options"
                                 on-item-select="onItemSelect"
                                 index="'opActivitiesImpact'"
                                 disabled="disabled && !editableQualitative"
                                 nowrap="false"></demand-dropdown>
                <span class="has-error" ng-if="(!disabled || editableQualitative) && (!data.opActivitiesImpact || !data.opActivitiesImpact.length) && view.submitted">Required field</span>
            </div>
        </div>
    </div>
</div>
<!-- </div> -->


<!-- <div class="col-sm-12"> -->
<div class="col-sm-6 pull-left">
    <label class="col-sm-12">Quantitative</label>
    <div class="col-sm-12" style="border: 1px solid #ccc; border-radius: 10px; padding-top: 5px; margin-bottom: 10px;">
        <label ng-if="showBanchmark" class="col-sm-12">Benchmark</label>
        <div ng-if="showBanchmark" class="col-sm-12" style="border: 1px solid #ccc; border-radius: 10px; padding-top: 5px; margin-bottom: 10px; overflow: auto;">
            <div class="form-group">
                <label class="col-sm-5 control-label">Min PP</label>
                <label class="col-sm-7 control-label">{{data.benchmark.minPP | number: 2}}</label>
            </div>
            <div class="form-group">
                <label class="col-sm-5 control-label">Max ROI</label>
                <label class="col-sm-7 control-label">{{data.benchmark.maxROI | number: 0}}%</label>
            </div>
            <div class="form-group">
                <label class="col-sm-5 control-label">Max NPV</label>
                <label class="col-sm-7 control-label">{{data.benchmark.maxNPV | number: 0}}</label>
            </div>
            <div class="form-group">
                <label class="col-sm-5 control-label">Max PL</label>
                <label class="col-sm-7 control-label">{{data.benchmark.maxPL | number: 0}}</label>
            </div>
            <div class="form-group">
                <label class="col-sm-5 control-label">Max CF</label>
                <label class="col-sm-7 control-label">{{data.benchmark.maxCF | number: 0}}</label>
            </div>
            <div class="form-group">
                <label class="col-sm-5 control-label">WACC</label>
                <label class="col-sm-7 control-label">{{data.benchmark.wacc | number: (data.benchmark.wacc?1:0)}}%</label>
            </div>
        </div>
        <div class="form-group">
            <label class="col-sm-5 control-label">NPV</label>
            <div class="col-sm-7">
                <input type="text" class="form-control" name="bNPV" ng-model="data.npv" demand-number-format='0' disabled>
            </div>
        </div>
        <div class="form-group">
            <label class="col-sm-5 control-label">ROI</label>
            <div class="col-sm-7">
                <input type="text" class="form-control" name="bROI" ng-model="data.roi" demand-number-format='1' format-addon="'%'" disabled>
            </div>
        </div>
        <div class="form-group">
            <label class="col-sm-5 control-label">Payback period</label>
            <div class="col-sm-7">
                <input type="text" class="form-control" name="bPaybackPeriod" ng-model="data.paybackPeriod" demand-number-format='2' disabled>
            </div>
        </div>
        <div class="form-group">
            <label class="col-sm-5 control-label">P&L effect first year</label>
            <div class="col-sm-7">
                <input type="text" class="form-control" name="bPLEffect" ng-model="data.plEffect" demand-number-format='0' disabled>
            </div>
        </div>
        <div class="form-group">
            <label class="col-sm-5 control-label">CF effect first year</label>
            <div class="col-sm-7">
                <input type="text" class="form-control" name="bCFEffect" ng-model="data.cfEffect" demand-number-format='0' disabled>
            </div>
        </div>
    </div>
</div>

<div class="col-sm-6 pull-right">
    <label class="col-sm-12">Scoring</label>
    <div class="col-sm-12" style="border: 1px solid #ccc; border-radius: 10px; padding-top: 5px; margin-bottom: 10px;">
        <div class="col-sm-7">
            <div class="form-group">
                <label class="col-sm-5 control-label">Quantitative score</label>
                <div class="col-sm-7">
                    <input type="text" class="form-control" name="bQuantitativeScore" ng-model="data.quantitativeScore" demand-number-format='1' format-addon="'%'" disabled>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-5 control-label">Qualitative score</label>
                <div class="col-sm-7">
                    <input type="text" class="form-control" name="bQualitativeScore" ng-model="data.qualitativeScore" demand-number-format='1' format-addon="'%'" disabled>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-5 control-label">Strategy Fit</label>
                <div class="col-sm-7">
                    <input type="text" class="form-control" name="bStrategyFitScore" ng-model="data.strategyFitScore" demand-number-format='1' format-addon="'%'" disabled>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-5 control-label">Risks / Opportunities / Business priority</label>
                <div class="col-sm-7">
                    <input type="text" class="form-control" name="bBusinessPriorityScore" ng-model="data.businessPriorityScore" demand-number-format='1' format-addon="'%'" disabled>
                </div>
            </div>
        </div>
        <div class="col-sm-5">
            <div class="form-group text-center" style="margin-top: 50px;">
                <label class="col-sm-12">Score</label>
                <div class="col-sm-12">
                    <input type="text" style="font-size: 30px; height: 80px;" class="form-control" name="bScore" ng-model="data.score" demand-number-format='1' format-addon="'%'" disabled>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- </div> -->

<div class="col-sm-12">
    <label class="col-sm-12">Financial Information</label>
    <div class="col-sm-12" style="border: 1px solid #ccc; border-radius: 10px; padding-top: 10px; margin-bottom: 10px;">
        <label class="col-sm-12">Cash flow</label>
        <div class="col-sm-12" style="border: 1px solid #ccc; border-radius: 10px; padding-top: 10px; margin-bottom: 10px; max-width: 100%; overflow: auto;">
            <div class="col-sm-12" ng-style="{'min-width': (2500 + (collapse.cashFlow1 + collapse.cashFlow2) * 750) + 'px'}">
                <div class="fixed-header-table-container" ng-style="{'height': (disabled?'auto':'400px')}">
                    <div class="fixed-header-table-container-inner">
                        <table class="table table-borderless">
                            <thead>
                            <tr>
                                <th class="text-center"><span>ROC name</span><i style="visibility:hidden;">ROC name</i></th>
                                <th class="text-center"><span>WBS/Budget line name</span><i style="visibility:hidden;">WBS/Budget line name</i></th>
                                <th class="text-center"><span>Cost executor (cost planning)</span><i style="visibility:hidden;">Cost executor (cost planning)</span></th>
                                <th class="text-center"><span>Purchasing group</span><i style="visibility:hidden;">Purchasing group</i></th>
                                <th class="text-center"><span>CM contract</span><i style="visibility:hidden;">CM contract</i></th>
                                <th class="text-center"><span>CM contract add</span><i style="visibility:hidden;">CM contract add</i></th>
                                <th class="text-center"><span>Agreement start date</span><i style="visibility:hidden;">Agreement start date</i></th>
                                <th class="text-center"><span>Agreement end date</span><i style="visibility:hidden;">Agreement end date</i></th>
                                <th class="text-center"><span>total contract amount</span><i style="visibility:hidden;">total contract amount</i></th>
                                <th class="text-center" style="border-right: 2px solid #555;"><span>Dep. code</span><i style="visibility:hidden;">Dep. code</i></th>

                                <th ng-if="!collapse.cashFlow1">
                                        <span ng-if="disabled">
                                            <a ng-click="toggleCollapse('cashFlow1')">
                                                <i class="glyphicon glyphicon-collapse-{{collapse.cashFlow1?'up':'down'}}"></i>
                                                {{data.firstYear}}
                                            </a>
                                        </span>
                                    <i ng-if="disabled" style="visibility:hidden;">
                                        <a ng-click="toggleCollapse('cashFlow1')">
                                            <i class="glyphicon glyphicon-collapse-{{collapse.cashFlow1?'up':'down'}}"></i>
                                            {{data.firstYear}}
                                        </a>
                                    </i>
                                    <span ng-if="!disabled">
                                            <div class="col-sm-2">
                                                <a ng-click="toggleCollapse('cashFlow1')">
                                                    <i class="glyphicon glyphicon-collapse-{{collapse.cashFlow1?'up':'down'}}"></i>
                                                </a>
                                            </div>
                                            <div class="col-sm-8">
                                                <input type="number" class="form-control" ng-model="data.firstYear">
                                            </div>
                                        </span>
                                    <i ng-if="!disabled" style="visibility:hidden;">
                                        <div class="col-sm-2">
                                            <a ng-click="toggleCollapse('cashFlow1')">
                                                <i class="glyphicon glyphicon-collapse-{{collapse.cashFlow1?'up':'down'}}"></i>
                                            </a>
                                        </div>
                                        <div class="col-sm-8">
                                            <input type="number" class="form-control" ng-model="data.firstYear">
                                        </div>
                                    </i>
                                </th>
                                <th ng-if="collapse.cashFlow1" ng-repeat="m in months track by $index" class="text-center">
                                        <span>
                                            <a ng-click="toggleCollapse('cashFlow1')" ng-if="$index == 0">
                                                <i class="glyphicon glyphicon-collapse-{{collapse.cashFlow2?'up':'down'}}"></i>{{data.firstYear}}
                                            </a>
                                            {{m}}
                                        </span>
                                    <i style="visibility:hidden;">
                                        <a ng-click="toggleCollapse('cashFlow1')" ng-if="$index == 0">
                                            <i class="glyphicon glyphicon-collapse-{{collapse.cashFlow2?'up':'down'}}"></i>{{data.firstYear}}
                                        </a>
                                        {{m}}
                                    </i>
                                </th>

                                <th ng-if="!collapse.cashFlow2">
                                        <span>
                                            <a ng-click="toggleCollapse('cashFlow2')">
                                                <i class="glyphicon glyphicon-collapse-{{collapse.cashFlow2?'up':'down'}}"></i>{{data.firstYear + 1}}
                                            </a>
                                        </span>
                                    <i style="visibility:hidden; all: none;">
                                        <a ng-click="toggleCollapse('cashFlow2')">
                                            <i class="glyphicon glyphicon-collapse-{{collapse.cashFlow2?'up':'down'}}"></i>{{data.firstYear + 1}}
                                        </a>
                                    </i>
                                </th>
                                <th ng-if="collapse.cashFlow2" ng-repeat="m in months track by $index" class="text-center">
                                        <span>
                                            <a ng-click="toggleCollapse('cashFlow2')" ng-if="$index == 0">
                                                <i class="glyphicon glyphicon-collapse-{{collapse.cashFlow2?'up':'down'}}"></i>{{data.firstYear + 1}}
                                            </a>
                                            {{m}}
                                        </span>
                                    <i style="visibility:hidden;">
                                        <a ng-click="toggleCollapse('cashFlow2')" ng-if="$index == 0">
                                            <i class="glyphicon glyphicon-collapse-{{collapse.cashFlow2?'up':'down'}}"></i>{{data.firstYear + 1}}
                                        </a>
                                        {{m}}
                                    </i>
                                </th>

                                <th ng-repeat="i in [2, 3, 4]" class="text-center">
                                    <span ng-if="data.firstYear">{{data.firstYear + i}}</span>
                                    <i ng-if="data.firstYear" style="visibility:hidden;">{{data.firstYear + i}}</i>
                                </th>
                                <th class="text-center"><span>Source</span><i style="visibility:hidden;">Source</i></th>
                                <th class="text-center" ng-if="!disabled"><span></span><i style="visibility:hidden;"></i></th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr>
                                <td colspan="10" style="border-right: 2px solid #555;"><label>Revenue</label></td>
                                <td ng-if="!collapse.cashFlow1">
                                    {{data.cashFlow.revenuesTotal.year[1] | number: 0}}
                                </td>
                                <td ng-if="collapse.cashFlow1" ng-repeat="m in months track by $index">
                                    {{data.cashFlow.revenuesTotal.month[1][m] | number: 0}}
                                </td>
                                <td ng-if="!collapse.cashFlow2">
                                    {{data.cashFlow.revenuesTotal.year[2] | number: 0}}
                                </td>
                                <td ng-if="collapse.cashFlow2" ng-repeat="m in months track by $index">
                                    {{data.cashFlow.revenuesTotal.month[2][m] | number: 0}}
                                </td>
                                <td ng-repeat="y in [3, 4, 5]">
                                    {{data.cashFlow.revenuesTotal.year[y] | number: 0}}
                                </td>
                                <td></td>
                                <td ng-if="!disabled" class="text-center">
                                    <a style="font-size: 25px;" ng-click="addItem('revenues')">
                                        <span class="glyphicon glyphicon-plus-sign"></span>
                                    </a>
                                </td>
                            </tr>
                            <tr ng-repeat="i in data.cashFlow.revenues track by $index">
                                <td>
                                    <span ng-if="disabled">{{i.rocName}}</span>
                                    <span ng-if="!disabled">
                                            <textarea rows="1" elastic-textarea class="form-control" ng-model="i.rocName"></textarea>
                                        </span>
                                </td>
                                <td>
                                    <span ng-if="disabled">{{i.wbs}}</span>
                                    <span ng-if="!disabled">
                                            <textarea rows="1" elastic-textarea class="form-control" ng-model="i.wbs"></textarea>
                                        </span>
                                </td>
                                <td>
                                    <span ng-if="disabled">{{i.cost}}</span>
                                    <span ng-if="!disabled">
                                            <textarea rows="1" elastic-textarea class="form-control" ng-model="i.cost"></textarea>
                                        </span>
                                </td>
                                <td>
                                    <span ng-if="disabled">{{i.purchasing}}</span>
                                    <span ng-if="!disabled">
                                            <textarea rows="1" elastic-textarea class="form-control" ng-model="i.purchasing"></textarea>
                                        </span>
                                </td>
                                <td>
                                    <span ng-if="disabled">{{i.contract}}</span>
                                    <span ng-if="!disabled">
                                            <textarea rows="1" elastic-textarea class="form-control" ng-model="i.contract"></textarea>
                                        </span>
                                </td>
                                <td>
                                    <span ng-if="disabled">{{i.contractAdd}}</span>
                                    <span ng-if="!disabled">
                                            <textarea rows="1" elastic-textarea class="form-control" ng-model="i.contractAdd"></textarea>
                                        </span>
                                </td>
                                <td>
                                    <span ng-if="disabled">{{i.startDate}}</span>
                                    <span ng-if="!disabled">
                                            <textarea rows="1" elastic-textarea class="form-control" ng-model="i.startDate"></textarea>
                                        </span>
                                </td>
                                <td>
                                    <span ng-if="disabled">{{i.endDate}}</span>
                                    <span ng-if="!disabled">
                                            <textarea rows="1" elastic-textarea class="form-control" ng-model="i.endDate"></textarea>
                                        </span>
                                </td>
                                <td>
                                    <span ng-if="disabled">{{i.amount}}</span>
                                    <span ng-if="!disabled">
                                            <textarea rows="1" elastic-textarea class="form-control" ng-model="i.amount"></textarea>
                                        </span>
                                </td>
                                <td style="border-right: 2px solid #555;">
                                    <span ng-if="disabled">{{i.depCode}}</span>
                                    <span ng-if="!disabled">
                                            <textarea rows="1" elastic-textarea class="form-control" ng-model="i.depCode"></textarea>
                                        </span>
                                </td>
                                <td ng-if="!collapse.cashFlow1">
                                    <span ng-if="disabled">{{i.year[1] | number: 0}}</span>
                                    <span ng-if="!disabled">
                                            <textarea rows="1" elastic-textarea class="form-control" ng-model="i.year[1]" ng-change="onChange()" demand-number-format='0'></textarea>
                                        </span>
                                </td>
                                <td ng-repeat="m in months" ng-if="collapse.cashFlow1">
                                    <span ng-if="disabled">{{i.month[1][m] | number: 0}}</span>
                                    <span ng-if="!disabled">
                                            <textarea rows="1" elastic-textarea class="form-control" ng-model="i.month[1][m]" ng-change="onChange()" demand-number-format='0'></textarea>
                                        </span>
                                </td>
                                <td ng-if="!collapse.cashFlow2">
                                    <span ng-if="disabled">{{i.year[2] | number: 0}}</span>
                                    <span ng-if="!disabled">
                                            <textarea rows="1" elastic-textarea class="form-control" ng-model="i.year[2]" ng-change="onChange()" demand-number-format='0'></textarea>
                                        </span>
                                </td>
                                <td ng-repeat="m in months" ng-if="collapse.cashFlow2">
                                    <span ng-if="disabled">{{i.month[2][m] | number: 0}}</span>
                                    <span ng-if="!disabled">
                                            <textarea rows="1" elastic-textarea class="form-control" ng-model="i.month[2][m]" ng-change="onChange()" demand-number-format='0'></textarea>
                                        </span>
                                </td>
                                <td ng-repeat="y in [3, 4, 5]">
                                    <span ng-if="disabled">{{i.year[y] | number: 0}}</span>
                                    <span ng-if="!disabled">
                                            <textarea rows="1" elastic-textarea class="form-control" ng-model="i.year[y]" ng-change="onChange()" demand-number-format='0'></textarea>
                                        </span>
                                </td>
                                <td>
                                    <span ng-if="disabled">{{i.source}}</span>
                                    <span ng-if="!disabled">
                                            <select class="form-control" ng-model="i.source">
                                                <option value="Direct">Direct</option>
                                                <option value="Potential">Potential</option>
                                            </select>
                                        </span>
                                </td>
                                <td ng-if="!disabled" class="text-center">
                                    <button type="button" class="btn btn-default" ng-click="deleteItem($index, 'revenues')">Delete</button>
                                </td>
                            </tr>
                            <!--OPEX-->
                            <tr style="border-top: 2px solid #555">
                                <td colspan="10" style="border-right: 2px solid #555;"><label>Opex</label></td>
                                <td ng-if="!collapse.cashFlow1">
                                    {{data.cashFlow.opexesTotal.year[1] | number: 0}}
                                </td>
                                <td ng-if="collapse.cashFlow1" ng-repeat="m in months track by $index">
                                    {{data.cashFlow.opexesTotal.month[1][m] | number: 0}}
                                </td>
                                <td ng-if="!collapse.cashFlow2">
                                    {{data.cashFlow.opexesTotal.year[2] | number: 0}}
                                </td>
                                <td ng-if="collapse.cashFlow2" ng-repeat="m in months track by $index">
                                    {{data.cashFlow.opexesTotal.month[2][m] | number: 0}}
                                </td>
                                <td ng-repeat="y in [3, 4, 5]">
                                    {{data.cashFlow.opexesTotal.year[y] | number: 0}}
                                </td>
                                <td></td>
                                <td ng-if="!disabled" class="text-center">
                                    <a style="font-size: 25px;" ng-click="addItem('opexes')">
                                        <span class="glyphicon glyphicon-plus-sign"></span>
                                    </a>
                                </td>
                            </tr>
                            <tr ng-repeat="i in data.cashFlow.opexes track by $index">
                                <td>
                                    <span ng-if="disabled">{{i.rocName}}</span>
                                    <span ng-if="!disabled">
                                            <textarea rows="1" elastic-textarea class="form-control" ng-model="i.rocName"></textarea>
                                        </span>
                                </td>
                                <td>
                                    <span ng-if="disabled">{{i.wbs}}</span>
                                    <span ng-if="!disabled">
                                            <textarea rows="1" elastic-textarea class="form-control" ng-model="i.wbs"></textarea>
                                        </span>
                                </td>
                                <td>
                                    <span ng-if="disabled">{{i.cost}}</span>
                                    <span ng-if="!disabled">
                                            <textarea rows="1" elastic-textarea class="form-control" ng-model="i.cost"></textarea>
                                        </span>
                                </td>
                                <td>
                                    <span ng-if="disabled">{{i.purchasing}}</span>
                                    <span ng-if="!disabled">
                                            <textarea rows="1" elastic-textarea class="form-control" ng-model="i.purchasing"></textarea>
                                        </span>
                                </td>
                                <td>
                                    <span ng-if="disabled">{{i.contract}}</span>
                                    <span ng-if="!disabled">
                                            <textarea rows="1" elastic-textarea class="form-control" ng-model="i.contract"></textarea>
                                        </span>
                                </td>
                                <td>
                                    <span ng-if="disabled">{{i.contractAdd}}</span>
                                    <span ng-if="!disabled">
                                            <textarea rows="1" elastic-textarea class="form-control" ng-model="i.contractAdd"></textarea>
                                        </span>
                                </td>
                                <td>
                                    <span ng-if="disabled">{{i.startDate}}</span>
                                    <span ng-if="!disabled">
                                            <textarea rows="1" elastic-textarea class="form-control" ng-model="i.startDate"></textarea>
                                        </span>
                                </td>
                                <td>
                                    <span ng-if="disabled">{{i.endDate}}</span>
                                    <span ng-if="!disabled">
                                            <textarea rows="1" elastic-textarea class="form-control" ng-model="i.endDate"></textarea>
                                        </span>
                                </td>
                                <td>
                                    <span ng-if="disabled">{{i.amount}}</span>
                                    <span ng-if="!disabled">
                                            <textarea rows="1" elastic-textarea class="form-control" ng-model="i.amount"></textarea>
                                        </span>
                                </td>
                                <td style="border-right: 2px solid #555;">
                                    <span ng-if="disabled">{{i.depCode}}</span>
                                    <span ng-if="!disabled">
                                            <textarea rows="1" elastic-textarea class="form-control" ng-model="i.depCode"></textarea>
                                        </span>
                                </td>
                                <td ng-if="!collapse.cashFlow1">
                                    <span ng-if="disabled">{{i.year[1] | number: 0}}</span>
                                    <span ng-if="!disabled">
                                            <textarea rows="1" elastic-textarea class="form-control" ng-model="i.year[1]" ng-change="onChange()" demand-number-format='0'></textarea>
                                        </span>
                                </td>
                                <td ng-repeat="m in months" ng-if="collapse.cashFlow1">
                                    <span ng-if="disabled">{{i.month[1][m] | number: 0}}</span>
                                    <span ng-if="!disabled">
                                            <textarea rows="1" elastic-textarea class="form-control" ng-model="i.month[1][m]" ng-change="onChange()" demand-number-format='0'></textarea>
                                        </span>
                                </td>
                                <td ng-if="!collapse.cashFlow2">
                                    <span ng-if="disabled">{{i.year[2] | number: 0}}</span>
                                    <span ng-if="!disabled">
                                            <textarea rows="1" elastic-textarea class="form-control" ng-model="i.year[2]" ng-change="onChange()" demand-number-format='0'></textarea>
                                        </span>
                                </td>
                                <td ng-repeat="m in months" ng-if="collapse.cashFlow2">
                                    <span ng-if="disabled">{{i.month[2][m] | number: 0}}</span>
                                    <span ng-if="!disabled">
                                            <textarea rows="1" elastic-textarea class="form-control" ng-model="i.month[2][m]" ng-change="onChange()" demand-number-format='0'></textarea>
                                        </span>
                                </td>
                                <td ng-repeat="y in [3, 4, 5]">
                                    <span ng-if="disabled">{{i.year[y] | number: 0}}</span>
                                    <span ng-if="!disabled">
                                            <textarea rows="1" elastic-textarea class="form-control" ng-model="i.year[y]" ng-change="onChange()" demand-number-format='0'></textarea>
                                        </span>
                                </td>
                                <td>
                                    <span ng-if="disabled">{{i.source}}</span>
                                    <span ng-if="!disabled">
                                            <select class="form-control" ng-model="i.source">
                                                <option value="Direct">Direct</option>
                                                <option value="Potential">Potential</option>
                                            </select>
                                        </span>
                                </td>
                                <td ng-if="!disabled" class="text-center">
                                    <button type="button" class="btn btn-default" ng-click="deleteItem($index, 'opexes')">Delete</button>
                                </td>
                            </tr>
                            <!--CAPEX-->
                            <tr style="border-top: 2px solid #555">
                                <td colspan="10" style="border-right: 2px solid #555;"><label>Capex</label></td>
                                <td ng-if="!collapse.cashFlow1">
                                    {{data.cashFlow.capexesTotal.year[1] | number: 0}}
                                </td>
                                <td ng-if="collapse.cashFlow1" ng-repeat="m in months track by $index">
                                    {{data.cashFlow.capexesTotal.month[1][m] | number: 0}}
                                </td>
                                <td ng-if="!collapse.cashFlow2">
                                    {{data.cashFlow.capexesTotal.year[2] | number: 0}}
                                </td>
                                <td ng-if="collapse.cashFlow2" ng-repeat="m in months track by $index">
                                    {{data.cashFlow.capexesTotal.month[2][m] | number: 0}}
                                </td>
                                <td ng-repeat="y in [3, 4, 5]">
                                    {{data.cashFlow.capexesTotal.year[y] | number: 0}}
                                </td>
                                <td></td>
                                <td ng-if="!disabled" class="text-center">
                                    <a style="font-size: 25px;" ng-click="addItem('capexes')">
                                        <span class="glyphicon glyphicon-plus-sign"></span>
                                    </a>
                                </td>
                            </tr>
                            <tr ng-repeat="i in data.cashFlow.capexes track by $index">
                                <td>
                                    <span ng-if="disabled">{{i.rocName}}</span>
                                    <span ng-if="!disabled">
                                            <textarea rows="1" elastic-textarea class="form-control" ng-model="i.rocName"></textarea>
                                        </span>
                                </td>
                                <td>
                                    <span ng-if="disabled">{{i.wbs}}</span>
                                    <span ng-if="!disabled">
                                            <textarea rows="1" elastic-textarea class="form-control" ng-model="i.wbs"></textarea>
                                        </span>
                                </td>
                                <td>
                                    <span ng-if="disabled">{{i.cost}}</span>
                                    <span ng-if="!disabled">
                                            <textarea rows="1" elastic-textarea class="form-control" ng-model="i.cost"></textarea>
                                        </span>
                                </td>
                                <td>
                                    <span ng-if="disabled">{{i.purchasing}}</span>
                                    <span ng-if="!disabled">
                                            <textarea rows="1" elastic-textarea class="form-control" ng-model="i.purchasing"></textarea>
                                        </span>
                                </td>
                                <td>
                                    <span ng-if="disabled">{{i.contract}}</span>
                                    <span ng-if="!disabled">
                                            <textarea rows="1" elastic-textarea class="form-control" ng-model="i.contract"></textarea>
                                        </span>
                                </td>
                                <td>
                                    <span ng-if="disabled">{{i.contractAdd}}</span>
                                    <span ng-if="!disabled">
                                            <textarea rows="1" elastic-textarea class="form-control" ng-model="i.contractAdd"></textarea>
                                        </span>
                                </td>
                                <td>
                                    <span ng-if="disabled">{{i.startDate}}</span>
                                    <span ng-if="!disabled">
                                            <textarea rows="1" elastic-textarea class="form-control" ng-model="i.startDate"></textarea>
                                        </span>
                                </td>
                                <td>
                                    <span ng-if="disabled">{{i.endDate}}</span>
                                    <span ng-if="!disabled">
                                            <textarea rows="1" elastic-textarea class="form-control" ng-model="i.endDate"></textarea>
                                        </span>
                                </td>
                                <td>
                                    <span ng-if="disabled">{{i.amount}}</span>
                                    <span ng-if="!disabled">
                                            <textarea rows="1" elastic-textarea class="form-control" ng-model="i.amount"></textarea>
                                        </span>
                                </td>
                                <td style="border-right: 2px solid #555;">
                                    <span ng-if="disabled">{{i.depCode}}</span>
                                    <span ng-if="!disabled">
                                            <textarea rows="1" elastic-textarea class="form-control" ng-model="i.depCode"></textarea>
                                        </span>
                                </td>
                                <td ng-if="!collapse.cashFlow1">
                                    <span ng-if="disabled">{{i.year[1] | number: 0}}</span>
                                    <span ng-if="!disabled">
                                            <textarea rows="1" elastic-textarea class="form-control" ng-model="i.year[1]" ng-change="onChange()" demand-number-format='0'></textarea>
                                        </span>
                                </td>
                                <td ng-repeat="m in months" ng-if="collapse.cashFlow1">
                                    <span ng-if="disabled">{{i.month[1][m] | number: 0}}</span>
                                    <span ng-if="!disabled">
                                            <textarea rows="1" elastic-textarea class="form-control" ng-model="i.month[1][m]" ng-change="onChange()" demand-number-format='0'></textarea>
                                        </span>
                                </td>
                                <td ng-if="!collapse.cashFlow2">
                                    <span ng-if="disabled">{{i.year[2] | number: 0}}</span>
                                    <span ng-if="!disabled">
                                            <textarea rows="1" elastic-textarea class="form-control" ng-model="i.year[2]" ng-change="onChange()" demand-number-format='0'></textarea>
                                        </span>
                                </td>
                                <td ng-repeat="m in months" ng-if="collapse.cashFlow2">
                                    <span ng-if="disabled">{{i.month[2][m] | number: 0}}</span>
                                    <span ng-if="!disabled">
                                            <textarea rows="1" elastic-textarea class="form-control" ng-model="i.month[2][m]" ng-change="onChange()" demand-number-format='0'></textarea>
                                        </span>
                                </td>
                                <td ng-repeat="y in [3, 4, 5]">
                                    <span ng-if="disabled">{{i.year[y] | number: 0}}</span>
                                    <span ng-if="!disabled">
                                            <textarea rows="1" elastic-textarea class="form-control" ng-model="i.year[y]" ng-change="onChange()" demand-number-format='0'></textarea>
                                        </span>
                                </td>
                                <td>
                                    <span ng-if="disabled">{{i.source}}</span>
                                    <span ng-if="!disabled">
                                            <select class="form-control" ng-model="i.source">
                                                <option value="Direct">Direct</option>
                                                <option value="Potential">Potential</option>
                                            </select>
                                        </span>
                                </td>
                                <td ng-if="!disabled" class="text-center">
                                    <button type="button" class="btn btn-default" ng-click="deleteItem($index, 'capexes')">Delete</button>
                                </td>
                            </tr>
                            <!--COGS-->
                            <tr style="border-top: 2px solid #555">
                                <td colspan="10" style="border-right: 2px solid #555;"><label>Cogs</label></td>
                                <td ng-if="!collapse.cashFlow1">
                                    {{data.cashFlow.cogsTotal.year[1] | number: 0}}
                                </td>
                                <td ng-if="collapse.cashFlow1" ng-repeat="m in months track by $index">
                                    {{data.cashFlow.cogsTotal.month[1][m] | number: 0}}
                                </td>
                                <td ng-if="!collapse.cashFlow2">
                                    {{data.cashFlow.cogsTotal.year[2] | number: 0}}
                                </td>
                                <td ng-if="collapse.cashFlow2" ng-repeat="m in months track by $index">
                                    {{data.cashFlow.cogsTotal.month[2][m] | number: 0}}
                                </td>
                                <td ng-repeat="y in [3, 4, 5]">
                                    {{data.cashFlow.cogsTotal.year[y] | number: 0}}
                                </td>
                                <td></td>
                                <td ng-if="!disabled" class="text-center">
                                    <a style="font-size: 25px;" ng-click="addItem('cogs')">
                                        <span class="glyphicon glyphicon-plus-sign"></span>
                                    </a>
                                </td>
                            </tr>
                            <tr ng-repeat="i in data.cashFlow.cogs track by $index">
                                <td>
                                    <span ng-if="disabled">{{i.rocName}}</span>
                                    <span ng-if="!disabled">
                                            <textarea rows="1" elastic-textarea class="form-control" ng-model="i.rocName"></textarea>
                                        </span>
                                </td>
                                <td>
                                    <span ng-if="disabled">{{i.wbs}}</span>
                                    <span ng-if="!disabled">
                                            <textarea rows="1" elastic-textarea class="form-control" ng-model="i.wbs"></textarea>
                                        </span>
                                </td>
                                <td>
                                    <span ng-if="disabled">{{i.cost}}</span>
                                    <span ng-if="!disabled">
                                            <textarea rows="1" elastic-textarea class="form-control" ng-model="i.cost"></textarea>
                                        </span>
                                </td>
                                <td>
                                    <span ng-if="disabled">{{i.purchasing}}</span>
                                    <span ng-if="!disabled">
                                            <textarea rows="1" elastic-textarea class="form-control" ng-model="i.purchasing"></textarea>
                                        </span>
                                </td>
                                <td>
                                    <span ng-if="disabled">{{i.contract}}</span>
                                    <span ng-if="!disabled">
                                            <textarea rows="1" elastic-textarea class="form-control" ng-model="i.contract"></textarea>
                                        </span>
                                </td>
                                <td>
                                    <span ng-if="disabled">{{i.contractAdd}}</span>
                                    <span ng-if="!disabled">
                                            <textarea rows="1" elastic-textarea class="form-control" ng-model="i.contractAdd"></textarea>
                                        </span>
                                </td>
                                <td>
                                    <span ng-if="disabled">{{i.startDate}}</span>
                                    <span ng-if="!disabled">
                                            <textarea rows="1" elastic-textarea class="form-control" ng-model="i.startDate"></textarea>
                                        </span>
                                </td>
                                <td>
                                    <span ng-if="disabled">{{i.endDate}}</span>
                                    <span ng-if="!disabled">
                                            <textarea rows="1" elastic-textarea class="form-control" ng-model="i.endDate"></textarea>
                                        </span>
                                </td>
                                <td>
                                    <span ng-if="disabled">{{i.amount}}</span>
                                    <span ng-if="!disabled">
                                            <textarea rows="1" elastic-textarea class="form-control" ng-model="i.amount"></textarea>
                                        </span>
                                </td>
                                <td style="border-right: 2px solid #555;">
                                    <span ng-if="disabled">{{i.depCode}}</span>
                                    <span ng-if="!disabled">
                                            <textarea rows="1" elastic-textarea class="form-control" ng-model="i.depCode"></textarea>
                                        </span>
                                </td>
                                <td ng-if="!collapse.cashFlow1">
                                    <span ng-if="disabled">{{i.year[1] | number: 0}}</span>
                                    <span ng-if="!disabled">
                                            <textarea rows="1" elastic-textarea class="form-control" ng-model="i.year[1]" ng-change="onChange()" demand-number-format='0'></textarea>
                                        </span>
                                </td>
                                <td ng-repeat="m in months" ng-if="collapse.cashFlow1">
                                    <span ng-if="disabled">{{i.month[1][m] | number: 0}}</span>
                                    <span ng-if="!disabled">
                                            <textarea rows="1" elastic-textarea class="form-control" ng-model="i.month[1][m]" ng-change="onChange()" demand-number-format='0'></textarea>
                                        </span>
                                </td>
                                <td ng-if="!collapse.cashFlow2">
                                    <span ng-if="disabled">{{i.year[2] | number: 0}}</span>
                                    <span ng-if="!disabled">
                                            <textarea rows="1" elastic-textarea class="form-control" ng-model="i.year[2]" ng-change="onChange()" demand-number-format='0'></textarea>
                                        </span>
                                </td>
                                <td ng-repeat="m in months" ng-if="collapse.cashFlow2">
                                    <span ng-if="disabled">{{i.month[2][m] | number: 0}}</span>
                                    <span ng-if="!disabled">
                                            <textarea rows="1" elastic-textarea class="form-control" ng-model="i.month[2][m]" ng-change="onChange()" demand-number-format='0'></textarea>
                                        </span>
                                </td>
                                <td ng-repeat="y in [3, 4, 5]">
                                    <span ng-if="disabled">{{i.year[y] | number: 0}}</span>
                                    <span ng-if="!disabled">
                                            <textarea rows="1" elastic-textarea class="form-control" ng-model="i.year[y]" ng-change="onChange()" demand-number-format='0'></textarea>
                                        </span>
                                </td>
                                <td>
                                    <span ng-if="disabled">{{i.source}}</span>
                                    <span ng-if="!disabled">
                                            <select class="form-control" ng-model="i.source">
                                                <option value="Direct">Direct</option>
                                                <option value="Potential">Potential</option>
                                            </select>
                                        </span>
                                </td>
                                <td ng-if="!disabled" class="text-center">
                                    <button type="button" class="btn btn-default" ng-click="deleteItem($index, 'cogs')">Delete</button>
                                </td>
                            </tr>
                            <!--INCOME-->
                            <tr style="border-top: 2px solid #555">
                                <td colspan="10" style="border-right: 2px solid #555;"><label>Income tax</label></td>
                                <td ng-if="!collapse.cashFlow1">
                                    {{data.cashFlow.incomeTotal.year[1] | number: 0}}
                                </td>
                                <td ng-if="collapse.cashFlow1" ng-repeat="m in months track by $index">
                                    {{data.cashFlow.incomeTotal.month[1][m] | number: 0}}
                                </td>
                                <td ng-if="!collapse.cashFlow2">
                                    {{data.cashFlow.incomeTotal.year[2] | number: 0}}
                                </td>
                                <td ng-if="collapse.cashFlow2" ng-repeat="m in months track by $index">
                                    {{data.cashFlow.incomeTotal.month[2][m] | number: 0}}
                                </td>
                                <td ng-repeat="y in [3, 4, 5]">
                                    {{data.cashFlow.incomeTotal.year[y] | number: 0}}
                                </td>
                                <td></td>
                                <td ng-if="!disabled" class="text-center">
                                </td>
                            </tr>
                            <tr ng-repeat="i in data.cashFlow.income track by $index">
                                <td colspan="10" style="border-right: 2px solid #555;"></td>
                                <td ng-if="!collapse.cashFlow1">
                                    <span ng-if="disabled">{{i.year[1] | number: 0}}</span>
                                    <span ng-if="!disabled">
                                            <textarea rows="1" elastic-textarea class="form-control" ng-model="i.year[1]" ng-change="onChange()" demand-number-format='0'></textarea>
                                        </span>
                                </td>
                                <td ng-repeat="m in months" ng-if="collapse.cashFlow1">
                                    <span ng-if="disabled">{{i.month[1][m] | number: 0}}</span>
                                    <span ng-if="!disabled">
                                            <textarea rows="1" elastic-textarea class="form-control" ng-model="i.month[1][m]" ng-change="onChange()" demand-number-format='0'></textarea>
                                        </span>
                                </td>
                                <td ng-if="!collapse.cashFlow2">
                                    <span ng-if="disabled">{{i.year[2] | number: 0}}</span>
                                    <span ng-if="!disabled">
                                            <textarea rows="1" elastic-textarea class="form-control" ng-model="i.year[2]" ng-change="onChange()" demand-number-format='0'></textarea>
                                        </span>
                                </td>
                                <td ng-repeat="m in months" ng-if="collapse.cashFlow2">
                                    <span ng-if="disabled">{{i.month[2][m] | number: 0}}</span>
                                    <span ng-if="!disabled">
                                            <textarea rows="1" elastic-textarea class="form-control" ng-model="i.month[2][m]" ng-change="onChange()" demand-number-format='0'></textarea>
                                        </span>
                                </td>
                                <td ng-repeat="y in [3, 4, 5]">
                                    <span ng-if="disabled">{{i.year[y] | number: 0}}</span>
                                    <span ng-if="!disabled">
                                            <textarea rows="1" elastic-textarea class="form-control" ng-model="i.year[y]" ng-change="onChange()" demand-number-format='0'></textarea>
                                        </span>
                                </td>
                                <td>
                                    <span ng-if="disabled">{{i.source}}</span>
                                    <span ng-if="!disabled">
                                            <select class="form-control" ng-model="i.source">
                                                <option value="Direct">Direct</option>
                                                <option value="Potential">Potential</option>
                                            </select>
                                        </span>
                                </td>
                                <td ng-if="!disabled" class="text-center">
                                </td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>

        <label class="col-sm-12" style="margin-top: 15px;">Accruals</label>
        <div class="col-sm-12" style="border: 1px solid #ccc; border-radius: 10px; padding-top: 10px; margin-bottom: 10px; max-width: 100%; overflow: auto;">
            <div class="col-sm-12" ng-style="{'min-width': (1500 + (collapse.accurals1 + collapse.accurals2) * 750) + 'px'}">
                <div class="fixed-header-table-container" ng-style="{'height': (disabled?'auto':'400px')}">
                    <div class="fixed-header-table-container-inner">
                        <table class="table table-borderless">
                            <thead>
                            <tr>
                                <th><span></span><i style="visibility:hidden;"></i></th>

                                <th ng-if="!collapse.accurals1">
                                        <span>
                                            <a ng-click="toggleCollapse('accurals1')">
                                                <i class="glyphicon glyphicon-collapse-{{collapse.accurals1?'up':'down'}}"></i>{{data.firstYear}}
                                            </a>
                                        </span>
                                    <i style="visibility:hidden;">
                                        <a ng-click="toggleCollapse('accurals1')">
                                            <i class="glyphicon glyphicon-collapse-{{collapse.accurals1?'up':'down'}}"></i>{{data.firstYear}}
                                        </a>
                                    </i>
                                </th>
                                <th ng-if="collapse.accurals1" ng-repeat="m in months track by $index" class="text-center">
                                        <span>
                                            <a ng-click="toggleCollapse('accurals1')" ng-if="$index == 0">
                                                <i class="glyphicon glyphicon-collapse-{{collapse.accurals1?'up':'down'}}"></i>{{data.firstYear + 1}}
                                            </a>
                                            {{m}}
                                        </span>
                                    <i style="visibility:hidden;">
                                        <a ng-click="toggleCollapse('accurals1')" ng-if="$index == 0">
                                            <i class="glyphicon glyphicon-collapse-{{collapse.accurals1?'up':'down'}}"></i>{{data.firstYear + 1}}
                                        </a>
                                        {{m}}
                                    </i>
                                </th>

                                <th ng-if="!collapse.accurals2">
                                        <span>
                                            <a ng-click="toggleCollapse('accurals2')">
                                                <i class="glyphicon glyphicon-collapse-{{collapse.accurals2?'up':'down'}}"></i>{{data.firstYear + 1}}
                                            </a>
                                        </span>
                                    <i style="visibility:hidden;">
                                        <a ng-click="toggleCollapse('accurals2')">
                                            <i class="glyphicon glyphicon-collapse-{{collapse.accurals2?'up':'down'}}"></i>{{data.firstYear + 1}}
                                        </a>
                                    </i>
                                </th>
                                <th ng-if="collapse.accurals2" ng-repeat="m in months track by $index" class="text-center">
                                        <span>
                                            <a ng-click="toggleCollapse('accurals2')" ng-if="$index == 0">
                                                <i class="glyphicon glyphicon-collapse-{{collapse.accurals2?'up':'down'}}"></i>{{data.firstYear + 1}}
                                            </a>
                                            {{m}}
                                        </span>
                                    <i style="visibility:hidden;">
                                        <a ng-click="toggleCollapse('accurals2')" ng-if="$index == 0">
                                            <i class="glyphicon glyphicon-collapse-{{collapse.accurals2?'up':'down'}}"></i>{{data.firstYear + 1}}
                                        </a>
                                        {{m}}
                                    </i>
                                </th>

                                <th ng-repeat="i in [2, 3, 4]" class="text-center">
                                    <span ng-if="data.firstYear">{{data.firstYear + i}}</span>
                                    <i ng-if="data.firstYear" style="visibility:hidden;">{{data.firstYear + i}}</i>
                                </th>
                                <th class="text-center"><span>Source</span><i style="visibility:hidden;">Source</i></th>
                                <th class="text-center" ng-if="!disabled"><span></span><i style="visibility:hidden;"></i></th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr>
                                <td style="border-right: 2px solid #555;"><label>Revenue</label></td>
                                <td ng-if="!collapse.accurals1">
                                    {{data.accurals.revenuesTotal.year[1] | number: 0}}
                                </td>
                                <td ng-if="collapse.accurals1" ng-repeat="m in months track by $index">
                                    {{data.accurals.revenuesTotal.month[1][m] | number: 0}}
                                </td>
                                <td ng-if="!collapse.accurals2">
                                    {{data.accurals.revenuesTotal.year[2] | number: 0}}
                                </td>
                                <td ng-if="collapse.accurals2" ng-repeat="m in months track by $index">
                                    {{data.accurals.revenuesTotal.month[2][m] | number: 0}}
                                </td>
                                <td ng-repeat="y in [3, 4, 5]">
                                    {{data.accurals.revenuesTotal.year[y] | number: 0}}
                                </td>
                                <td></td>
                                <td ng-if="!disabled" class="text-center">
                                    <a style="font-size: 25px;" ng-click="addItem('revenues')">
                                        <span class="glyphicon glyphicon-plus-sign"></span>
                                    </a>
                                </td>
                            </tr>
                            <tr ng-repeat="i in data.accurals.revenues track by $index">
                                <td style="border-right: 2px solid #555;">
                                    <span ng-if="disabled">{{i.lineName}}</span>
                                    <span ng-if="!disabled">
                                            <textarea rows="1" elastic-textarea class="form-control" ng-model="i.lineName"></textarea>
                                        </span>
                                </td>
                                <td ng-if="!collapse.accurals1">
                                    <span ng-if="disabled">{{i.year[1] | number: 0}}</span>
                                    <span ng-if="!disabled">
                                            <textarea rows="1" elastic-textarea class="form-control" ng-model="i.year[1]" ng-change="onChange()" demand-number-format='0'></textarea>
                                        </span>
                                </td>
                                <td ng-repeat="m in months" ng-if="collapse.accurals1">
                                    <span ng-if="disabled">{{i.month[1][m] | number: 0}}</span>
                                    <span ng-if="!disabled">
                                            <textarea rows="1" elastic-textarea class="form-control" ng-model="i.month[1][m]" ng-change="onChange()" demand-number-format='0'></textarea>
                                        </span>
                                </td>
                                <td ng-if="!collapse.accurals2">
                                    <span ng-if="disabled">{{i.year[2] | number: 0}}</span>
                                    <span ng-if="!disabled">
                                            <textarea rows="1" elastic-textarea class="form-control" ng-model="i.year[2]" ng-change="onChange()" demand-number-format='0'></textarea>
                                        </span>
                                </td>
                                <td ng-repeat="m in months" ng-if="collapse.accurals2">
                                    <span ng-if="disabled">{{i.month[2][m] | number: 0}}</span>
                                    <span ng-if="!disabled">
                                            <textarea rows="1" elastic-textarea class="form-control" ng-model="i.month[2][m]" ng-change="onChange()" demand-number-format='0'></textarea>
                                        </span>
                                </td>
                                <td ng-repeat="y in [3, 4, 5]">
                                    <span ng-if="disabled">{{i.year[y] | number: 0}}</span>
                                    <span ng-if="!disabled">
                                            <textarea rows="1" elastic-textarea class="form-control" ng-model="i.year[y]" ng-change="onChange()" demand-number-format='0'></textarea>
                                        </span>
                                </td>
                                <td>
                                    <span ng-if="disabled">{{i.source}}</span>
                                    <span ng-if="!disabled">
                                            <select class="form-control" ng-model="i.source">
                                                <option value="Direct">Direct</option>
                                                <option value="Potential">Potential</option>
                                            </select>
                                        </span>
                                </td>
                                <td ng-if="!disabled" class="text-center">
                                    <button type="button" class="btn btn-default" ng-click="deleteItem($index, 'revenues')">Delete</button>
                                </td>
                            </tr>
                            <!--OPEX-->
                            <tr style="border-top: 2px solid #555">
                                <td style="border-right: 2px solid #555;"><label>Opex</label></td>
                                <td ng-if="!collapse.accurals1">
                                    {{data.accurals.opexesTotal.year[1] | number: 0}}
                                </td>
                                <td ng-if="collapse.accurals1" ng-repeat="m in months track by $index">
                                    {{data.accurals.opexesTotal.month[1][m] | number: 0}}
                                </td>
                                <td ng-if="!collapse.accurals2">
                                    {{data.accurals.opexesTotal.year[2] | number: 0}}
                                </td>
                                <td ng-if="collapse.accurals2" ng-repeat="m in months track by $index">
                                    {{data.accurals.opexesTotal.month[2][m] | number: 0}}
                                </td>
                                <td ng-repeat="y in [3, 4, 5]">
                                    {{data.accurals.opexesTotal.year[y] | number: 0}}
                                </td>
                                <td></td>
                                <td ng-if="!disabled" class="text-center">
                                    <a style="font-size: 25px;" ng-click="addItem('opexes')">
                                        <span class="glyphicon glyphicon-plus-sign"></span>
                                    </a>
                                </td>
                            </tr>
                            <tr ng-repeat="i in data.accurals.opexes track by $index">
                                <td style="border-right: 2px solid #555;">
                                    <span ng-if="disabled">{{i.lineName}}</span>
                                    <span ng-if="!disabled">
                                            <textarea rows="1" elastic-textarea class="form-control" ng-model="i.lineName"></textarea>
                                        </span>
                                </td>
                                <td ng-if="!collapse.accurals1">
                                    <span ng-if="disabled">{{i.year[1] | number: 0}}</span>
                                    <span ng-if="!disabled">
                                            <textarea rows="1" elastic-textarea class="form-control" ng-model="i.year[1]" ng-change="onChange()" demand-number-format='0'></textarea>
                                        </span>
                                </td>
                                <td ng-repeat="m in months" ng-if="collapse.accurals1">
                                    <span ng-if="disabled">{{i.month[1][m] | number: 0}}</span>
                                    <span ng-if="!disabled">
                                            <textarea rows="1" elastic-textarea class="form-control" ng-model="i.month[1][m]" ng-change="onChange()" demand-number-format='0'></textarea>
                                        </span>
                                </td>
                                <td ng-if="!collapse.accurals2">
                                    <span ng-if="disabled">{{i.year[2] | number: 0}}</span>
                                    <span ng-if="!disabled">
                                            <textarea rows="1" elastic-textarea class="form-control" ng-model="i.year[2]" ng-change="onChange()" demand-number-format='0'></textarea>
                                        </span>
                                </td>
                                <td ng-repeat="m in months" ng-if="collapse.accurals2">
                                    <span ng-if="disabled">{{i.month[2][m] | number: 0}}</span>
                                    <span ng-if="!disabled">
                                            <textarea rows="1" elastic-textarea class="form-control" ng-model="i.month[2][m]" ng-change="onChange()" demand-number-format='0'></textarea>
                                        </span>
                                </td>
                                <td ng-repeat="y in [3, 4, 5]">
                                    <span ng-if="disabled">{{i.year[y] | number: 0}}</span>
                                    <span ng-if="!disabled">
                                            <textarea rows="1" elastic-textarea class="form-control" ng-model="i.year[y]" ng-change="onChange()" demand-number-format='0'></textarea>
                                        </span>
                                </td>
                                <td>
                                    <span ng-if="disabled">{{i.source}}</span>
                                    <span ng-if="!disabled">
                                            <select class="form-control" ng-model="i.source">
                                                <option value="Direct">Direct</option>
                                                <option value="Potential">Potential</option>
                                            </select>
                                        </span>
                                </td>
                                <td ng-if="!disabled" class="text-center">
                                    <button type="button" class="btn btn-default" ng-click="deleteItem($index, 'opexes')">Delete</button>
                                </td>
                            </tr>
                            <!--CAPEX-->
                            <tr style="border-top: 2px solid #555">
                                <td style="border-right: 2px solid #555;"><label>Capex</label></td>
                                <td ng-if="!collapse.accurals1">
                                    {{data.accurals.capexesTotal.year[1] | number: 0}}
                                </td>
                                <td ng-if="collapse.accurals1" ng-repeat="m in months track by $index">
                                    {{data.accurals.capexesTotal.month[1][m] | number: 0}}
                                </td>
                                <td ng-if="!collapse.accurals2">
                                    {{data.accurals.capexesTotal.year[2] | number: 0}}
                                </td>
                                <td ng-if="collapse.accurals2" ng-repeat="m in months track by $index">
                                    {{data.accurals.capexesTotal.month[2][m] | number: 0}}
                                </td>
                                <td ng-repeat="y in [3, 4, 5]">
                                    {{data.accurals.capexesTotal.year[y] | number: 0}}
                                </td>
                                <td></td>
                                <td ng-if="!disabled" class="text-center">
                                    <a style="font-size: 25px;" ng-click="addItem('capexes')">
                                        <span class="glyphicon glyphicon-plus-sign"></span>
                                    </a>
                                </td>
                            </tr>
                            <tr ng-repeat="i in data.accurals.capexes track by $index">
                                <td style="border-right: 2px solid #555;">
                                    <span ng-if="disabled">{{i.lineName}}</span>
                                    <span ng-if="!disabled">
                                            <textarea rows="1" elastic-textarea class="form-control" ng-model="i.lineName"></textarea>
                                        </span>
                                </td>
                                <td ng-if="!collapse.accurals1">
                                    <span ng-if="disabled">{{i.year[1] | number: 0}}</span>
                                    <span ng-if="!disabled">
                                            <textarea rows="1" elastic-textarea class="form-control" ng-model="i.year[1]" ng-change="onChange()" demand-number-format='0'></textarea>
                                        </span>
                                </td>
                                <td ng-repeat="m in months" ng-if="collapse.accurals1">
                                    <span ng-if="disabled">{{i.month[1][m] | number: 0}}</span>
                                    <span ng-if="!disabled">
                                            <textarea rows="1" elastic-textarea class="form-control" ng-model="i.month[1][m]" ng-change="onChange()" demand-number-format='0'></textarea>
                                        </span>
                                </td>
                                <td ng-if="!collapse.accurals2">
                                    <span ng-if="disabled">{{i.year[2] | number: 0}}</span>
                                    <span ng-if="!disabled">
                                            <textarea rows="1" elastic-textarea class="form-control" ng-model="i.year[2]" ng-change="onChange()" demand-number-format='0'></textarea>
                                        </span>
                                </td>
                                <td ng-repeat="m in months" ng-if="collapse.accurals2">
                                    <span ng-if="disabled">{{i.month[2][m] | number: 0}}</span>
                                    <span ng-if="!disabled">
                                            <textarea rows="1" elastic-textarea class="form-control" ng-model="i.month[2][m]" ng-change="onChange()" demand-number-format='0'></textarea>
                                        </span>
                                </td>
                                <td ng-repeat="y in [3, 4, 5]">
                                    <span ng-if="disabled">{{i.year[y] | number: 0}}</span>
                                    <span ng-if="!disabled">
                                            <textarea rows="1" elastic-textarea class="form-control" ng-model="i.year[y]" ng-change="onChange()" demand-number-format='0'></textarea>
                                        </span>
                                </td>
                                <td>
                                    <span ng-if="disabled">{{i.source}}</span>
                                    <span ng-if="!disabled">
                                            <select class="form-control" ng-model="i.source">
                                                <option value="Direct">Direct</option>
                                                <option value="Potential">Potential</option>
                                            </select>
                                        </span>
                                </td>
                                <td ng-if="!disabled" class="text-center">
                                    <button type="button" class="btn btn-default" ng-click="deleteItem($index, 'capexes')">Delete</button>
                                </td>
                            </tr>
                            <!--COGS-->
                            <tr style="border-top: 2px solid #555">
                                <td style="border-right: 2px solid #555;"><label>Cogs</label></td>
                                <td ng-if="!collapse.accurals1">
                                    {{data.accurals.cogsTotal.year[1] | number: 0}}
                                </td>
                                <td ng-if="collapse.accurals1" ng-repeat="m in months track by $index">
                                    {{data.accurals.cogsTotal.month[1][m] | number: 0}}
                                </td>
                                <td ng-if="!collapse.accurals2">
                                    {{data.accurals.cogsTotal.year[2] | number: 0}}
                                </td>
                                <td ng-if="collapse.accurals2" ng-repeat="m in months track by $index">
                                    {{data.accurals.cogsTotal.month[2][m] | number: 0}}
                                </td>
                                <td ng-repeat="y in [3, 4, 5]">
                                    {{data.accurals.cogsTotal.year[y] | number: 0}}
                                </td>
                                <td></td>
                                <td ng-if="!disabled" class="text-center">
                                    <a style="font-size: 25px;" ng-click="addItem('cogs')">
                                        <span class="glyphicon glyphicon-plus-sign"></span>
                                    </a>
                                </td>
                            </tr>
                            <tr ng-repeat="i in data.accurals.cogs track by $index">
                                <td style="border-right: 2px solid #555;">
                                    <span ng-if="disabled">{{i.lineName}}</span>
                                    <span ng-if="!disabled">
                                            <textarea rows="1" elastic-textarea class="form-control" ng-model="i.lineName"></textarea>
                                        </span>
                                </td>
                                <td ng-if="!collapse.accurals1">
                                    <span ng-if="disabled">{{i.year[1] | number: 0}}</span>
                                    <span ng-if="!disabled">
                                            <textarea rows="1" elastic-textarea class="form-control" ng-model="i.year[1]" ng-change="onChange()" demand-number-format='0'></textarea>
                                        </span>
                                </td>
                                <td ng-repeat="m in months" ng-if="collapse.accurals1">
                                    <span ng-if="disabled">{{i.month[1][m] | number: 0}}</span>
                                    <span ng-if="!disabled">
                                            <textarea rows="1" elastic-textarea class="form-control" ng-model="i.month[1][m]" ng-change="onChange()" demand-number-format='0'></textarea>
                                        </span>
                                </td>
                                <td ng-if="!collapse.accurals2">
                                    <span ng-if="disabled">{{i.year[2] | number: 0}}</span>
                                    <span ng-if="!disabled">
                                            <textarea rows="1" elastic-textarea class="form-control" ng-model="i.year[2]" ng-change="onChange()" demand-number-format='0'></textarea>
                                        </span>
                                </td>
                                <td ng-repeat="m in months" ng-if="collapse.accurals2">
                                    <span ng-if="disabled">{{i.month[2][m] | number: 0}}</span>
                                    <span ng-if="!disabled">
                                            <textarea rows="1" elastic-textarea class="form-control" ng-model="i.month[2][m]" ng-change="onChange()" demand-number-format='0'></textarea>
                                        </span>
                                </td>
                                <td ng-repeat="y in [3, 4, 5]">
                                    <span ng-if="disabled">{{i.year[y] | number: 0}}</span>
                                    <span ng-if="!disabled">
                                            <textarea rows="1" elastic-textarea class="form-control" ng-model="i.year[y]" ng-change="onChange()" demand-number-format='0'></textarea>
                                        </span>
                                </td>
                                <td>
                                    <span ng-if="disabled">{{i.source}}</span>
                                    <span ng-if="!disabled">
                                            <select class="form-control" ng-model="i.source">
                                                <option value="Direct">Direct</option>
                                                <option value="Potential">Potential</option>
                                            </select>
                                        </span>
                                </td>
                                <td ng-if="!disabled" class="text-center">
                                    <button type="button" class="btn btn-default" ng-click="deleteItem($index, 'cogs')">Delete</button>
                                </td>
                            </tr>
                            <!--INCOME-->
                            <tr style="border-top: 2px solid #555">
                                <td style="border-right: 2px solid #555;"><label>Income tax</label></td>
                                <td ng-if="!collapse.accurals1">
                                    {{data.accurals.incomeTotal.year[1] | number: 0}}
                                </td>
                                <td ng-if="collapse.accurals1" ng-repeat="m in months track by $index">
                                    {{data.accurals.incomeTotal.month[1][m] | number: 0}}
                                </td>
                                <td ng-if="!collapse.accurals2">
                                    {{data.accurals.incomeTotal.year[2] | number: 0}}
                                </td>
                                <td ng-if="collapse.accurals2" ng-repeat="m in months track by $index">
                                    {{data.accurals.incomeTotal.month[2][m] | number: 0}}
                                </td>
                                <td ng-repeat="y in [3, 4, 5]">
                                    {{data.accurals.incomeTotal.year[y] | number: 0}}
                                </td>
                                <td></td>
                                <td ng-if="!disabled" class="text-center">
                                </td>
                            </tr>
                            <tr ng-repeat="i in data.accurals.income track by $index">
                                <td style="border-right: 2px solid #555;"></td>
                                <td ng-if="!collapse.accurals1">
                                    <span ng-if="disabled">{{i.year[1] | number: 0}}</span>
                                    <span ng-if="!disabled">
                                            <textarea rows="1" elastic-textarea class="form-control" ng-model="i.year[1]" ng-change="onChange()" demand-number-format='0'></textarea>
                                        </span>
                                </td>
                                <td ng-repeat="m in months" ng-if="collapse.accurals1">
                                    <span ng-if="disabled">{{i.month[1][m] | number: 0}}</span>
                                    <span ng-if="!disabled">
                                            <textarea rows="1" elastic-textarea class="form-control" ng-model="i.month[1][m]" ng-change="onChange()" demand-number-format='0'></textarea>
                                        </span>
                                </td>
                                <td ng-if="!collapse.accurals2">
                                    <span ng-if="disabled">{{i.year[2] | number: 0}}</span>
                                    <span ng-if="!disabled">
                                            <textarea rows="1" elastic-textarea class="form-control" ng-model="i.year[2]" ng-change="onChange()" demand-number-format='0'></textarea>
                                        </span>
                                </td>
                                <td ng-repeat="m in months" ng-if="collapse.accurals2">
                                    <span ng-if="disabled">{{i.month[2][m] | number: 0}}</span>
                                    <span ng-if="!disabled">
                                            <textarea rows="1" elastic-textarea class="form-control" ng-model="i.month[2][m]" ng-change="onChange()" demand-number-format='0'></textarea>
                                        </span>
                                </td>
                                <td ng-repeat="y in [3, 4, 5]">
                                    <span ng-if="disabled">{{i.year[y] | number: 0}}</span>
                                    <span ng-if="!disabled">
                                            <textarea rows="1" elastic-textarea class="form-control" ng-model="i.year[y]" ng-change="onChange()" demand-number-format='0'></textarea>
                                        </span>
                                </td>
                                <td>
                                    <span ng-if="disabled">{{i.source}}</span>
                                    <span ng-if="!disabled">
                                            <select class="form-control" ng-model="i.source">
                                                <option value="Direct">Direct</option>
                                                <option value="Potential">Potential</option>
                                            </select>
                                        </span>
                                </td>
                                <td ng-if="!disabled" class="text-center">
                                </td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>