<style>
.table-borderless > tbody > tr > td,
.table-borderless > tbody > tr > th {
    border: none;
}


/* Fixed Headers magic */
.fixed-header-table-container .table thead th {
  text-align: left;
}
.fixed-header-table-container .table thead span {
  position: absolute;
  top: 0;
  background-color: #fff;
  padding: 5px;
  word-wrap: 'break-word';
  margin-left: -8px;
}
.fixed-header-table-container {
  height: 300px;
  position: relative;
  overflow: hidden;
}
.fixed-header-table-container-inner {
  overflow-y: auto;
  height: 100%;
}

</style>
<div class="col-sm-12" ng-if="!disabled">
    <div class="form-group">
        <label class="col-sm-3 control-label">Выберите эксел файл</label>
        <div class="col-sm-9">
            <input type="file" class="form-control" multiple="false" onchange="angular.element(this).scope().xlsxSelected(this)" accept="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel">
        </div>
    </div>
</div>
<div class="col-sm-12"><hr /></div>
<div class="col-sm-6">
    <label class="col-sm-12">General Information</label>
    <div class="col-sm-12" style="border: 1px solid #ccc; border-radius: 10px; padding-top: 5px; margin-bottom: 10px;">
        <div class="form-group">
            <label class="col-sm-5 control-label">Ticket type<span class="text-danger glyphicon-asterisk"></span></label>
            <div class="col-sm-7">
                <select class="form-control" name="bTicketType" ng-model="data.ticketType" ng-required="!disabled" ng-disabled="disabled">
                    <option value="Demand">Demand</option>
                    <option value="AOP">AOP</option>
                </select>
                <span class="has-error" ng-if="form.bTicketType.$error.required && (form.bTicketType.$touched || view.submitted)">Required field</span>
            </div>
        </div>
        <div class="form-group">
            <label class="col-sm-5 control-label">Network economics<span class="text-danger glyphicon-asterisk"></span></label>
            <div class="col-sm-7">
                <select class="form-control" name="bNetworkEconomics" ng-model="data.networkEconomics" ng-required="!disabled" ng-disabled="disabled">
                    <option value="Saule">Saule</option>
                    <option value="Svetlana">Svetlana</option>
                    <option value="Aliya">Aliya</option>
                </select>
                <span class="has-error" ng-if="form.bNetworkEconomics.$error.required && (form.bNetworkEconomics.$touched || view.submitted)">Required field</span>
            </div>
        </div>
        <div class="form-group">
            <label class="col-sm-5 control-label">IPM team member<span class="text-danger glyphicon-asterisk"></span></label>
            <div class="col-sm-7">
                <select class="form-control" name="bIPMTeamMember" ng-model="data.ipmTeamMember" ng-required="!disabled" ng-disabled="disabled">
                    <option value="Dossan">Dossan</option>
                    <option value="Ilyas">Ilyas</option>
                    <option value="Gani">Gani</option>
                    <option value="Gaukhar">Gaukhar</option>
                </select>
                <span class="has-error" ng-if="form.bIPMTeamMember.$error.required && (form.bIPMTeamMember.$touched || view.submitted)">Required field</span>
            </div>
        </div>
        <div class="form-group">
            <label class="col-sm-5 control-label">IPM decision<span class="text-danger glyphicon-asterisk"></span></label>
            <div class="col-sm-7">
                <select class="form-control" name="bIPMDecision" ng-model="data.ipmDecision" ng-required="!disabled" ng-disabled="disabled">
                    <option value="Ideation">Ideation</option>
                    <option value="Идея оценена - не реализуется">Идея оценена - не реализуется</option>
                    <option value="Проект утвержден и реализуется">Проект утвержден и реализуется</option>
                    <option value="Проект реализован есть результаты">Проект реализован есть результаты</option>
                </select>
                <span class="has-error" ng-if="form.bIPMDecision.$error.required && (form.bIPMDecision.$touched || view.submitted)">Required field</span>
            </div>
        </div>
    </div>
</div>

<div class="col-sm-6">
    <label class="col-sm-12">Qualitative</label>
    <div class="col-sm-12" style="border: 1px solid #ccc; border-radius: 10px; padding-top: 5px; margin-bottom: 10px;">
        <div class="form-group">
            <label class="col-sm-5 control-label">Strategic Goal<span class="text-danger glyphicon-asterisk"></span></label>
            <div class="col-sm-7">
                <select class="form-control" name="bStrategicGoal" ng-model="data.strategicGoal" ng-change="calcScoring()" ng-required="!disabled" ng-disabled="disabled">
                    <option value="Revenue growth">Revenue growth</option>
                    <option value="Cost optimisation">Cost optimisation</option>
                    <option value="Business continuity">Business continuity</option>
                    <option value="Regulatory">Regulatory</option>
                    <option value="Regular expenses">Regular expenses</option>
                </select>
                <span class="has-error" ng-if="form.bStrategicGoal.$error.required && (form.bStrategicGoal.$touched || view.submitted)">Required field</span>
            </div>
        </div>
        <div class="form-group">
            <label class="col-sm-5 control-label">Strategy fit<span class="text-danger glyphicon-asterisk"></span></label>
            <div class="col-sm-7">
                <select class="form-control" name="bStrategyFit" ng-model="data.strategyFit" ng-change="calcScoring()" ng-required="!disabled" ng-disabled="disabled">
                    <option value="Values throug superior network connectivity">Values throug superior network connectivity</option>
                    <option value="Customer loyalty through convergence">Customer loyalty through convergence</option>
                    <option value="Competitive operations">Competitive operations</option>
                    <option value="Growth in adjacencies">Growth in adjacencies</option>
                    <option value="Regular expenses">Regular expenses</option>
                </select>
                <span class="has-error" ng-if="form.bStrategyFit.$error.required && (form.bStrategyFit.$touched || view.submitted)">Required field</span>
            </div>
        </div>
        <div class="form-group">
            <label class="col-sm-5 control-label">Define business priority<span class="text-danger glyphicon-asterisk"></span></label>
            <div class="col-sm-7">
                <select class="form-control" name="bBusinessPriority" ng-model="data.businessPriority" ng-change="calcScoring()" ng-required="!disabled" ng-disabled="disabled">
                    <option value="A">A - The delayed project realization would not affect the daily operational activities.</option>
                    <option value="B">B - The delayed project realization would affect the daily operational activities.</option>
                    <option value="C">C - The delayed project realization would significantly hinder important daily operational activities.</option>
                </select>
                <span class="has-error" ng-if="form.bBusinessPriority.$error.required && (form.bBusinessPriority.$touched || view.submitted)">Required field</span>
            </div>
        </div>
        <div class="form-group">
            <label class="col-sm-5 control-label">Define impact on operational activities<span class="text-danger glyphicon-asterisk"></span></label>
            <div class="col-sm-7">
                <select class="form-control" name="bOpActivitiesImpact" ng-model="data.opActivitiesImpact" ng-change="calcScoring()" ng-required="!disabled" ng-disabled="disabled">
                    <option value="A">A - Delayed project realization would have no impact on the business processes.</option>
                    <option value="B">B - The delayed project realization would affect the business processes.</option>
                    <option value="C">C - The delayed project realization would stop the business processes.</option>
                </select>
                <span class="has-error" ng-if="form.bOpActivitiesImpact.$error.required && (form.bOpActivitiesImpact.$touched || view.submitted)">Required field</span>
            </div>
        </div>
    </div>
</div>

<div class="col-sm-6">
    <label class="col-sm-12">Quantitative</label>
    <div class="col-sm-12" style="border: 1px solid #ccc; border-radius: 10px; padding-top: 5px; margin-bottom: 10px;">
        <label class="col-sm-12">Benchmark</label>
        <div class="col-sm-12" style="border: 1px solid #ccc; border-radius: 10px; padding-top: 5px; margin-bottom: 10px;">
            <div class="col-sm-2">
                <div class="form-group">
                    <label class="col-sm-12 control-label">Min PP</label>
                    <div class="col-sm-12">
                        <!-- <input type="text" class="form-control" name="bMinPP" ng-model="data.benchmark.minPP" ng-change="calcScoring()" ng-required="!disabled" ng-disabled="disabled">
                        <span class="has-error" ng-if="form.bMinPP.$error.required && (form.bMinPP.$touched || view.submitted)">Required field</span> -->
                        {{data.benchmark.minPP | number: 2}}
                    </div>
                </div>
            </div>
            <div class="col-sm-2">
                <div class="form-group">
                    <label class="col-sm-12 control-label">Max ROI</label>
                    <div class="col-sm-12">
                        <!-- <input type="text" class="form-control" name="bMaxROI" ng-model="data.benchmark.maxROI" ng-change="calcScoring()" ng-required="!disabled" ng-disabled="disabled">
                        <span class="has-error" ng-if="form.bMaxROI.$error.required && (form.bMaxROI.$touched || view.submitted)">Required field</span> -->
                        {{data.benchmark.maxROI | number: 0}}%
                    </div>
                </div>
            </div>
            <div class="col-sm-2">
                <div class="form-group">
                    <label class="col-sm-12 control-label">Max NPV</label>
                    <div class="col-sm-12" style="overflow-x: auto;">
                        <!-- <input type="text" class="form-control" name="bMaxNPV" ng-model="data.benchmark.maxNPV" ng-change="calcScoring()" ng-required="!disabled" ng-disabled="disabled">
                        <span class="has-error" ng-if="form.bMaxNPV.$error.required && (form.bMaxNPV.$touched || view.submitted)">Required field</span> -->
                        {{data.benchmark.maxNPV | number: 0}}
                    </div>
                </div>
            </div>
            <div class="col-sm-2">
                <div class="form-group">
                    <label class="col-sm-12 control-label">Max PL</label>
                    <div class="col-sm-12" style="overflow-x: auto;">
                        <!-- <input type="text" class="form-control" name="bMaxPL" ng-model="data.benchmark.maxPL" ng-change="calcScoring()" ng-required="!disabled" ng-disabled="disabled">
                        <span class="has-error" ng-if="form.bMaxPL.$error.required && (form.bMaxPL.$touched || view.submitted)">Required field</span> -->
                        {{data.benchmark.maxPL | number: 0}}
                    </div>
                </div>
            </div>
            <div class="col-sm-2">
                <div class="form-group">
                    <label class="col-sm-12 control-label">Max CF</label>
                    <div class="col-sm-12" style="overflow-x: auto;">
                        <!-- <input type="number" class="form-control" name="bMaxCF" ng-model="data.benchmark.maxCF" ng-change="calcScoring()" ng-required="!disabled" ng-disabled="disabled">
                        <span class="has-error" ng-if="form.bMaxCF.$error.required && (form.bMaxCF.$touched || view.submitted)">Required field</span> -->
                        {{data.benchmark.maxCF | number: 0}}
                    </div>
                </div>
            </div>
            <div class="col-sm-2">
                <div class="form-group">
                    <label class="col-sm-12 control-label">WACC</label>
                    <div class="col-sm-12">
                        <!-- <input type="number" class="form-control" name="bWACC" ng-model="data.benchmark.wacc" ng-change="onChange()" ng-required="!disabled" ng-disabled="disabled">
                        <span class="has-error" ng-if="form.bWACC.$error.required && (form.bWACC.$touched || view.submitted)">Required field</span> -->
                        {{data.benchmark.wacc | number: (data.benchmark.wacc?1:0)}}%
                    </div>
                </div>
            </div>
        </div>
        <div class="form-group">
            <label class="col-sm-5 control-label">NPV<span class="text-danger glyphicon-asterisk"></span></label>
            <div class="col-sm-7">
                <input type="text" class="form-control" name="bNPV" ng-model="data.npv" demand-number-format='0' ng-required="!disabled" ng-disabled="disabled">
                <span class="has-error" ng-if="form.bNPV.$error.required && (form.bNPV.$touched || view.submitted)">Required field</span>
            </div>
        </div>
        <div class="form-group">
            <label class="col-sm-5 control-label">ROI<span class="text-danger glyphicon-asterisk"></span></label>
            <div class="col-sm-7">
                <input type="text" class="form-control" name="bROI" ng-model="data.roi" demand-number-format='1' format-addon="'%'" ng-required="!disabled" ng-disabled="disabled">
                <span class="has-error" ng-if="form.bROI.$error.required && (form.bROI.$touched || view.submitted)">Required field</span>
            </div>
        </div>
        <div class="form-group">
            <label class="col-sm-5 control-label">Payback period<span class="text-danger glyphicon-asterisk"></span></label>
            <div class="col-sm-7">
                <input type="text" class="form-control" name="bPaybackPeriod" ng-model="data.paybackPeriod" demand-number-format='2' ng-required="!disabled" ng-disabled="disabled">
                <span class="has-error" ng-if="form.bPaybackPeriod.$error.required && (form.bPaybackPeriod.$touched || view.submitted)">Required field</span>
            </div>
        </div>
        <div class="form-group">
            <label class="col-sm-5 control-label">P&L effect first year<span class="text-danger glyphicon-asterisk"></span></label>
            <div class="col-sm-7">
                <input type="text" class="form-control" name="bPLEffect" ng-model="data.plEffect" demand-number-format='0' ng-required="!disabled" ng-disabled="disabled">
                <span class="has-error" ng-if="form.bPLEffect.$error.required && (form.bPLEffect.$touched || view.submitted)">Required field</span>
            </div>
        </div>
        <div class="form-group">
            <label class="col-sm-5 control-label">CF effect first year<span class="text-danger glyphicon-asterisk"></span></label>
            <div class="col-sm-7">
                <input type="text" class="form-control" name="bCFEffect" ng-model="data.cfEffect" demand-number-format='0' ng-required="!disabled" ng-disabled="disabled">
                <span class="has-error" ng-if="form.bCFEffect.$error.required && (form.bCFEffect.$touched || view.submitted)">Required field</span>
            </div>
        </div>
    </div>
</div>

<div class="col-sm-6">
    <label class="col-sm-12">Scoring</label>
    <div class="col-sm-12" style="border: 1px solid #ccc; border-radius: 10px; padding-top: 5px; margin-bottom: 10px;">
        <div class="col-sm-7">
            <div class="form-group">
                <label class="col-sm-5 control-label">Quantitative score<span class="text-danger glyphicon-asterisk"></span></label>
                <div class="col-sm-7">
                    <input type="text" class="form-control" name="bQuantitativeScore" ng-model="data.quantitativeScore" demand-number-format='1' format-addon="'%'" ng-required="!disabled" ng-disabled="disabled">
                    <span class="has-error" ng-if="form.bQuantitativeScore.$error.required && (form.bQuantitativeScore.$touched || view.submitted)">Required field</span>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-5 control-label">Qualitative score<span class="text-danger glyphicon-asterisk"></span></label>
                <div class="col-sm-7">
                    <input type="text" class="form-control" name="bQualitativeScore" ng-model="data.qualitativeScore" demand-number-format='1' format-addon="'%'" ng-required="!disabled" ng-disabled="disabled">
                    <span class="has-error" ng-if="form.bQualitativeScore.$error.required && (form.bQualitativeScore.$touched || view.submitted)">Required field</span>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-5 control-label">Strategy Fit<span class="text-danger glyphicon-asterisk"></span></label>
                <div class="col-sm-7">
                    <input type="text" class="form-control" name="bStrategyFitScore" ng-model="data.strategyFitScore" demand-number-format='1' format-addon="'%'" ng-required="!disabled" ng-disabled="disabled">
                    <span class="has-error" ng-if="form.bStrategyFitScore.$error.required && (form.bStrategyFitScore.$touched || view.submitted)">Required field</span>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-5 control-label">Risks / Opportunities / Business priority<span class="text-danger glyphicon-asterisk"></span></label>
                <div class="col-sm-7">
                    <input type="text" class="form-control" name="bBusinessPriorityScore" ng-model="data.businessPriorityScore" demand-number-format='1' format-addon="'%'" ng-required="!disabled" ng-disabled="disabled">
                    <span class="has-error" ng-if="form.bBusinessPriorityScore.$error.required && (form.bBusinessPriorityScore.$touched || view.submitted)">Required field</span>
                </div>
            </div>
            <!-- <div class="form-group">
                <label class="col-sm-5 control-label">CF effect first year<span class="text-danger glyphicon-asterisk"></span></label>
                <div class="col-sm-7">
                    <input type="text" class="form-control" name="bCFEffectScore" ng-model="data.cfEffectScore" ng-required="!disabled" ng-disabled="disabled">
                    <span class="has-error" ng-if="form.bCFEffectScore.$error.required && (form.bCFEffectScore.$touched || view.submitted)">Required field</span>
                </div>
            </div> -->
        </div>
        <div class="col-sm-5">
            <div class="form-group text-center" style="margin-top: 50px;">
                <label class="col-sm-12">Score</label>
                <div class="col-sm-12">
                    <input type="text" style="font-size: 30px; height: 80px;" class="form-control" name="bScore" ng-model="data.score" demand-number-format='1' format-addon="'%'" ng-required="!disabled" ng-disabled="disabled">
                    <span class="has-error" ng-if="form.bScore.$error.required && (form.bScore.$touched || view.submitted)">Required field</span>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="col-sm-12" style="max-width: 100%; overflow: scroll;">
    <label class="col-sm-12">Financial Information</label>
    <div class="col-sm-12" style="border: 1px solid #ccc; border-radius: 10px; padding-top: 10px; margin-bottom: 10px;" ng-style="{'min-width': (2500 + ((collapse.cashFlow1 || collapse.accurals1) + (collapse.cashFlow2 || collapse.accurals2)) * 750) + 'px'}">
        <label class="col-sm-12">Cash flow</label>
        <div class="col-sm-12" style="border: 1px solid #ccc; border-radius: 10px; padding-top: 10px; margin-bottom: 10px;">
            <div class="fixed-header-table-container">
            <div class="fixed-header-table-container-inner">
                <table class="table table-borderless">
                    <thead>
                        <tr>
                            <th class="text-center"><span>ROC name</span><i style="visibility:hidden;">ROC name</i></th>
                            <th class="text-center"><span>WBS/Budget line name</span><i style="visibility:hidden;">WBS/Budget line name</i></th>
                            <th class="text-center"><span>Cost executor (cost planning)</span><i style="visibility:hidden;">Cost executor (cost planning)</span></th>
                            <th class="text-center"><span>Purchasing group</span><i style="visibility:hidden;">Purchasing group</i></th>
                            <th class="text-center"><span>CM contract</span><i style="visibility:hidden;">CM contract</i></th>
                            <th class="text-center"><span>CM contract add</span><i style="visibility:hidden;">CM contract add</i></th>
                            <th class="text-center"><span>Agreement start date</span><i style="visibility:hidden;">Agreement start date</i></th>
                            <th class="text-center"><span>Agreement end date</span><i style="visibility:hidden;">Agreement end date</i></th>
                            <th class="text-center"><span>total contract amount</span><i style="visibility:hidden;">total contract amount</i></th>
                            <th class="text-center" style="border-right: 2px solid #555;"><span>Dep. code</span><i style="visibility:hidden;">Dep. code</i></th>

                            <th ng-if="!collapse.cashFlow1">
                                <span ng-if="disabled">
                                    <a href="#" ng-click="toggleCollapse('cashFlow1')">
                                        <i class="glyphicon glyphicon-collapse-{{collapse.cashFlow1?'up':'down'}}"></i>
                                        {{data.firstYear}}
                                    </a>
                                </span>
                                <i ng-if="disabled" style="visibility:hidden;">
                                    <a href="#" ng-click="toggleCollapse('cashFlow1')">
                                        <i class="glyphicon glyphicon-collapse-{{collapse.cashFlow1?'up':'down'}}"></i>
                                        {{data.firstYear}}
                                    </a>
                                </i>
                                <span ng-if="!disabled">
                                    <div class="col-sm-2">
                                        <a href="#" ng-click="toggleCollapse('cashFlow1')">
                                            <i class="glyphicon glyphicon-collapse-{{collapse.cashFlow1?'up':'down'}}"></i>
                                        </a>
                                    </div>
                                    <div class="col-sm-8">
                                        <input type="number" class="form-control" ng-model="data.firstYear">
                                    </div>
                                </span>
                                <i ng-if="!disabled" style="visibility:hidden;">
                                    <div class="col-sm-2">
                                        <a href="#" ng-click="toggleCollapse('cashFlow1')">
                                            <i class="glyphicon glyphicon-collapse-{{collapse.cashFlow1?'up':'down'}}"></i>
                                        </a>
                                    </div>
                                    <div class="col-sm-8">
                                        <input type="number" class="form-control" ng-model="data.firstYear">
                                    </div>
                                </i>
                            </th>
                            <th ng-if="collapse.cashFlow1" ng-repeat="m in months track by $index" class="text-center">
                                <span>
                                    <a href="#" ng-click="toggleCollapse('cashFlow1')" ng-if="$index == 0">
                                        <i class="glyphicon glyphicon-collapse-{{collapse.cashFlow2?'up':'down'}}"></i>{{data.firstYear}}
                                    </a>
                                    {{m}}
                                </span>
                                <i style="visibility:hidden;">
                                    <a href="#" ng-click="toggleCollapse('cashFlow1')" ng-if="$index == 0">
                                        <i class="glyphicon glyphicon-collapse-{{collapse.cashFlow2?'up':'down'}}"></i>{{data.firstYear}}
                                    </a>
                                    {{m}}
                                </i>
                            </th>

                            <th ng-if="!collapse.cashFlow2">
                                <span>
                                    <a href="#" ng-click="toggleCollapse('cashFlow2')">
                                        <i class="glyphicon glyphicon-collapse-{{collapse.cashFlow2?'up':'down'}}"></i>{{data.firstYear + 1}}
                                    </a>
                                </span>
                                <i style="visibility:hidden; all: none;">
                                    <a href="#" ng-click="toggleCollapse('cashFlow2')">
                                        <i class="glyphicon glyphicon-collapse-{{collapse.cashFlow2?'up':'down'}}"></i>{{data.firstYear + 1}}
                                    </a>
                                </i>
                            </th>
                            <th ng-if="collapse.cashFlow2" ng-repeat="m in months track by $index" class="text-center">
                                <span>
                                    <a href="#" ng-click="toggleCollapse('cashFlow2')" ng-if="$index == 0">
                                        <i class="glyphicon glyphicon-collapse-{{collapse.cashFlow2?'up':'down'}}"></i>{{data.firstYear + 1}}
                                    </a>
                                    {{m}}
                                </span>
                                <i style="visibility:hidden;">
                                    <a href="#" ng-click="toggleCollapse('cashFlow2')" ng-if="$index == 0">
                                        <i class="glyphicon glyphicon-collapse-{{collapse.cashFlow2?'up':'down'}}"></i>{{data.firstYear + 1}}
                                    </a>
                                    {{m}}
                                </i>
                            </th>

                            <th ng-repeat="i in [2, 3, 4]" class="text-center">
                                <span ng-if="data.firstYear">{{data.firstYear + i}}</span>
                                <i ng-if="data.firstYear" style="visibility:hidden;">{{data.firstYear + i}}</i>
                            </th>
                            <th class="text-center"><span>Source</span><i style="visibility:hidden;">Source</i></th>
                            <th class="text-center" ng-if="!disabled"><span></span><i style="visibility:hidden;"></i></th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td colspan="10" style="border-right: 2px solid #555;"><label>Revenue</label></td>
                            <td ng-if="!collapse.cashFlow1">
                                {{data.cashFlow.revenuesTotal.year[1] | number: 0}}
                            </td>
                            <td ng-if="collapse.cashFlow1" ng-repeat="m in months track by $index">
                                {{data.cashFlow.revenuesTotal.month[1][m] | number: 0}}
                            </td>
                            <td ng-if="!collapse.cashFlow2">
                                {{data.cashFlow.revenuesTotal.year[2] | number: 0}}
                            </td>
                            <td ng-if="collapse.cashFlow2" ng-repeat="m in months track by $index">
                                {{data.cashFlow.revenuesTotal.month[2][m] | number: 0}}
                            </td>
                            <td ng-repeat="y in [3, 4, 5]">
                                {{data.cashFlow.revenuesTotal.year[y] | number: 0}}
                            </td>
                            <td></td>
                            <td ng-if="!disabled" class="text-center">
                                <a style="font-size: 25px;" ng-click="addItem('revenues')">
                                    <span class="glyphicon glyphicon-plus-sign"></span>
                                </a>
                            </td>
                        </tr>
                        <tr ng-repeat="i in data.cashFlow.revenues track by $index">
                            <td>
                                <span ng-if="disabled">{{i.rocName}}</span>
                                <span ng-if="!disabled">
                                    <input type="text" class="form-control" ng-model="i.rocName">
                                </span>
                            </td>
                            <td>
                                <span ng-if="disabled">{{i.wbs}}</span>
                                <span ng-if="!disabled">
                                    <input type="text" class="form-control" ng-model="i.wbs">
                                </span>
                            </td>
                            <td>
                                <span ng-if="disabled">{{i.cost}}</span>
                                <span ng-if="!disabled">
                                    <input type="text" class="form-control" ng-model="i.cost">
                                </span>
                            </td>
                            <td>
                                <span ng-if="disabled">{{i.purchasing}}</span>
                                <span ng-if="!disabled">
                                    <input type="text" class="form-control" ng-model="i.purchasing">
                                </span>
                            </td>
                            <td>
                                <span ng-if="disabled">{{i.contract}}</span>
                                <span ng-if="!disabled">
                                    <input type="text" class="form-control" ng-model="i.contract">
                                </span>
                            </td>
                            <td>
                                <span ng-if="disabled">{{i.contractAdd}}</span>
                                <span ng-if="!disabled">
                                    <input type="text" class="form-control" ng-model="i.contractAdd">
                                </span>
                            </td>
                            <td>
                                <span ng-if="disabled">{{i.startDate}}</span>
                                <span ng-if="!disabled">
                                    <input type="text" class="form-control" ng-model="i.startDate">
                                </span>
                            </td>
                            <td>
                                <span ng-if="disabled">{{i.endDate}}</span>
                                <span ng-if="!disabled">
                                    <input type="text" class="form-control" ng-model="i.endDate">
                                </span>
                            </td>
                            <td>
                                <span ng-if="disabled">{{i.amount}}</span>
                                <span ng-if="!disabled">
                                    <input type="text" class="form-control" ng-model="i.amount">
                                </span>
                            </td>
                            <td style="border-right: 2px solid #555;">
                                <span ng-if="disabled">{{i.depCode}}</span>
                                <span ng-if="!disabled">
                                    <input type="text" class="form-control" ng-model="i.depCode">
                                </span>
                            </td>
                            <td ng-if="!collapse.cashFlow1">
                                <span ng-if="disabled">{{i.year[1] | number: 0}}</span>
                                <span ng-if="!disabled">
                                    <input type="text" class="form-control" ng-model="i.year[1]" ng-change="onChange()" demand-number-format='0'>
                                </span>
                            </td>
                            <td ng-repeat="m in months" ng-if="collapse.cashFlow1">
                                <span ng-if="disabled">{{i.month[1][m] | number: 0}}</span>
                                <span ng-if="!disabled">
                                    <input type="text" class="form-control" ng-model="i.month[1][m]" ng-change="onChange()" demand-number-format='0'>
                                </span>
                            </td>                        
                            <td ng-if="!collapse.cashFlow2">
                                <span ng-if="disabled">{{i.year[2] | number: 0}}</span>
                                <span ng-if="!disabled">
                                    <input type="text" class="form-control" ng-model="i.year[2]" ng-change="onChange()" demand-number-format='0'>
                                </span>
                            </td>
                            <td ng-repeat="m in months" ng-if="collapse.cashFlow2">
                                <span ng-if="disabled">{{i.month[2][m] | number: 0}}</span>
                                <span ng-if="!disabled">
                                    <input type="text" class="form-control" ng-model="i.month[2][m]" ng-change="onChange()" demand-number-format='0'>
                                </span>
                            </td>
                            <td ng-repeat="y in [3, 4, 5]">
                                <span ng-if="disabled">{{i.year[y] | number: 0}}</span>
                                <span ng-if="!disabled">
                                    <input type="text" class="form-control" ng-model="i.year[y]" ng-change="onChange()" demand-number-format='0'>
                                </span>
                            </td>
                            <td>
                                <span ng-if="disabled">{{i.source}}</span>
                                <span ng-if="!disabled">
                                    <select class="form-control" ng-model="i.source">
                                        <option value="Direct">Direct</option>
                                        <option value="Potential">Potential</option>
                                    </select>
                                </span>
                            </td>
                            <td ng-if="!disabled" class="text-center">
                                <button type="button" class="btn btn-default" ng-click="deleteItem($index, 'revenues')">Delete</button>
                            </td>
                        </tr>
                        <!--OPEX-->
                        <tr style="border-top: 2px solid #555">
                            <td colspan="10" style="border-right: 2px solid #555;"><label>Opex</label></td>
                            <td ng-if="!collapse.cashFlow1">
                                {{data.cashFlow.opexesTotal.year[1] | number: 0}}
                            </td>
                            <td ng-if="collapse.cashFlow1" ng-repeat="m in months track by $index">
                                {{data.cashFlow.opexesTotal.month[1][m] | number: 0}}
                            </td>
                            <td ng-if="!collapse.cashFlow2">
                                {{data.cashFlow.opexesTotal.year[2] | number: 0}}
                            </td>
                            <td ng-if="collapse.cashFlow2" ng-repeat="m in months track by $index">
                                {{data.cashFlow.opexesTotal.month[2][m] | number: 0}}
                            </td>
                            <td ng-repeat="y in [3, 4, 5]">
                                {{data.cashFlow.opexesTotal.year[y] | number: 0}}
                            </td>
                            <td></td>
                            <td ng-if="!disabled" class="text-center">
                                <a style="font-size: 25px;" ng-click="addItem('opexes')">
                                    <span class="glyphicon glyphicon-plus-sign"></span>
                                </a>
                            </td>
                        </tr>
                        <tr ng-repeat="i in data.cashFlow.opexes track by $index">
                            <td>
                                <span ng-if="disabled">{{i.rocName}}</span>
                                <span ng-if="!disabled">
                                    <input type="text" class="form-control" ng-model="i.rocName">
                                </span>
                            </td>
                            <td>
                                <span ng-if="disabled">{{i.wbs}}</span>
                                <span ng-if="!disabled">
                                    <input type="text" class="form-control" ng-model="i.wbs">
                                </span>
                            </td>
                            <td>
                                <span ng-if="disabled">{{i.cost}}</span>
                                <span ng-if="!disabled">
                                    <input type="text" class="form-control" ng-model="i.cost">
                                </span>
                            </td>
                            <td>
                                <span ng-if="disabled">{{i.purchasing}}</span>
                                <span ng-if="!disabled">
                                    <input type="text" class="form-control" ng-model="i.purchasing">
                                </span>
                            </td>
                            <td>
                                <span ng-if="disabled">{{i.contract}}</span>
                                <span ng-if="!disabled">
                                    <input type="text" class="form-control" ng-model="i.contract">
                                </span>
                            </td>
                            <td>
                                <span ng-if="disabled">{{i.contractAdd}}</span>
                                <span ng-if="!disabled">
                                    <input type="text" class="form-control" ng-model="i.contractAdd">
                                </span>
                            </td>
                            <td>
                                <span ng-if="disabled">{{i.startDate}}</span>
                                <span ng-if="!disabled">
                                    <input type="text" class="form-control" ng-model="i.startDate">
                                </span>
                            </td>
                            <td>
                                <span ng-if="disabled">{{i.endDate}}</span>
                                <span ng-if="!disabled">
                                    <input type="text" class="form-control" ng-model="i.endDate">
                                </span>
                            </td>
                            <td>
                                <span ng-if="disabled">{{i.amount}}</span>
                                <span ng-if="!disabled">
                                    <input type="text" class="form-control" ng-model="i.amount">
                                </span>
                            </td>
                            <td style="border-right: 2px solid #555;">
                                <span ng-if="disabled">{{i.depCode}}</span>
                                <span ng-if="!disabled">
                                    <input type="text" class="form-control" ng-model="i.depCode">
                                </span>
                            </td>
                            <td ng-if="!collapse.cashFlow1">
                                <span ng-if="disabled">{{i.year[1] | number: 0}}</span>
                                <span ng-if="!disabled">
                                    <input type="text" class="form-control" ng-model="i.year[1]" ng-change="onChange()" demand-number-format='0'>
                                </span>
                            </td>
                            <td ng-repeat="m in months" ng-if="collapse.cashFlow1">
                                <span ng-if="disabled">{{i.month[1][m] | number: 0}}</span>
                                <span ng-if="!disabled">
                                    <input type="text" class="form-control" ng-model="i.month[1][m]" ng-change="onChange()" demand-number-format='0'>
                                </span>
                            </td>                        
                            <td ng-if="!collapse.cashFlow2">
                                <span ng-if="disabled">{{i.year[2] | number: 0}}</span>
                                <span ng-if="!disabled">
                                    <input type="text" class="form-control" ng-model="i.year[2]" ng-change="onChange()" demand-number-format='0'>
                                </span>
                            </td>
                            <td ng-repeat="m in months" ng-if="collapse.cashFlow2">
                                <span ng-if="disabled">{{i.month[2][m] | number: 0}}</span>
                                <span ng-if="!disabled">
                                    <input type="text" class="form-control" ng-model="i.month[2][m]" ng-change="onChange()" demand-number-format='0'>
                                </span>
                            </td>
                            <td ng-repeat="y in [3, 4, 5]">
                                <span ng-if="disabled">{{i.year[y] | number: 0}}</span>
                                <span ng-if="!disabled">
                                    <input type="text" class="form-control" ng-model="i.year[y]" ng-change="onChange()" demand-number-format='0'>
                                </span>
                            </td>
                            <td>
                                <span ng-if="disabled">{{i.source}}</span>
                                <span ng-if="!disabled">
                                    <select class="form-control" ng-model="i.source">
                                        <option value="Direct">Direct</option>
                                        <option value="Potential">Potential</option>
                                    </select>
                                </span>
                            </td>
                            <td ng-if="!disabled" class="text-center">
                                <button type="button" class="btn btn-default" ng-click="deleteItem($index, 'opexes')">Delete</button>
                            </td>
                        </tr>
                        <!--CAPEX-->
                        <tr style="border-top: 2px solid #555">
                            <td colspan="10" style="border-right: 2px solid #555;"><label>Capex</label></td>
                            <td ng-if="!collapse.cashFlow1">
                                {{data.cashFlow.capexesTotal.year[1] | number: 0}}
                            </td>
                            <td ng-if="collapse.cashFlow1" ng-repeat="m in months track by $index">
                                {{data.cashFlow.capexesTotal.month[1][m] | number: 0}}
                            </td>
                            <td ng-if="!collapse.cashFlow2">
                                {{data.cashFlow.capexesTotal.year[2] | number: 0}}
                            </td>
                            <td ng-if="collapse.cashFlow2" ng-repeat="m in months track by $index">
                                {{data.cashFlow.capexesTotal.month[2][m] | number: 0}}
                            </td>
                            <td ng-repeat="y in [3, 4, 5]">
                                {{data.cashFlow.capexesTotal.year[y] | number: 0}}
                            </td>
                            <td></td>
                            <td ng-if="!disabled" class="text-center">
                                <a style="font-size: 25px;" ng-click="addItem('capexes')">
                                    <span class="glyphicon glyphicon-plus-sign"></span>
                                </a>
                            </td>
                        </tr>
                        <tr ng-repeat="i in data.cashFlow.capexes track by $index">
                            <td>
                                <span ng-if="disabled">{{i.rocName}}</span>
                                <span ng-if="!disabled">
                                    <input type="text" class="form-control" ng-model="i.rocName">
                                </span>
                            </td>
                            <td>
                                <span ng-if="disabled">{{i.wbs}}</span>
                                <span ng-if="!disabled">
                                    <input type="text" class="form-control" ng-model="i.wbs">
                                </span>
                            </td>
                            <td>
                                <span ng-if="disabled">{{i.cost}}</span>
                                <span ng-if="!disabled">
                                    <input type="text" class="form-control" ng-model="i.cost">
                                </span>
                            </td>
                            <td>
                                <span ng-if="disabled">{{i.purchasing}}</span>
                                <span ng-if="!disabled">
                                    <input type="text" class="form-control" ng-model="i.purchasing">
                                </span>
                            </td>
                            <td>
                                <span ng-if="disabled">{{i.contract}}</span>
                                <span ng-if="!disabled">
                                    <input type="text" class="form-control" ng-model="i.contract">
                                </span>
                            </td>
                            <td>
                                <span ng-if="disabled">{{i.contractAdd}}</span>
                                <span ng-if="!disabled">
                                    <input type="text" class="form-control" ng-model="i.contractAdd">
                                </span>
                            </td>
                            <td>
                                <span ng-if="disabled">{{i.startDate}}</span>
                                <span ng-if="!disabled">
                                    <input type="text" class="form-control" ng-model="i.startDate">
                                </span>
                            </td>
                            <td>
                                <span ng-if="disabled">{{i.endDate}}</span>
                                <span ng-if="!disabled">
                                    <input type="text" class="form-control" ng-model="i.endDate">
                                </span>
                            </td>
                            <td>
                                <span ng-if="disabled">{{i.amount}}</span>
                                <span ng-if="!disabled">
                                    <input type="text" class="form-control" ng-model="i.amount">
                                </span>
                            </td>
                            <td style="border-right: 2px solid #555;">
                                <span ng-if="disabled">{{i.depCode}}</span>
                                <span ng-if="!disabled">
                                    <input type="text" class="form-control" ng-model="i.depCode">
                                </span>
                            </td>
                            <td ng-if="!collapse.cashFlow1">
                                <span ng-if="disabled">{{i.year[1] | number: 0}}</span>
                                <span ng-if="!disabled">
                                    <input type="text" class="form-control" ng-model="i.year[1]" ng-change="onChange()" demand-number-format='0'>
                                </span>
                            </td>
                            <td ng-repeat="m in months" ng-if="collapse.cashFlow1">
                                <span ng-if="disabled">{{i.month[1][m] | number: 0}}</span>
                                <span ng-if="!disabled">
                                    <input type="text" class="form-control" ng-model="i.month[1][m]" ng-change="onChange()" demand-number-format='0'>
                                </span>
                            </td>                        
                            <td ng-if="!collapse.cashFlow2">
                                <span ng-if="disabled">{{i.year[2] | number: 0}}</span>
                                <span ng-if="!disabled">
                                    <input type="text" class="form-control" ng-model="i.year[2]" ng-change="onChange()" demand-number-format='0'>
                                </span>
                            </td>
                            <td ng-repeat="m in months" ng-if="collapse.cashFlow2">
                                <span ng-if="disabled">{{i.month[2][m] | number: 0}}</span>
                                <span ng-if="!disabled">
                                    <input type="text" class="form-control" ng-model="i.month[2][m]" ng-change="onChange()" demand-number-format='0'>
                                </span>
                            </td>
                            <td ng-repeat="y in [3, 4, 5]">
                                <span ng-if="disabled">{{i.year[y] | number: 0}}</span>
                                <span ng-if="!disabled">
                                    <input type="text" class="form-control" ng-model="i.year[y]" ng-change="onChange()" demand-number-format='0'>
                                </span>
                            </td>
                            <td>
                                <span ng-if="disabled">{{i.source}}</span>
                                <span ng-if="!disabled">
                                    <select class="form-control" ng-model="i.source">
                                        <option value="Direct">Direct</option>
                                        <option value="Potential">Potential</option>
                                    </select>
                                </span>
                            </td>
                            <td ng-if="!disabled" class="text-center">
                                <button type="button" class="btn btn-default" ng-click="deleteItem($index, 'capexes')">Delete</button>
                            </td>
                        </tr>
                        <!--COGS-->
                        <tr style="border-top: 2px solid #555">
                            <td colspan="10" style="border-right: 2px solid #555;"><label>Cogs</label></td>
                            <td ng-if="!collapse.cashFlow1">
                                {{data.cashFlow.cogsTotal.year[1] | number: 0}}
                            </td>
                            <td ng-if="collapse.cashFlow1" ng-repeat="m in months track by $index">
                                {{data.cashFlow.cogsTotal.month[1][m] | number: 0}}
                            </td>
                            <td ng-if="!collapse.cashFlow2">
                                {{data.cashFlow.cogsTotal.year[2] | number: 0}}
                            </td>
                            <td ng-if="collapse.cashFlow2" ng-repeat="m in months track by $index">
                                {{data.cashFlow.cogsTotal.month[2][m] | number: 0}}
                            </td>
                            <td ng-repeat="y in [3, 4, 5]">
                                {{data.cashFlow.cogsTotal.year[y] | number: 0}}
                            </td>
                            <td></td>
                            <td ng-if="!disabled" class="text-center">
                                <a style="font-size: 25px;" ng-click="addItem('cogs')">
                                    <span class="glyphicon glyphicon-plus-sign"></span>
                                </a>
                            </td>
                        </tr>
                        <tr ng-repeat="i in data.cashFlow.cogs track by $index">
                            <td>
                                <span ng-if="disabled">{{i.rocName}}</span>
                                <span ng-if="!disabled">
                                    <input type="text" class="form-control" ng-model="i.rocName">
                                </span>
                            </td>
                            <td>
                                <span ng-if="disabled">{{i.wbs}}</span>
                                <span ng-if="!disabled">
                                    <input type="text" class="form-control" ng-model="i.wbs">
                                </span>
                            </td>
                            <td>
                                <span ng-if="disabled">{{i.cost}}</span>
                                <span ng-if="!disabled">
                                    <input type="text" class="form-control" ng-model="i.cost">
                                </span>
                            </td>
                            <td>
                                <span ng-if="disabled">{{i.purchasing}}</span>
                                <span ng-if="!disabled">
                                    <input type="text" class="form-control" ng-model="i.purchasing">
                                </span>
                            </td>
                            <td>
                                <span ng-if="disabled">{{i.contract}}</span>
                                <span ng-if="!disabled">
                                    <input type="text" class="form-control" ng-model="i.contract">
                                </span>
                            </td>
                            <td>
                                <span ng-if="disabled">{{i.contractAdd}}</span>
                                <span ng-if="!disabled">
                                    <input type="text" class="form-control" ng-model="i.contractAdd">
                                </span>
                            </td>
                            <td>
                                <span ng-if="disabled">{{i.startDate}}</span>
                                <span ng-if="!disabled">
                                    <input type="text" class="form-control" ng-model="i.startDate">
                                </span>
                            </td>
                            <td>
                                <span ng-if="disabled">{{i.endDate}}</span>
                                <span ng-if="!disabled">
                                    <input type="text" class="form-control" ng-model="i.endDate">
                                </span>
                            </td>
                            <td>
                                <span ng-if="disabled">{{i.amount}}</span>
                                <span ng-if="!disabled">
                                    <input type="text" class="form-control" ng-model="i.amount">
                                </span>
                            </td>
                            <td style="border-right: 2px solid #555;">
                                <span ng-if="disabled">{{i.depCode}}</span>
                                <span ng-if="!disabled">
                                    <input type="text" class="form-control" ng-model="i.depCode">
                                </span>
                            </td>
                            <td ng-if="!collapse.cashFlow1">
                                <span ng-if="disabled">{{i.year[1] | number: 0}}</span>
                                <span ng-if="!disabled">
                                    <input type="text" class="form-control" ng-model="i.year[1]" ng-change="onChange()" demand-number-format='0'>
                                </span>
                            </td>
                            <td ng-repeat="m in months" ng-if="collapse.cashFlow1">
                                <span ng-if="disabled">{{i.month[1][m] | number: 0}}</span>
                                <span ng-if="!disabled">
                                    <input type="text" class="form-control" ng-model="i.month[1][m]" ng-change="onChange()" demand-number-format='0'>
                                </span>
                            </td>                        
                            <td ng-if="!collapse.cashFlow2">
                                <span ng-if="disabled">{{i.year[2] | number: 0}}</span>
                                <span ng-if="!disabled">
                                    <input type="text" class="form-control" ng-model="i.year[2]" ng-change="onChange()" demand-number-format='0'>
                                </span>
                            </td>
                            <td ng-repeat="m in months" ng-if="collapse.cashFlow2">
                                <span ng-if="disabled">{{i.month[2][m] | number: 0}}</span>
                                <span ng-if="!disabled">
                                    <input type="text" class="form-control" ng-model="i.month[2][m]" ng-change="onChange()" demand-number-format='0'>
                                </span>
                            </td>
                            <td ng-repeat="y in [3, 4, 5]">
                                <span ng-if="disabled">{{i.year[y] | number: 0}}</span>
                                <span ng-if="!disabled">
                                    <input type="text" class="form-control" ng-model="i.year[y]" ng-change="onChange()" demand-number-format='0'>
                                </span>
                            </td>
                            <td>
                                <span ng-if="disabled">{{i.source}}</span>
                                <span ng-if="!disabled">
                                    <select class="form-control" ng-model="i.source">
                                        <option value="Direct">Direct</option>
                                        <option value="Potential">Potential</option>
                                    </select>
                                </span>
                            </td>
                            <td ng-if="!disabled" class="text-center">
                                <button type="button" class="btn btn-default" ng-click="deleteItem($index, 'cogs')">Delete</button>
                            </td>
                        </tr>
                        <!--INCOME-->
                        <tr style="border-top: 2px solid #555">
                            <td colspan="10" style="border-right: 2px solid #555;"><label>Income tax</label></td>
                            <td ng-if="!collapse.cashFlow1">
                                {{data.cashFlow.incomeTotal.year[1] | number: 0}}
                            </td>
                            <td ng-if="collapse.cashFlow1" ng-repeat="m in months track by $index">
                                {{data.cashFlow.incomeTotal.month[1][m] | number: 0}}
                            </td>
                            <td ng-if="!collapse.cashFlow2">
                                {{data.cashFlow.incomeTotal.year[2] | number: 0}}
                            </td>
                            <td ng-if="collapse.cashFlow2" ng-repeat="m in months track by $index">
                                {{data.cashFlow.incomeTotal.month[2][m] | number: 0}}
                            </td>
                            <td ng-repeat="y in [3, 4, 5]">
                                {{data.cashFlow.incomeTotal.year[y] | number: 0}}
                            </td>
                            <td></td>
                            <td ng-if="!disabled" class="text-center">
                            </td>
                        </tr>
                        <tr ng-repeat="i in data.cashFlow.income track by $index">
                            <td colspan="10" style="border-right: 2px solid #555;"></td>
                            <td ng-if="!collapse.cashFlow1">
                                <span ng-if="disabled">{{i.year[1] | number: 0}}</span>
                                <span ng-if="!disabled">
                                    <input type="text" class="form-control" ng-model="i.year[1]" ng-change="onChange()" demand-number-format='0'>
                                </span>
                            </td>
                            <td ng-repeat="m in months" ng-if="collapse.cashFlow1">
                                <span ng-if="disabled">{{i.month[1][m] | number: 0}}</span>
                                <span ng-if="!disabled">
                                    <input type="text" class="form-control" ng-model="i.month[1][m]" ng-change="onChange()" demand-number-format='0'>
                                </span>
                            </td>                        
                            <td ng-if="!collapse.cashFlow2">
                                <span ng-if="disabled">{{i.year[2] | number: 0}}</span>
                                <span ng-if="!disabled">
                                    <input type="text" class="form-control" ng-model="i.year[2]" ng-change="onChange()" demand-number-format='0'>
                                </span>
                            </td>
                            <td ng-repeat="m in months" ng-if="collapse.cashFlow2">
                                <span ng-if="disabled">{{i.month[2][m] | number: 0}}</span>
                                <span ng-if="!disabled">
                                    <input type="text" class="form-control" ng-model="i.month[2][m]" ng-change="onChange()" demand-number-format='0'>
                                </span>
                            </td>
                            <td ng-repeat="y in [3, 4, 5]">
                                <span ng-if="disabled">{{i.year[y] | number: 0}}</span>
                                <span ng-if="!disabled">
                                    <input type="text" class="form-control" ng-model="i.year[y]" ng-change="onChange()" demand-number-format='0'>
                                </span>
                            </td>
                            <td>
                                <span ng-if="disabled">{{i.source}}</span>
                                <span ng-if="!disabled">
                                    <select class="form-control" ng-model="i.source">
                                        <option value="Direct">Direct</option>
                                        <option value="Potential">Potential</option>
                                    </select>
                                </span>
                            </td>
                            <td ng-if="!disabled" class="text-center">
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            </div>
        </div>

        <label class="col-sm-12" style="margin-top: 15px;">Accruals</label>
        <div class="col-sm-12" style="border: 1px solid #ccc; border-radius: 10px; padding-top: 10px; margin-bottom: 10px;">
            <div class="fixed-header-table-container">
            <div class="fixed-header-table-container-inner">
                <table class="table table-borderless">
                    <thead>
                        <tr>
                            <th><span></span><i style="visibility:hidden;"></i></th>

                            <th ng-if="!collapse.accurals1">
                                <span>
                                    <a href="#" ng-click="toggleCollapse('accurals1')">
                                        <i class="glyphicon glyphicon-collapse-{{collapse.accurals1?'up':'down'}}"></i>{{data.firstYear}}
                                    </a>
                                </span>
                                <i style="visibility:hidden;">
                                    <a href="#" ng-click="toggleCollapse('accurals1')">
                                        <i class="glyphicon glyphicon-collapse-{{collapse.accurals1?'up':'down'}}"></i>{{data.firstYear}}
                                    </a>
                                </i>
                            </th>
                            <th ng-if="collapse.accurals1" ng-repeat="m in months track by $index" class="text-center">
                                <span>
                                    <a href="#" ng-click="toggleCollapse('accurals1')" ng-if="$index == 0">
                                        <i class="glyphicon glyphicon-collapse-{{collapse.accurals1?'up':'down'}}"></i>{{data.firstYear + 1}}
                                    </a>
                                    {{m}}
                                </span>
                                <i style="visibility:hidden;">
                                    <a href="#" ng-click="toggleCollapse('accurals1')" ng-if="$index == 0">
                                        <i class="glyphicon glyphicon-collapse-{{collapse.accurals1?'up':'down'}}"></i>{{data.firstYear + 1}}
                                    </a>
                                    {{m}}
                                </i>
                            </th>

                            <th ng-if="!collapse.accurals2">
                                <span>
                                    <a href="#" ng-click="toggleCollapse('accurals2')">
                                        <i class="glyphicon glyphicon-collapse-{{collapse.accurals2?'up':'down'}}"></i>{{data.firstYear + 1}}
                                    </a>
                                </span>
                                <i style="visibility:hidden;">
                                    <a href="#" ng-click="toggleCollapse('accurals2')">
                                        <i class="glyphicon glyphicon-collapse-{{collapse.accurals2?'up':'down'}}"></i>{{data.firstYear + 1}}
                                    </a>
                                </i>
                            </th>
                            <th ng-if="collapse.accurals2" ng-repeat="m in months track by $index" class="text-center">
                                <span>
                                    <a href="#" ng-click="toggleCollapse('accurals2')" ng-if="$index == 0">
                                        <i class="glyphicon glyphicon-collapse-{{collapse.accurals2?'up':'down'}}"></i>{{data.firstYear + 1}}
                                    </a>
                                    {{m}}
                                </span>
                                <i style="visibility:hidden;">
                                    <a href="#" ng-click="toggleCollapse('accurals2')" ng-if="$index == 0">
                                        <i class="glyphicon glyphicon-collapse-{{collapse.accurals2?'up':'down'}}"></i>{{data.firstYear + 1}}
                                    </a>
                                    {{m}}
                                </i>
                            </th>

                            <th ng-repeat="i in [2, 3, 4]" class="text-center">
                                <span ng-if="data.firstYear">{{data.firstYear + i}}</span>
                                <i ng-if="data.firstYear" style="visibility:hidden;">{{data.firstYear + i}}</i>
                            </th>
                            <th class="text-center"><span>Source</span><i style="visibility:hidden;">Source</i></th>
                            <th class="text-center" ng-if="!disabled"><span></span><i style="visibility:hidden;"></i></th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td style="border-right: 2px solid #555;"><label>Revenue</label></td>
                            <td ng-if="!collapse.accurals1">
                                {{data.accurals.revenuesTotal.year[1] | number: 0}}
                            </td>
                            <td ng-if="collapse.accurals1" ng-repeat="m in months track by $index">
                                {{data.accurals.revenuesTotal.month[1][m] | number: 0}}
                            </td>
                            <td ng-if="!collapse.accurals2">
                                {{data.accurals.revenuesTotal.year[2] | number: 0}}
                            </td>
                            <td ng-if="collapse.accurals2" ng-repeat="m in months track by $index">
                                {{data.accurals.revenuesTotal.month[2][m] | number: 0}}
                            </td>
                            <td ng-repeat="y in [3, 4, 5]">
                                {{data.accurals.revenuesTotal.year[y] | number: 0}}
                            </td>
                            <td></td>
                            <td ng-if="!disabled" class="text-center">
                                <a style="font-size: 25px;" ng-click="addItem('revenues')">
                                    <span class="glyphicon glyphicon-plus-sign"></span>
                                </a>
                            </td>
                        </tr>
                        <tr ng-repeat="i in data.accurals.revenues track by $index">
                            <td style="border-right: 2px solid #555;">
                                <span ng-if="disabled">{{i.lineName}}</span>
                                <span ng-if="!disabled">
                                    <input type="text" class="form-control" ng-model="i.lineName">
                                </span>
                            </td>
                            <td ng-if="!collapse.accurals1">
                                <span ng-if="disabled">{{i.year[1] | number: 0}}</span>
                                <span ng-if="!disabled">
                                    <input type="text" class="form-control" ng-model="i.year[1]" ng-change="onChange()" demand-number-format='0'>
                                </span>
                            </td>
                            <td ng-repeat="m in months" ng-if="collapse.accurals1">
                                <span ng-if="disabled">{{i.month[1][m] | number: 0}}</span>
                                <span ng-if="!disabled">
                                    <input type="text" class="form-control" ng-model="i.month[1][m]" ng-change="onChange()" demand-number-format='0'>
                                </span>
                            </td>                        
                            <td ng-if="!collapse.accurals2">
                                <span ng-if="disabled">{{i.year[2] | number: 0}}</span>
                                <span ng-if="!disabled">
                                    <input type="text" class="form-control" ng-model="i.year[2]" ng-change="onChange()" demand-number-format='0'>
                                </span>
                            </td>
                            <td ng-repeat="m in months" ng-if="collapse.accurals2">
                                <span ng-if="disabled">{{i.month[2][m] | number: 0}}</span>
                                <span ng-if="!disabled">
                                    <input type="text" class="form-control" ng-model="i.month[2][m]" ng-change="onChange()" demand-number-format='0'>
                                </span>
                            </td>
                            <td ng-repeat="y in [3, 4, 5]">
                                <span ng-if="disabled">{{i.year[y] | number: 0}}</span>
                                <span ng-if="!disabled">
                                    <input type="text" class="form-control" ng-model="i.year[y]" ng-change="onChange()" demand-number-format='0'>
                                </span>
                            </td>
                            <td>
                                <span ng-if="disabled">{{i.source}}</span>
                                <span ng-if="!disabled">
                                    <select class="form-control" ng-model="i.source">
                                        <option value="Direct">Direct</option>
                                        <option value="Potential">Potential</option>
                                    </select>
                                </span>
                            </td>
                            <td ng-if="!disabled" class="text-center">
                                <button type="button" class="btn btn-default" ng-click="deleteItem($index, 'revenues')">Delete</button>
                            </td>
                        </tr>
                        <!--OPEX-->
                        <tr style="border-top: 2px solid #555">
                            <td style="border-right: 2px solid #555;"><label>Opex</label></td>
                            <td ng-if="!collapse.accurals1">
                                {{data.accurals.opexesTotal.year[1] | number: 0}}
                            </td>
                            <td ng-if="collapse.accurals1" ng-repeat="m in months track by $index">
                                {{data.accurals.opexesTotal.month[1][m] | number: 0}}
                            </td>
                            <td ng-if="!collapse.accurals2">
                                {{data.accurals.opexesTotal.year[2] | number: 0}}
                            </td>
                            <td ng-if="collapse.accurals2" ng-repeat="m in months track by $index">
                                {{data.accurals.opexesTotal.month[2][m] | number: 0}}
                            </td>
                            <td ng-repeat="y in [3, 4, 5]">
                                {{data.accurals.opexesTotal.year[y] | number: 0}}
                            </td>
                            <td></td>
                            <td ng-if="!disabled" class="text-center">
                                <a style="font-size: 25px;" ng-click="addItem('opexes')">
                                    <span class="glyphicon glyphicon-plus-sign"></span>
                                </a>
                            </td>
                        </tr>
                        <tr ng-repeat="i in data.accurals.opexes track by $index">
                            <td style="border-right: 2px solid #555;">
                                <span ng-if="disabled">{{i.lineName}}</span>
                                <span ng-if="!disabled">
                                    <input type="text" class="form-control" ng-model="i.lineName">
                                </span>
                            </td>
                            <td ng-if="!collapse.accurals1">
                                <span ng-if="disabled">{{i.year[1] | number: 0}}</span>
                                <span ng-if="!disabled">
                                    <input type="text" class="form-control" ng-model="i.year[1]" ng-change="onChange()" demand-number-format='0'>
                                </span>
                            </td>
                            <td ng-repeat="m in months" ng-if="collapse.accurals1">
                                <span ng-if="disabled">{{i.month[1][m] | number: 0}}</span>
                                <span ng-if="!disabled">
                                    <input type="text" class="form-control" ng-model="i.month[1][m]" ng-change="onChange()" demand-number-format='0'>
                                </span>
                            </td>                        
                            <td ng-if="!collapse.accurals2">
                                <span ng-if="disabled">{{i.year[2] | number: 0}}</span>
                                <span ng-if="!disabled">
                                    <input type="text" class="form-control" ng-model="i.year[2]" ng-change="onChange()" demand-number-format='0'>
                                </span>
                            </td>
                            <td ng-repeat="m in months" ng-if="collapse.accurals2">
                                <span ng-if="disabled">{{i.month[2][m] | number: 0}}</span>
                                <span ng-if="!disabled">
                                    <input type="text" class="form-control" ng-model="i.month[2][m]" ng-change="onChange()" demand-number-format='0'>
                                </span>
                            </td>
                            <td ng-repeat="y in [3, 4, 5]">
                                <span ng-if="disabled">{{i.year[y] | number: 0}}</span>
                                <span ng-if="!disabled">
                                    <input type="text" class="form-control" ng-model="i.year[y]" ng-change="onChange()" demand-number-format='0'>
                                </span>
                            </td>
                            <td>
                                <span ng-if="disabled">{{i.source}}</span>
                                <span ng-if="!disabled">
                                    <select class="form-control" ng-model="i.source">
                                        <option value="Direct">Direct</option>
                                        <option value="Potential">Potential</option>
                                    </select>
                                </span>
                            </td>
                            <td ng-if="!disabled" class="text-center">
                                <button type="button" class="btn btn-default" ng-click="deleteItem($index, 'opexes')">Delete</button>
                            </td>
                        </tr>
                        <!--CAPEX-->
                        <tr style="border-top: 2px solid #555">
                            <td style="border-right: 2px solid #555;"><label>Capex</label></td>
                            <td ng-if="!collapse.accurals1">
                                {{data.accurals.capexesTotal.year[1] | number: 0}}
                            </td>
                            <td ng-if="collapse.accurals1" ng-repeat="m in months track by $index">
                                {{data.accurals.capexesTotal.month[1][m] | number: 0}}
                            </td>
                            <td ng-if="!collapse.accurals2">
                                {{data.accurals.capexesTotal.year[2] | number: 0}}
                            </td>
                            <td ng-if="collapse.accurals2" ng-repeat="m in months track by $index">
                                {{data.accurals.capexesTotal.month[2][m] | number: 0}}
                            </td>
                            <td ng-repeat="y in [3, 4, 5]">
                                {{data.accurals.capexesTotal.year[y] | number: 0}}
                            </td>
                            <td></td>
                            <td ng-if="!disabled" class="text-center">
                                <a style="font-size: 25px;" ng-click="addItem('capexes')">
                                    <span class="glyphicon glyphicon-plus-sign"></span>
                                </a>
                            </td>
                        </tr>
                        <tr ng-repeat="i in data.accurals.capexes track by $index">
                            <td style="border-right: 2px solid #555;">
                                <span ng-if="disabled">{{i.lineName}}</span>
                                <span ng-if="!disabled">
                                    <input type="text" class="form-control" ng-model="i.lineName">
                                </span>
                            </td>
                            <td ng-if="!collapse.accurals1">
                                <span ng-if="disabled">{{i.year[1] | number: 0}}</span>
                                <span ng-if="!disabled">
                                    <input type="text" class="form-control" ng-model="i.year[1]" ng-change="onChange()" demand-number-format='0'>
                                </span>
                            </td>
                            <td ng-repeat="m in months" ng-if="collapse.accurals1">
                                <span ng-if="disabled">{{i.month[1][m] | number: 0}}</span>
                                <span ng-if="!disabled">
                                    <input type="text" class="form-control" ng-model="i.month[1][m]" ng-change="onChange()" demand-number-format='0'>
                                </span>
                            </td>                        
                            <td ng-if="!collapse.accurals2">
                                <span ng-if="disabled">{{i.year[2] | number: 0}}</span>
                                <span ng-if="!disabled">
                                    <input type="text" class="form-control" ng-model="i.year[2]" ng-change="onChange()" demand-number-format='0'>
                                </span>
                            </td>
                            <td ng-repeat="m in months" ng-if="collapse.accurals2">
                                <span ng-if="disabled">{{i.month[2][m] | number: 0}}</span>
                                <span ng-if="!disabled">
                                    <input type="text" class="form-control" ng-model="i.month[2][m]" ng-change="onChange()" demand-number-format='0'>
                                </span>
                            </td>
                            <td ng-repeat="y in [3, 4, 5]">
                                <span ng-if="disabled">{{i.year[y] | number: 0}}</span>
                                <span ng-if="!disabled">
                                    <input type="text" class="form-control" ng-model="i.year[y]" ng-change="onChange()" demand-number-format='0'>
                                </span>
                            </td>
                            <td>
                                <span ng-if="disabled">{{i.source}}</span>
                                <span ng-if="!disabled">
                                    <select class="form-control" ng-model="i.source">
                                        <option value="Direct">Direct</option>
                                        <option value="Potential">Potential</option>
                                    </select>
                                </span>
                            </td>
                            <td ng-if="!disabled" class="text-center">
                                <button type="button" class="btn btn-default" ng-click="deleteItem($index, 'capexes')">Delete</button>
                            </td>
                        </tr>
                        <!--COGS-->
                        <tr style="border-top: 2px solid #555">
                            <td style="border-right: 2px solid #555;"><label>Cogs</label></td>
                            <td ng-if="!collapse.accurals1">
                                {{data.accurals.cogsTotal.year[1] | number: 0}}
                            </td>
                            <td ng-if="collapse.accurals1" ng-repeat="m in months track by $index">
                                {{data.accurals.cogsTotal.month[1][m] | number: 0}}
                            </td>
                            <td ng-if="!collapse.accurals2">
                                {{data.accurals.cogsTotal.year[2] | number: 0}}
                            </td>
                            <td ng-if="collapse.accurals2" ng-repeat="m in months track by $index">
                                {{data.accurals.cogsTotal.month[2][m] | number: 0}}
                            </td>
                            <td ng-repeat="y in [3, 4, 5]">
                                {{data.accurals.cogsTotal.year[y] | number: 0}}
                            </td>
                            <td></td>
                            <td ng-if="!disabled" class="text-center">
                                <a style="font-size: 25px;" ng-click="addItem('cogs')">
                                    <span class="glyphicon glyphicon-plus-sign"></span>
                                </a>
                            </td>
                        </tr>
                        <tr ng-repeat="i in data.accurals.cogs track by $index">
                            <td style="border-right: 2px solid #555;">
                                <span ng-if="disabled">{{i.lineName}}</span>
                                <span ng-if="!disabled">
                                    <input type="text" class="form-control" ng-model="i.lineName">
                                </span>
                            </td>
                            <td ng-if="!collapse.accurals1">
                                <span ng-if="disabled">{{i.year[1] | number: 0}}</span>
                                <span ng-if="!disabled">
                                    <input type="text" class="form-control" ng-model="i.year[1]" ng-change="onChange()" demand-number-format='0'>
                                </span>
                            </td>
                            <td ng-repeat="m in months" ng-if="collapse.accurals1">
                                <span ng-if="disabled">{{i.month[1][m] | number: 0}}</span>
                                <span ng-if="!disabled">
                                    <input type="text" class="form-control" ng-model="i.month[1][m]" ng-change="onChange()" demand-number-format='0'>
                                </span>
                            </td>                        
                            <td ng-if="!collapse.accurals2">
                                <span ng-if="disabled">{{i.year[2] | number: 0}}</span>
                                <span ng-if="!disabled">
                                    <input type="text" class="form-control" ng-model="i.year[2]" ng-change="onChange()" demand-number-format='0'>
                                </span>
                            </td>
                            <td ng-repeat="m in months" ng-if="collapse.accurals2">
                                <span ng-if="disabled">{{i.month[2][m] | number: 0}}</span>
                                <span ng-if="!disabled">
                                    <input type="text" class="form-control" ng-model="i.month[2][m]" ng-change="onChange()" demand-number-format='0'>
                                </span>
                            </td>
                            <td ng-repeat="y in [3, 4, 5]">
                                <span ng-if="disabled">{{i.year[y] | number: 0}}</span>
                                <span ng-if="!disabled">
                                    <input type="text" class="form-control" ng-model="i.year[y]" ng-change="onChange()" demand-number-format='0'>
                                </span>
                            </td>
                            <td>
                                <span ng-if="disabled">{{i.source}}</span>
                                <span ng-if="!disabled">
                                    <select class="form-control" ng-model="i.source">
                                        <option value="Direct">Direct</option>
                                        <option value="Potential">Potential</option>
                                    </select>
                                </span>
                            </td>
                            <td ng-if="!disabled" class="text-center">
                                <button type="button" class="btn btn-default" ng-click="deleteItem($index, 'cogs')">Delete</button>
                            </td>
                        </tr>
                        <!--INCOME-->
                        <tr style="border-top: 2px solid #555">
                            <td style="border-right: 2px solid #555;"><label>Income tax</label></td>
                            <td ng-if="!collapse.accurals1">
                                {{data.accurals.incomeTotal.year[1] | number: 0}}
                            </td>
                            <td ng-if="collapse.accurals1" ng-repeat="m in months track by $index">
                                {{data.accurals.incomeTotal.month[1][m] | number: 0}}
                            </td>
                            <td ng-if="!collapse.accurals2">
                                {{data.accurals.incomeTotal.year[2] | number: 0}}
                            </td>
                            <td ng-if="collapse.accurals2" ng-repeat="m in months track by $index">
                                {{data.accurals.incomeTotal.month[2][m] | number: 0}}
                            </td>
                            <td ng-repeat="y in [3, 4, 5]">
                                {{data.accurals.incomeTotal.year[y] | number: 0}}
                            </td>
                            <td></td>
                            <td ng-if="!disabled" class="text-center">
                            </td>
                        </tr>
                        <tr ng-repeat="i in data.accurals.income track by $index">
                            <td style="border-right: 2px solid #555;"></td>
                            <td ng-if="!collapse.accurals1">
                                <span ng-if="disabled">{{i.year[1] | number: 0}}</span>
                                <span ng-if="!disabled">
                                    <input type="text" class="form-control" ng-model="i.year[1]" ng-change="onChange()" demand-number-format='0'>
                                </span>
                            </td>
                            <td ng-repeat="m in months" ng-if="collapse.accurals1">
                                <span ng-if="disabled">{{i.month[1][m] | number: 0}}</span>
                                <span ng-if="!disabled">
                                    <input type="text" class="form-control" ng-model="i.month[1][m]" ng-change="onChange()" demand-number-format='0'>
                                </span>
                            </td>                        
                            <td ng-if="!collapse.accurals2">
                                <span ng-if="disabled">{{i.year[2] | number: 0}}</span>
                                <span ng-if="!disabled">
                                    <input type="text" class="form-control" ng-model="i.year[2]" ng-change="onChange()" demand-number-format='0'>
                                </span>
                            </td>
                            <td ng-repeat="m in months" ng-if="collapse.accurals2">
                                <span ng-if="disabled">{{i.month[2][m] | number: 0}}</span>
                                <span ng-if="!disabled">
                                    <input type="text" class="form-control" ng-model="i.month[2][m]" ng-change="onChange()" demand-number-format='0'>
                                </span>
                            </td>
                            <td ng-repeat="y in [3, 4, 5]">
                                <span ng-if="disabled">{{i.year[y] | number: 0}}</span>
                                <span ng-if="!disabled">
                                    <input type="text" class="form-control" ng-model="i.year[y]" ng-change="onChange()" demand-number-format='0'>
                                </span>
                            </td>
                            <td>
                                <span ng-if="disabled">{{i.source}}</span>
                                <span ng-if="!disabled">
                                    <select class="form-control" ng-model="i.source">
                                        <option value="Direct">Direct</option>
                                        <option value="Potential">Potential</option>
                                    </select>
                                </span>
                            </td>
                            <td ng-if="!disabled" class="text-center">
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            </div>
        </div>
    </div>
</div>