<span ng-init="isFE = (farEnd)">{{activeTab}}</span>
<span ng-init="isCandidate = (!farEnd)">{{activeTab}}</span>

<tabset class="my-tab-head my-tab" justified="true" id="jobRequestId">
    <tab active="isCandidate">
        <tab-heading><span class="glyphicon glyphicon-check"></span> Candidate Information </tab-heading>
            <div class="well">
                <div class="row">
                    <div class="col-md-6">
                        <h4><b>Candidate</b></h4>

                        <div class="col-sm-12"><b>Site name</b>: {{leasingCandidate.candidate.siteName}}</div>
                        <div class="col-sm-12"><b>Date of Visit</b>: {{leasingCandidate.candidate.dateOfVisit | date:'dd.MM.yyyy'}}</div>
                        <div class="col-sm-12"><b>Latitude</b>: {{leasingCandidate.candidate.latitude}}</div>
                        <div class="col-sm-12"><b>Longitude</b>: {{leasingCandidate.candidate.longitude}}</div>
                        <div class="col-sm-12"><b>Сonstruction type</b>: {{leasingCandidate.candidate.constructionType}}</div>
                        <div class="col-sm-12"><b>BSC</b>: {{leasingCandidate.candidate.bsc}}</div>
                        <div class="col-sm-12"><b>Square</b>: {{leasingCandidate.candidate.square}}</div>
                        <div class="col-sm-12"><b>RBS Type</b>: {{leasingCandidate.candidate.rbsType}}</div>
                        <div class="col-sm-12"><b>Bands</b>: 
                            <span ng-repeat="band in leasingCandidate.candidate.selectedBands">{{$index == 0?' ': ' + ' }}{{band.title}}</span>
                        </div>
                        <div class="col-sm-12"><b>RBS Location </b>: 
                            <span ng-repeat="l in leasingCandidate.candidate.rbsLocation | filter: true">{{l.title}}{{$last?'':', '}}</span>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <h4><b>Renter Company</b></h4>

                        <div class="col-sm-12"><b>Legal type</b>: {{dictionary.legalTypeTitle[leasingCandidate.renterCompany.legalType].desc}}</div>
                        <div class="col-sm-12"><b>Legal name</b>: {{leasingCandidate.renterCompany.legalName}}</div>
                        <div class="col-sm-12"><b>Legal address</b>: {{leasingCandidate.renterCompany.legalAddress}}</div>
                        <div class="col-sm-12"><b>Tel./Fax</b>: {{leasingCandidate.renterCompany.telFax}}</div>
                        <div class="col-sm-12"><b>Name of the 1st Leader</b>: {{leasingCandidate.renterCompany.firstLeaderName}}</div>
                        <div class="col-sm-12"><b>Position of the 1st Leader</b>: {{leasingCandidate.renterCompany.firstLeaderPos}}</div>
                        <div class="col-sm-12"><b>Email</b>: {{leasingCandidate.renterCompany.email}}</div>
                        <div class="col-sm-12"><b>Contact Person</b>: 
                            {{leasingCandidate.renterCompany.contactName}} {{leasingCandidate.renterCompany.contactPosition}} {{leasingCandidate.renterCompany.contactInfo}}
                        </div>                        
                    </div>
                </div>
                <div class="row">                
                    <div class="col-md-6">
                        <h4><b>Cell antenna information</b></h4>

                        <div class="col-sm-12"><b>Antennas, Dimensions And Weight</b>
                                <span ng-repeat="a in leasingCandidate.cellAntenna.selectedAntennas">{{a.antenna}} {{'d: ' + (a.dimension?a.dimension:a.newDimension)}} {{'w: ' + (a.weight?a.weight:a.newWeight)}}<br /></span>
                        </div>
                        <div class="col-sm-12"><b>Cell Antenna quantity</b>: {{leasingCandidate.cellAntenna.quantity}}</div>
                        <div class="col-sm-12"><b>Suspension height of antennas</b>: {{leasingCandidate.cellAntenna.suspensionHeight}}</div>
                        <div class="col-sm-12"><b>Azimuth</b>: {{leasingCandidate.cellAntenna.azimuth}}</div>
                        <div class="col-sm-12"><b>Address</b>: {{leasingCandidate.cellAntenna.address}}</div>
                    </div>
                    <div class="col-md-6">
                        <h4><b>Transmission Antenna</b></h4>

                        <div class="col-sm-12"><b>TR Antenna type</b>: {{leasingCandidate.transmissionAntenna.antennaType}}</div>
                        <div class="col-sm-12"><b>TR Antenna quantity</b>: {{leasingCandidate.transmissionAntenna.antennaQuantity}}</div>
                        <div class="col-sm-12"><b>Frequency Band</b>: {{leasingCandidate.transmissionAntenna.frequencyBand}}</div>
                        <div class="col-sm-12"><b>Diameter</b>: {{leasingCandidate.transmissionAntenna.diameter}}</div>
                        <div class="col-sm-12"><b>Weight</b>: {{leasingCandidate.transmissionAntenna.weight}}</div>
                        <div class="col-sm-12"><b>Suspension height of antennas</b>: {{leasingCandidate.transmissionAntenna.suspensionHeight}}</div>
                        <div class="col-sm-12"><b>Azimuth</b>: {{leasingCandidate.transmissionAntenna.azimuth}}</div>
                    </div>
                </div>
                <div class="row">                
                    <div class="col-md-12">
                        <h4><b>Power Source</b></h4>

                        <div class="col-sm-12"><b>Does renter agree to provide us 3 Phase/3.5kWof electrical energy</b>: {{leasingCandidate.powerSource.provideUs3Phase}}</div>
                        <div class="col-sm-12"><b>Cable length to connection point (in meters)</b>: {{leasingCandidate.powerSource.cableLength}}</div>
                        <div class="col-sm-12"><b>Cable laying type</b>: 
                            <span ng-repeat="t in leasingCandidate.powerSource.cableLayingType | filter:true">{{t.title}}{{$last?'':', '}}</span>
                        </div>
                        <div class="col-sm-12"><b>Does renter agree to receive monthly paymentfor consumed electrical energy according to ourpower counters displays buy the bank transactionsand give us invoices?</b>: {{leasingCandidate.powerSource.agreeToReceiveMonthlyPayment}}</div>
                        <div class="col-sm-12"><b>Closest public (RES) electrical line</b> 0,4 kV:  {{leasingCandidate.powerSource.closestPublic04}} <br />
                        10 kV: {{leasingCandidate.powerSource.closestPublic10}}
                        </div>
                        <div class="col-sm-12"><b>Access status</b>: {{leasingCandidate.candidate.accessStatus}}</div>
                        <div class="col-sm-12"><b>Goals</b>: {{leasingCandidate.candidate.goals}}</div>
                        <div class="col-sm-12"><b>Comments related to New Candidate</b>: {{leasingCandidate.candidate.comments}}</div>
                    </div>
                </div>
            </div>
    </tab>
    <tab active="isFE">
        <tab-heading>
            <span class="glyphicon glyphicon-list"></span> Far End Information
        </tab-heading>
        <div class="well">
            <div class="row">
                <div class="col-md-12">
                    <table class="table  ">
                        <thead>
                            <td width="10%">#</td>
                            <td width="40%">Far End Name</td>
                            <td width="20%">Priority</td>
                            <td width="30%">Transmission Group Status</td>
                        </thead>
                        <tbody ng-repeat="fe in leasingCandidate.farEndInformation">
                            <tr>
                                <td>{{ $index + 1 }}</td>
                                <td><a ng-click="selectIndex($index)">{{ fe.farEndName}}</a></td>
                                <td><a ng-click="selectIndex($index)">{{ fe.priority?'High':'Low'}}</a></td>
                                <td><a ng-click="selectIndex($index)">{{fe.transmissionStatus == 'approved'?'Approved':(fe.transmissionStatus == 'doesNotFit'?'FE does not fit':'')}}</a></td>
                            </tr>
                            <tr ng-show = "selectedIndex == $index || (selectedIndex < 0 && fe.farEndName == farEnd.farEndName)">
                                <td colspan="4">
                                    <div class="row">
                                        <div class="col-md-6">
                                            <div class="col-sm-12"><b>Far End Name</b>: {{fe.farEndName}}</div>
                                            <div class="col-sm-12"><b>Far End Legal type</b>: {{dictionary.legalTypeTitle[fe.legalType].desc}}</div>
                                            <div class="col-sm-12"><b>Far End Address</b>: {{fe.farEndAddress}}</div>
                                            <div class="col-sm-12"><b>Contract Information</b>: {{fe.contractInformation}}</div>
                                            <div class="col-sm-12"><b>Square</b>: {{fe.square}}</div>
                                            <div class="col-sm-12"><b>Equipment type</b>: {{fe.equipmentType}}</div>
                                            <div class="col-sm-12"><b>Antennas quantity</b>: {{fe.antennasQuantity}}</div>
                                            <div class="col-sm-12"><b>Antenna diameter</b>: {{fe.antennaDiameter}}</div>
                                            <div class="col-sm-12"><b>Weight</b>: {{fe.weight}}</div>
                                            <div class="col-sm-12"><b>TX Frequency</b>: {{fe.TXFrequency}}</div>
                                            <div class="col-sm-12"><b>RX Frequency</b>: {{fe.RXFrequency}}</div>
                                            <div class="col-sm-12"><b>Suspension height of antennas</b>: {{fe.suspensionHeight}}</div>
                                            <div class="col-sm-12"><b>Azimuth</b>: {{fe.azimuth}}</div>
                                            <div class="col-sm-12"><b>Сonstruction type</b>: {{fe.constructionType}}</div>
                                            <div class="col-sm-12"><b>Results of visit of objects</b>: {{fe.resultsOfVisit}}</div>
                                            <div class="col-sm-12"><b>Survey Date</b>: {{fe.surveyDate | date:'dd.MM.yyyy'}}</div>
                                            <div class="col-sm-12"><b>Comments</b>: {{fe.comments}}</div>
                                        </div>
                                        <div class="col-md-6">
                                            <h4><b>Far End Renter Company</b></h4>

                                            <div class="col-sm-12"><b>Legal name</b>: {{fe.renterCompany.legalName}}</div>
                                            <div class="col-sm-12"><b>Legal address</b>: {{fe.renterCompany.legalAddress}}</div>
                                            <div class="col-sm-12"><b>Tel./Fax</b>: {{fe.renterCompany.telFax}}</div>
                                            <div class="col-sm-12"><b>Name of the 1st Leader</b>: {{fe.renterCompany.firstLeaderName}}</div>
                                            <div class="col-sm-12"><b>Position of the 1st Leader</b>: {{fe.renterCompany.firstLeaderPosition}}</div>
                                            <div class="col-sm-12"><b>Email</b>: {{fe.renterCompany.email}}</div>
                                            <div class="col-sm-12"><b>Contact Person Name</b>: {{fe.renterCompany.name}}</div>
                                            <div class="col-sm-12"><b>Contact Person Position</b>: {{fe.renterCompany.position}}</div>
                                            <div class="col-sm-12"><b>Contact Information</b>: {{fe.renterCompany.contactInformation}}</div>
                                        </div>
                                    </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </tab>
</tabset>