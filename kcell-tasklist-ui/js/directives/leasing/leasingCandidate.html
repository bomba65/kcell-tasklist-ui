<style>
   .no-event {
       pointer-events: none;
   }

    input.form-control[readonly] {
        background-color: white;
    }

    textarea.form-control[readonly] {
        background-color: white;
    }

    select.form-control[disabled] {
        background-color: white;
    }


   .far-end-info {
       background: #f7f7f7;
       padding: 3px;
       border-radius: 10px;
       border: solid 1px;
       font-weight: bold;
       cursor: pointer;
   }
   .far-end-delete {
       float:right;
       margin-right:3px;
   }
   tr.far-end-antennas td {
       padding-top:12px;
   }
</style>
<form role="form" class="form-horizontal" name="kcell_form" novalidate>
<span ng-init="isFE = (farEnd)">{{activeTab}}</span>
<span ng-init="isCandidate = (!farEnd)">{{activeTab}}</span>
<tabset class="my-tab-head my-tab" justified="true" id="jobRequestId">
    <tab active="isCandidate">
        <tab-heading ng-class="{'error' : isError('candidateInformation')}"><span class="glyphicon glyphicon-check"></span> Candidate Information</tab-heading>
        <div class="well">
            <br>
            <div class="form-group">
                <label class="col-sm-3 control-label">Sitename:</label>
                <div class="col-sm-5">
                    <input class="form-control" id="siteName" name="siteName" ng-model="leasingCandidate.candidate.siteName" ng-readonly="true">
                    <label class="error" ng-show="kcell_form.siteName.$error.required && ( kcell_form.siteName.$touched || parentForm.$submitted)">Required field</label>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-3 control-label">Site type:</label>
                <div class="col-sm-5">
                    <input class="form-control" id="siteType" name="siteType" ng-model="leasingCandidate.siteType.name" readonly>
                    <label class="error" ng-show="kcell_form.siteType.$error.required && ( kcell_form.siteName.$touched || parentForm.$submitted)">Required field</label>
                </div>
            </div>
            <div class="form-group" >
                <div class="col-sm-3 control-label" style="padding-top: 2px;">Date of visit:</div>
                <div class="col-sm-5">
                    <div class="input-group">
                        <span>{{leasingCandidate.candidate.dateOfVisit| date:'dd.MM.yyyy'}}</span><br>
                </div>
                    <label class="error" ng-show="kcell_form.dateOfVisit.$error.required && ( kcell_form.dateOfVisit.$touched || parentForm.$submitted)">Required field</label>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-3 control-label">Latitude:</label>
                <div class="col-sm-5">
                    <input class="form-control" id="latitude" name="latitude" ng-model="leasingCandidate.candidate.latitude" readonly>
                    <label class="error" ng-show="kcell_form.latitude.$error.required && ( kcell_form.latitude.$touched || parentForm.$submitted)">Required field</label>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-3 control-label">Longitude:</label>
                <div class="col-sm-5">
                    <input class="form-control" id="longitude" name="longitude" ng-model="leasingCandidate.candidate.longitude" readonly>
                    <label class="error" ng-show="kcell_form.longitude.$error.required && ( kcell_form.longitude.$touched || parentForm.$submitted)">Required field</label>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-3 control-label">Altitude</label>
                <div class="col-sm-5">
                    <input type="number" class="form-control"  ng-readonly="!(leasingCandidate.taskKey !== null && leasingCandidate.taskKey === 'uploadRSDandVSDfiles')" id="cn_altitude" name="cn_altitude" ng-model="leasingCandidate.candidate.cn_altitude">
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-3 control-label">Сonstruction type:</label>
                <div class="col-sm-5">
                    <input class="form-control" readonly id="СonstructionType" name="СonstructionType"
                           ng-model="leasingCandidate.candidate.constructionType.name" readonly>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-3 control-label">Transmission type:</label>
                <div class="col-sm-5">
                    <input class="form-control" readonly id="transmissionType" name="transmissionType"
                           ng-model="leasingCandidate.candidate.transmissionType" readonly>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-3 control-label">BCS/RNC:</label>
                <div class="col-sm-5">
                    <input class="form-control" readonly type="text" ng-model="leasingCandidate.candidate.bsc" typeahead="s as s.name for s in dictionary.BSC | filter:$viewValue" placeholder="Start typing...">
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-3 control-label">Square:</label>
                <div class="col-sm-5">
                    <input type="number" class="form-control" readonly id="square" name="square" ng-model="leasingCandidate.candidate.square">
                    <label class="error" ng-show="kcell_form.square.$error.required && ( kcell_form.square.$touched || parentForm.$submitted)">Required field</label>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-3 control-label">RBS Type:</label>
                <div class="col-sm-8">
                    {{leasingCandidate.candidate.rbsType}}
                    <label class="error" ng-show="kcell_form.rbsType.$error.required && ( kcell_form.rbsType.$touched || parentForm.$submitted)">Required field</label>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-3 control-label">Band:</label>
                <div class="col-sm-8">
                    <span ng-repeat="band in leasingCandidate.bands">{{$index == 0?' ': ' + ' }}{{band.title}}</span>
                </div>
            </div>

            <div class="form-group">
                <label class="col-sm-3 control-label">RBS Location:</label>
                <div class="col-sm-6">
                    <!-- <div class="form-check no-event" style="display:inline-block; padding:0 !important; margin-right: 10px;" ng-repeat="l in leasingCandidate.candidate.rbsLocation track by $index">
                        <input type="radio" name="rbsLocation" ng-required="rbsLocationChecked < 1" ng-click="checkRbsLocation($index, l.value)" ng-model="l.value" class="form-check-input" id="{{'check' + $index}}">
                        <label class="form-check-label" for="{{'check' + $index}}">{{ l.title }}</label>
                    </div> -->

                    <label class="form-check" style="display:inline-block; padding:0 !important;">
                        <input type="radio" disabled name="radio" ng-value="leasingCandidate.candidate.rbsLocation.value" ng-model="leasingCandidate.candidate.rbsLocation.value">{{leasingCandidate.candidate.rbsLocation.title}}</label>
                    <label class="error" ng-show="kcell_form.rbsLocation.$error.required && ( checkRbsLocationTouched || parentForm.$submitted)">Required field</label>

                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-3 control-label">Height of construction</label>
                <div class="col-sm-5">
                    <input type="number" class="form-control" ng-readonly="!(leasingCandidate.taskKey !== null && leasingCandidate.taskKey === 'uploadRSDandVSDfiles')" id="cn_height_constr" name="cn_height_constr" ng-model="leasingCandidate.candidate.cn_height_constr">
                </div>
            </div>
            <div class="form-group" style="margin-bottom:15px;">
                <label class="col-sm-3 control-label">Comments:</label>
                <div class="col-sm-5">
                    <textarea class="form-control" readonly ng-model="createNewCandidateSiteTaskComment" name="createNewCandidateSiteTaskComment" placeholder="Comments..." maxlength="500" rows="4" style="resize:none"></textarea>
                </div>
            </div>

            <accordion class="content-visible-accordion background-yellow-accordion">
                <accordion-group is-open="false">
                    <accordion-heading>
                        <span ng-class="{'error' : isError('address')}">Address<i class="pull-right glyphicon" ng-class="{'glyphicon-chevron-up': status.isCustomHeaderOpen, 'glyphicon-chevron-down': !status.isCustomHeaderOpen}"></i></span>
                    </accordion-heading>
                    <div class="form-group">
                        <!-- <div style="padding-left:30px">
                            <textarea class="form-control no-event" ng-value="leasingCandidate.transmissionAntenna.address.ca_diff_address ? addressToString(leasingCandidate.transmissionAntenna.address) : addressToString(leasingCandidate.address)" ng-model="leasingCandidate.transmissionAntenna.address" name="leasingCandidate.transmissionAntenna.addressString" maxlength="500" rows="3" style="resize:none"></textarea>
                        </div> -->
                        <div>
                            <div class="col-sm-8">
                                <input class="form-control" readonly id="leasingCandidateAddress" name="leasingCandidateAddress" ng-model="leasingCandidate.addressToString" ng-value="addressToString(leasingCandidate.address)">
                                <br>
                                <div class="form-group" ng-show="leasingCandidate.addressEditable">
                                    <label class="col-sm-4 control-label">*Oblast:</label>
                                    <div class="col-sm-8" class="form-check">
                                        <select class="form-control" id="cn_addr_oblast" name="cn_addr_oblast" ng-model="leasingCandidate.address.cn_addr_oblast"
                                                ng-required="leasingCandidate.addressEditable"
                                                ng-change="filterDistrictAfterSelectOblCN(leasingCandidate.address.cn_addr_oblast)">
                                            <option ng-repeat="oblast in oblastList" ng-value="oblast.name">{{oblast.name}}</option>
                                        </select>
                                        <label class="error" ng-show="kcell_form.cn_addr_oblast.$error.required && ( kcell_form.cn_addr_oblast.$touched || parentForm.$submitted)">Required field</label>
                                    </div>
                                </div>
                                <div class="form-group" ng-show="leasingCandidate.addressEditable">
                                    <label class="col-sm-4 control-label">{{((leasingCandidate.confirmStartLeasingTask || leasingCandidate.confirmStartLeasingNOTask) && leasingCandidate.addressEditable ? '*' : '')}}District:</label>
                                    <div class="col-sm-8" class="form-check">
                                        <select class="form-control" id="cn_addr_district" name="cn_addr_district" ng-model="leasingCandidate.address.cn_addr_district"
                                            ng-required="(leasingCandidate.confirmStartLeasingTask || leasingCandidate.confirmStartLeasingNOTask) && leasingCandidate.addressEditable">
                                            <option ng-repeat="district in filteredDistricts" ng-value="district.name">{{district.name}}</option>
                                        </select>
                                        <label class="error" ng-show="kcell_form.cn_addr_district.$error.required && ( kcell_form.cn_addr_district.$touched || parentForm.$submitted)">Required field</label>
                                    </div>
                                </div>
                                <div class="form-group" ng-show="leasingCandidate.addressEditable">
                                    <label class="col-sm-4 control-label">{{((leasingCandidate.confirmStartLeasingTask || leasingCandidate.confirmStartLeasingNOTask) && leasingCandidate.addressEditable ? '*' : '')}}City / Village:</label>
                                    <div class="col-sm-8">
                                        <input type="text" ng-model="leasingCandidate.address.cn_addr_city" name="cn_addr_city" typeahead="city as city.name for city in getCity($viewValue)"
                                        ng-required="(leasingCandidate.confirmStartLeasingTask || leasingCandidate.confirmStartLeasingNOTask) && leasingCandidate.addressEditable"
                                        typeahead-on-select="siteAddressCitySelected($item,$model,$label)" class="form-control" placeholder="Start typing...">
                                        <label class="error" ng-show="kcell_form.cn_addr_city.$error.required && ( kcell_form.cn_addr_city.$touched || parentForm.$submitted)">Required field</label>
                                    </div>
                                </div>
                                <div class="form-group" ng-show="leasingCandidate.addressEditable">
                                    <div class="col-sm-12">
                                        <div class="form-check">
                                            <input type="checkbox" ng-model="leasingCandidate.address.ca_not_full_addres" class="form-check-input" id="ca_not_full_addres">
                                            <label class="form-check-label" for="ca_not_full_addres">Object without address</label>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group" ng-show="leasingCandidate.addressEditable">
                                    <label class="col-sm-4 control-label">{{!leasingCandidate.address.ca_not_full_addres ? '*' : ''}}Street/Microdistrict:</label>
                                    <div class="col-sm-8">
                                        <input class="form-control" id="addr_street" name="cn_addr_street" ng-model="leasingCandidate.address.cn_addr_street" ng-required="leasingCandidate.addressEditable && !leasingCandidate.address.ca_not_full_addres" ng-disabled="leasingCandidate.address.ca_not_full_addres">
                                        <label class="error" ng-show="kcell_form.cn_addr_street.$error.required && ( kcell_form.cn_addr_street.$touched || parentForm.$submitted)">Required field</label>
                                    </div>
                                </div>
                                <div class="form-group" ng-show="leasingCandidate.addressEditable">
                                    <label class="col-sm-4 control-label">{{!leasingCandidate.address.ca_not_full_addres ? '*' : ''}}Building:</label>
                                    <div class="col-sm-8">
                                        <input class="form-control" id="cn_addr_building" name="cn_addr_building" ng-model="leasingCandidate.address.cn_addr_building" ng-required="leasingCandidate.addressEditable && !leasingCandidate.address.ca_not_full_addres" ng-disabled="leasingCandidate.address.ca_not_full_addres">
                                        <label class="error" ng-show="kcell_form.cn_addr_building.$error.required && ( kcell_form.cn_addr_building.$touched || parentForm.$submitted)">Required field</label>
                                    </div>
                                </div>
                                <div class="form-group" ng-show="leasingCandidate.addressEditable">
                                    <label class="col-sm-4 control-label">{{(leasingCandidate.confirmStartLeasingTask || leasingCandidate.confirmStartLeasingNOTask) && leasingCandidate.address.ca_not_full_addres ? '*' : ''}}Cadastral number:</label>
                                    <div class="col-sm-8">
                                        <input class="form-control" id="cn_addr_cadastral_number" name="cn_addr_cadastral_number" ng-model="leasingCandidate.address.cn_addr_cadastral_number">
                                        <label class="error" ng-show="kcell_form.cn_addr_cadastral_number.$error.required && ( kcell_form.cn_addr_cadastral_number.$touched || parentForm.$submitted)">Required field</label>
                                    </div>
                                </div>
                                <div class="form-group" ng-show="leasingCandidate.addressEditable">
                                    <label class="col-sm-4 control-label">{{leasingCandidate.address.ca_not_full_addres ? '*' : ''}}Note to the address:</label>
                                    <div class="col-sm-8">
                                        <input class="form-control" id="cn_addr_note" name="cn_addr_note" ng-model="leasingCandidate.address.cn_addr_note" ng-required="leasingCandidate.addressEditable && leasingCandidate.address.ca_not_full_addres">
                                        <label class="error" ng-show="kcell_form.cn_addr_note.$error.required && ( kcell_form.cn_addr_note.$touched || parentForm.$submitted)">Required field</label>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-2">
                                <span class="input-group-btn" ng-if="leasingCandidate.confirmStartLeasingTask || leasingCandidate.confirmStartLeasingNOTask || leasingCandidate.checkAndApproveFETask">
                                    <button type="button" class="btn btn-default" ng-click="leasingCandidate.addressEditable = !leasingCandidate.addressEditable">
                                        <i class="glyphicon glyphicon-pencil"></i>
                                    </button>
                                </span>
                            </div>
                        </div>
                    </div>
                    <!-- <div class="form-group">
                        <div style="padding-left:30px">
                             <textarea class="form-control no-event" ng-value="addressToString(leasingCandidate.address)" ng-model="leasingCandidate.address" name="leasingCandidate.addressString" maxlength="500" rows="3" style="resize:none"></textarea>
                             -->

                        <!-- </div>
                    </div> -->
                </accordion-group>
            </accordion>

            <accordion class="content-visible-accordion background-yellow-accordion">
                <accordion-group is-open="false">
                    <accordion-heading>
                        <span ng-class="{'error' : isError('cellAntennaInformation')}">Cell antenna information <i class="pull-right glyphicon" ng-class="{'glyphicon-chevron-up': status.isCustomHeaderOpen, 'glyphicon-chevron-down': !status.isCustomHeaderOpen}"></i></span>
                    </accordion-heading>

                    <div class="form-group col-sm-3">
                        <div class="col-sm-12">
                            <div class="form-check">
                                <input type="checkbox" ng-disabled="!(leasingCandidate.taskKey !== null && (leasingCandidate.taskKey === 'uploadRSDandVSDfiles' || leasingCandidate.taskKey === 'confirmStartLeasingNOTask' || leasingCandidate.taskKey === 'confirmStartLeasingTask'))" ng-model="leasingCandidate.cellAntenna.address.ca_diff_address" class="form-check-input" id="check1">
                                <label class="form-check-label" for="check1">Different address</label>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-9">
                        <accordion class="content-visible-accordion background-yellow-accordion">
                            <accordion-group is-open="false">
                                <accordion-heading>
                                    <span ng-class="{'error' : isError('cellAntennaAddress')}">Address<i class="pull-right glyphicon" ng-class="{'glyphicon-chevron-up': status.isCustomHeaderOpen, 'glyphicon-chevron-down': !status.isCustomHeaderOpen}"></i></span>
                                </accordion-heading>
                                <div class="form-group" ng-if="leasingCandidate.cellAntenna.address.ca_diff_address != true">
                                <div style="padding-left:30px">
                                    <textarea class="form-control" readonly ng-value="leasingCandidate.cellAntenna.address.ca_diff_address ? addressToString(leasingCandidate.cellAntenna.address) : addressToString(leasingCandidate.address)" ng-model="leasingCandidate.cellAntenna.address" name="leasingCandidate.cellAntenna.addressString" maxlength="500" rows="3" style="resize:none"></textarea>
                                    </div>
                                </div>
                                <div ng-if="leasingCandidate.cellAntenna.address.ca_diff_address === true">
                                    <div class="form-group">
                                        <label class="col-sm-3 control-label">*Oblast:</label>
                                        <div class="col-sm-8" class="form-check">
                                            <select class="form-control" id="cai_addr_oblast" name="cai_addr_oblast" ng-required="!(leasingCandidate.taskKey !== null && (leasingCandidate.taskKey === 'estimateTechnicalCapabilityRes' || leasingCandidate.taskKey === 'checkAndApproveFE' || leasingCandidate.taskKey === 'approveByCentralTR'))" ng-model="leasingCandidate.cellAntenna.address.cn_addr_oblast"
                                            ng-change="filterDistrictAfterSelectOblInCAI(leasingCandidate.cellAntenna.address.cn_addr_oblast)">
                                                <option ng-repeat="oblast in oblastList" ng-value="oblast.name">{{oblast.name}}</option>
                                            </select>
                                        <label class="error" ng-show="kcell_form.cai_addr_oblast.$error.required && ( kcell_form.cai_addr_oblast.$touched || parentForm.$submitted)">Required field</label>
                                    </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="col-sm-3 control-label">{{(leasingCandidate.confirmStartLeasingTask || leasingCandidate.confirmStartLeasingNOTask) ? '*' : ''}}District:</label>
                                        <div class="col-sm-8" class="form-check">
                                            <select class="form-control" id="cai_addr_district" name="cai_addr_district" ng-model="leasingCandidate.cellAntenna.address.cn_addr_district" ng-required="!(leasingCandidate.taskKey !== null && (leasingCandidate.taskKey === 'estimateTechnicalCapabilityRes' || leasingCandidate.taskKey === 'checkAndApproveFE' || leasingCandidate.taskKey === 'approveByCentralTR'))" ng-disabled="leasingCandidate.cellAntenna.address.ca_diff_address || !leasingCandidate.cellAntenna.address.cn_addr_oblast">
                                                <option ng-repeat="district in filteredDistrictsInCAI" ng-value="district.name">{{district.name}}</option>
                                            </select>
                                            <label class="error" ng-show="kcell_form.cai_addr_district.$error.required && ( kcell_form.cai_addr_district.$touched || parentForm.$submitted)">Required field</label>
                                        </div>
                                    </div>

                                    <div class="form-group">
                                        <label class="col-sm-3 control-label">{{(leasingCandidate.confirmStartLeasingTask || leasingCandidate.confirmStartLeasingNOTask) ? '*' : ''}}City / Village:</label>
                                        <div class="col-sm-8">
                                            <input type="text" ng-model="leasingCandidate.cellAntenna.address.cn_addr_city" name="cai_addr_city" typeahead="city.name for city in getCityCN($viewValue)" typeahead-on-select="cellInfoAddressCitySelected($item,$model,$label)" class="form-control" ng-required="!(leasingCandidate.estimateTechnicalCapabilityResTask || leasingCandidate.checkAndApproveFE || leasingCandidate.approveByCentralTR) && leasingCandidate.cellAntenna.address.ca_diff_address" placeholder="Start typing...">
                                            <label class="error" ng-show="kcell_form.cai_addr_city.$error.required && ( kcell_form.cai_addr_city.$touched || parentForm.$submitted)">Required field</label>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <div class="col-sm-12">
                                            <div class="form-check">
                                                <input type="checkbox" ng-model="leasingCandidate.cellAntenna.address.ca_not_full_addres" class="form-check-input" id="cell_antenna_not_full_addres">
                                                <label class="form-check-label" for="cell_antenna_not_full_addres">Object without address</label>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="col-sm-3 control-label">{{!leasingCandidate.cellAntenna.address.cn_not_full_addres ? '*' : ''}}Street/Microdistrict:</label>
                                        <div class="col-sm-8">
                                            <input class="form-control" id="cai_addr_street" name="cai_addr_street" ng-model="leasingCandidate.cellAntenna.address.cn_addr_street" ng-required="!(leasingCandidate.estimateTechnicalCapabilityResTask || leasingCandidate.checkAndApproveFE || leasingCandidate.approveByCentralTR) && !leasingCandidate.cellAntenna.address.ca_not_full_addres && leasingCandidate.cellAntenna.address.ca_diff_address" ng-disabled="leasingCandidate.cellAntenna.address.cn_not_full_addres">
                                            <label class="error" ng-show="kcell_form.cai_addr_street.$error.required && ( kcell_form.cai_addr_street.$touched || parentForm.$submitted)">Required field</label>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="col-sm-3 control-label">{{!leasingCandidate.cellAntenna.address.cn_not_full_addres ? '*' : ''}}Building:</label>
                                        <div class="col-sm-8">
                                            <input class="form-control" id="cai_addr_building" name="cai_addr_building" ng-model="leasingCandidate.cellAntenna.address.cn_addr_building" ng-required="(leasingCandidate.estimateTechnicalCapabilityResTask || leasingCandidate.checkAndApproveFE || leasingCandidate.approveByCentralTR) && !leasingCandidate.cellAntenna.address.ca_not_full_addres && leasingCandidate.cellAntenna.address.ca_diff_address" ng-disabled="leasingCandidate.cellAntenna.address.cn_not_full_addres">
                                            <label class="error" ng-show="kcell_form.cai_addr_building.$error.required && ( kcell_form.cai_addr_building.$touched || parentForm.$submitted)">Required field</label>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="col-sm-3 control-label">Cadastral number:</label>
                                        <div class="col-sm-8">
                                            <input class="form-control" id="cai_addr_cadastral_number" name="cai_addr_cadastral_number" ng-model="leasingCandidate.cellAntenna.address.cn_addr_cadastral_number">
                                            <label class="error" ng-show="kcell_form.cai_addr_cadastral_number.$error.required && ( kcell_form.cai_addr_cadastral_number.$touched || parentForm.$submitted)">Required field</label>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="col-sm-3 control-label">{{leasingCandidate.cellAntenna.address.cn_not_full_addres ? '*' : ''}}Note to the address:</label>
                                        <div class="col-sm-8">
                                            <input class="form-control" id="cai_addr_note" name="cai_addr_note" ng-model="leasingCandidate.cellAntenna.address.cn_addr_note" ng-required="!(leasingCandidate.estimateTechnicalCapabilityResTask || leasingCandidate.checkAndApproveFE || leasingCandidate.approveByCentralTR) && leasingCandidate.cellAntenna.address.ca_not_full_addres && leasingCandidate.cellAntenna.address.ca_diff_address">
                                            <label class="error" ng-show="kcell_form.cai_addr_note.$error.required && ( kcell_form.cai_addr_note.$touched || parentForm.$submitted)">Required field</label>
                                        </div>
                                    </div>
                            </div>
                            </accordion-group>
                        </accordion>
                    </div>
                    <!-- <div class="col-sm-9">
                        <accordion class="content-visible-accordion">
                            <accordion-group is-open="false" >
                                <accordion-heading>
                                    Cell Antenna Address <i class="pull-right glyphicon"
                                                                ng-class="{'glyphicon-chevron-up': status.isCustomHeaderOpen, 'glyphicon-chevron-down': !status.isCustomHeaderOpen}"></i>
                                </accordion-heading>
                                <div class="form-group">
                                    <label class="col-sm-3 control-label">Oblast:</label>
                                    <div class="col-sm-8" class="form-check">
                                        <select class="form-control" id="cai_addr_oblast" ng-disabled="!cellAntenna.address.ca_diff_address" name="cai_addr_oblast" class="no-event form-control" ng-model="leasingCandidate.cellAntenna.address.cn_addr_oblast"
                                                ng-change="filterDistrictAfterSelectOblInCAI(cellAntenna.address.cn_addr_oblast)">
                                            <option ng-repeat="oblast in oblastList" ng-value="oblast.name">{{oblast.name}}</option>
                                        </select>
                                        <label class="error" ng-show="kcell_form.cai_addr_oblast.$error.required && ( kcell_form.cai_addr_oblast.$touched || parentForm.$submitted)">Required field</label>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="col-sm-3 control-label">District:</label>
                                    <div class="col-sm-8" class="form-check">
                                        <select class="form-control" id="cai_addr_district" ng-disabled="!cellAntenna.address.ca_diff_address || !cellAntenna.address.cn_addr_oblast" name="cai_addr_district" class="no-event form-control" ng-model="leasingCandidate.cellAntenna.address.cn_addr_district">
                                            <option ng-repeat="district in filteredDistrictsInCAI" ng-value="district.name">{{district.name}}</option>
                                        </select>
                                        <label class="error" ng-show="kcell_form.cai_addr_district.$error.required && ( kcell_form.cai_addr_district.$touched || parentForm.$submitted)">Required field</label>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <label class="col-sm-3 control-label">City / Village:</label>
                                    <div class="col-sm-8">
                                        <input type="text" class="no-event form-control" ng-model="leasingCandidate.cellAntenna.address.cn_addr_city" name="cn_addr_city" ng-disabled="!cellAntenna.address.ca_diff_address || !cellAntenna.address.cn_addr_oblast" typeahead="city.name for city in getCity($viewValue)" typeahead-on-select="cellInfoAddressCitySelected($item,$model,$label)" class="form-control" placeholder="Start typing...">
                                        <label class="error" ng-show="kcell_form.cn_addr_city.$error.required && ( kcell_form.cn_addr_city.$touched || parentForm.$submitted)">Required field</label>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <div class="col-sm-12">
                                        <div class="form-check">
                                            <input type="checkbox" class="no-event form-control" ng-model="leasingCandidate.cellAntenna.address.cn_not_full_addres" class="form-check-input" ng-disabled="!cellAntenna.address.ca_diff_address" id="ca_not_full_addres">
                                            <label class="form-check-label" for="ca_not_full_addres">Object without address</label>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="col-sm-3 control-label">Street/Microdistrict:</label>
                                    <div class="col-sm-8">
                                        <input class="form-control" id="cai_addr_street" name="cai_addr_street" class="no-event form-control" ng-model="leasingCandidate.cellAntenna.address.cn_addr_street" ng-disabled="!cellAntenna.address.ca_diff_address || cellAntenna.address.cn_not_full_addres" >
                                        <label class="error" ng-show="kcell_form.cai_addr_street.$error.required && ( kcell_form.cai_addr_street.$touched || parentForm.$submitted)">Required field</label>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="col-sm-3 control-label">Building:</label>
                                    <div class="col-sm-8">
                                        <input class="form-control" id="cai_addr_building" name="cai_addr_building" class="no-event form-control" ng-model="leasingCandidate.cellAntenna.address.cn_addr_building" ng-disabled="!cellAntenna.address.ca_diff_address || cellAntenna.address.cn_not_full_addres">
                                        <label class="error" ng-show="kcell_form.cai_addr_building.$error.required && ( kcell_form.cai_addr_building.$touched || parentForm.$submitted)">Required field</label>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="col-sm-3 control-label">Cadastral number:</label>
                                    <div class="col-sm-8">
                                        <input class="form-control" id="cai_addr_cadastral_number" name="cai_addr_cadastral_number" class="no-event form-control" ng-model="leasingCandidate.cellAntenna.address.cn_addr_cadastral_number" ng-disabled="!cellAntenna.address.ca_diff_address">
                                        <label class="error" ng-show="kcell_form.cai_addr_cadastral_number.$error.required && ( kcell_form.cn_addr_cadastral_number.$touched || parentForm.$submitted)">Required field</label>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="col-sm-3 control-label">Note to the address:</label>
                                    <div class="col-sm-8">
                                        <input class="form-control" id="cn_addr_note" name="cai_addr_note" class="no-event form-control" ng-model="leasingCandidate.cellAntenna.address.cn_addr_note" ng-disabled="!cellAntenna.address.ca_diff_address" >
                                        <label class="error" ng-show="kcell_form.cai_addr_note.$error.required && ( kcell_form.cai_addr_note.$touched || parentForm.$submitted)">Required field</label>
                                    </div>
                                </div>
                            </accordion-group>
                        </accordion>
                    </div> -->
                     <div class="form-group">
                        <label class="col-sm-2 control-label" ng-if="leasingCandidate.taskKey !== null && leasingCandidate.taskKey === 'uploadRSDandVSDfiles'">DU type:</label>
                        <div class="col-sm-2" ng-if="leasingCandidate.taskKey !== null && leasingCandidate.taskKey === 'uploadRSDandVSDfiles'">
                            <select class="form-control col-sm-2"  id="dUnit" name="dUnit" ng-model="leasingCandidate.caDUforAdd" >
                                <option ng-repeat="a in dictionary.dUnit" ng-value="a.name">{{a.name}}</option>
                            </select>
                        </div>
                        <div class="col-sm-8" ng-if="leasingCandidate.taskKey !== null && leasingCandidate.taskKey === 'uploadRSDandVSDfiles'">
                            <input type="button" ng-disabled="!leasingCandidate.caDUforAdd || leasingCandidate.caDUforAdd === ''" ng-click="leasingCandidate.cellAntenna.cn_du.push(leasingCandidate.caDUforAdd); leasingCandidate.caDUforAdd=''; " value="Add to list" class="btn btn-primary">
                        </div>
                        <label class="col-sm-2 control-label"><b>DU type list</b> ({{leasingCandidate.cellAntenna.cn_du ? leasingCandidate.cellAntenna.cn_du.length + ':' : 0}})</label>
                        <div class="col-sm-10" style="margin-top: 5px">
                            <p>
                                <span style="margin-right: 5px; margin-top: 5px" class="label label-warning" ng-repeat="du in leasingCandidate.cellAntenna.cn_du track by $index" ng-show="du">
                                    {{ du.name }} <a ng-click="leasingCandidate.cellAntenna.cn_du.splice($index, 1)" ng-if="leasingCandidate.taskKey !== null && leasingCandidate.taskKey === 'uploadRSDandVSDfiles'">x</a>
                                </span>
                            </p>
                        </div>
                    </div>

                    <tabset class="my-tab" justified="true" id="leasingCandidate.cellAntenna.sectors" >
                        <tab ng-click="tabStepLeft()">
                            <tab-heading height="50px"><b><</b></tab-heading>
                        </tab>
                        <tab ng-repeat="s in leasingCandidate.cellAntenna.sectors" id="sectorTab{{$index}} " ng-click="selectAntennaSector($index)" ng-show="$index >= minTab && $index < maxTab" active="s.active">
                            <tab-heading>
                                <div>
                                    <p>Sector&nbsp;{{$index+1}}-Cell&nbsp;{{alphabet[$index].toUpperCase()}}</p>
                                </div>
                            </tab-heading>
                            <br>
                            <div class="col-sm-12">
                                <div class="form-group" ng-repeat="ant in s.antennas">
                                    <div class="row" style="margin-top:10px">
                                        <br>
                                        <div style="background-color: whitesmoke;" class="col-sm-12">
                                            <label class="control-label"><b>Cell Antenna {{$index+1}}</b></label>
                                            <a ng-click="s.antennas.splice($index,1)" class="pull-right">
                                                <span style="margin-top: 5px" class="glyphicon glyphicon-remove"></span>
                                            </a>
                                        </div>
                                        <div class="col-sm-12" style="background-color: white; margin-bottom:-3%;">
                                            <br>
                                            <table class="table table-condensed">
                                                <thead>
                                                <tr>
                                                    <td>{{leasingCandidate.taskKey !== null && leasingCandidate.taskKey === 'uploadRSDandVSDfiles' ? '*' : ''}}Antenna name:</td>
                                                    <td class="col-sm-1">*Quantity:</td>
                                                    <td>{{leasingCandidate.taskKey !== null && leasingCandidate.taskKey === 'uploadRSDandVSDfiles' ? '*' : ''}}Dimensions:</td>
                                                    <td class="col-sm-1">*Weight (kg):</td>
                                                    <td>{{leasingCandidate.taskKey !== null && leasingCandidate.taskKey === 'uploadRSDandVSDfiles' ? '*' : ''}}Azimuth:</td>
                                                    <td>{{leasingCandidate.taskKey !== null && leasingCandidate.taskKey === 'uploadRSDandVSDfiles' ? '*' : ''}}Suspension height (m):</td>
                                                    <td>{{leasingCandidate.taskKey !== null && leasingCandidate.taskKey === 'uploadRSDandVSDfiles' ? '*' : ''}}Antenna Location:</td>
                                                </tr>
                                                </thead>
                                                <tbody>
                                                <tr>
                                                    <td class="col-sm-3">
                                                        <select class="form-control" ng-disabled="!(leasingCandidate.taskKey !== null && (leasingCandidate.taskKey === 'uploadRSDandVSDfiles' || leasingCandidate.taskKey === 'confirmStartLeasingNOTask' || leasingCandidate.taskKey === 'confirmStartLeasingTask'))" id="antennaName{{$parent.$index}}_{{$index}}" name="antennaName{{$parent.$index}}_{{$index}}" ng-change="antennaNameSelected($parent.$index, $index, ant.antennaName)" ng-model="ant.antennaName" ng-required="leasingCandidate.taskKey !== null && leasingCandidate.taskKey === 'uploadRSDandVSDfiles'">
                                                            <option ng-repeat="a in antennasList" ng-value="a.antenna">{{a.antenna}}</option>
                                                        </select>
                                                        <label class="error" ng-show="kcell_form.antennaName{{$parent.$index}}_{{$index}}.$error.required && ( kcell_form.antennaName{{$parent.$index}}_{{$index}}.$touched || view.submitted)">Required field</label>
                                                    </td>
                                                    <td class="col-sm-1">
                                                        <input type="number" ng-change="changedAntennaQuantity($index, $parent.$index)" class="form-control" id="quantity_{{$parent.$index}}_{{$index}}" ng-readonly="!(leasingCandidate.taskKey !== null && leasingCandidate.taskKey === 'uploadRSDandVSDfiles')"
                                                               name="quantity_{{$parent.$index}}_{{$index}}" ng-model="ant.quantity" placeholder="" ng-required="leasingCandidate.taskKey !== null && leasingCandidate.taskKey === 'uploadRSDandVSDfiles'">
                                                        <label class="error"
                                                               ng-show="kcell_form.quantity_{{$parent.$index}}_{{$index}}.$error.required && ( kcell_form.quantity_{{$parent.$index}}_{{$index}}.$touched || view.submitted)">Required
                                                            field</label>

                                                    </td>
                                                    <td class="col-sm-2">
                                                        <input class="form-control" ng-readonly="!(leasingCandidate.taskKey !== null && leasingCandidate.taskKey === 'uploadRSDandVSDfiles')" id="dimensions_{{$parent.$index}}_{{$index}}"
                                                               name="dimensions_{{$parent.$index}}_{{$index}}" ng-model="ant.dimension"
                                                               placeholder="1000x100x100" ng-required="leasingCandidate.taskKey !== null && leasingCandidate.taskKey === 'uploadRSDandVSDfiles'">
                                                        <label class="error"
                                                               ng-show="kcell_form.dimensions_{{$parent.$index}}_{{$index}}.$error.required && ( kcell_form.dimensions_{{$parent.$index}}_{{$index}}.$touched || view.submitted)">Required
                                                            field</label>
                                                    </td>
                                                    <td class="col-sm-1">
                                                        <input class="form-control" ng-readonly="!(leasingCandidate.taskKey !== null && leasingCandidate.taskKey === 'uploadRSDandVSDfiles')" id="weight_{{$parent.$index}}_{{$index}}" name="weight_{{$parent.$index}}_{{$index}}"
                                                               ng-model="ant.weight" placeholder="10" ng-required="leasingCandidate.taskKey !== null && leasingCandidate.taskKey === 'uploadRSDandVSDfiles'">
                                                        <label class="error"
                                                               ng-show="kcell_form.weight_{{$parent.$index}}_{{$index}}.$error.required && ( kcell_form.weight_{{$parent.$index}}_{{$index}}.$touched || view.submitted)">Required
                                                            field</label>

                                                    </td>
                                                    <td class="col-sm-1">
                                                        <input class="form-control"
                                                               ng-readonly="!(leasingCandidate.taskKey !== null && leasingCandidate.taskKey === 'uploadRSDandVSDfiles')"
                                                               id="azimuth_{{$parent.$index}}_{{$index}}"
                                                               name="azimuth_{{$parent.$index}}_{{$index}}"
                                                               type="number"
                                                               ng-change="checkAzimuth(ant.azimuth, $index)"
                                                               ng-model="ant.azimuth"
                                                               placeholder="(0-360)" ng-required="leasingCandidate.taskKey !== null && leasingCandidate.taskKey === 'uploadRSDandVSDfiles'">
                                                        <label class="error"
                                                               ng-show="kcell_form.azimuth_{{$parent.$index}}_{{$index}}.$error.pattern && ( kcell_form.azimuth_{{$parent.$index}}_{{$index}}.$touched || view.submitted)">Неверный формат</label>
                                                        <label class="error"
                                                               ng-show="kcell_form.azimuth_{{$parent.$index}}_{{$index}}.$error.required && ( kcell_form.azimuth_{{$parent.$index}}_{{$index}}.$touched || view.submitted)">Required
                                                            field</label>
                                                    </td>
                                                    <td class="col-sm-2">
                                                        <input class="form-control"
                                                               ng-readonly="!(leasingCandidate.taskKey !== null && leasingCandidate.taskKey === 'uploadRSDandVSDfiles')"
                                                               id="suspensionHeight_{{$parent.$index}}_{{$index}}"
                                                               name="suspensionHeight_{{$parent.$index}}_{{$index}}"
                                                               ng-model="ant.suspensionHeight"
                                                               placeholder=""
                                                               ng-required="leasingCandidate.taskKey !== null && leasingCandidate.taskKey === 'uploadRSDandVSDfiles'">
                                                        <label class="error"
                                                               ng-show="kcell_form.suspensionHeight_{{$parent.$index}}_{{$index}}.$error.required && ( kcell_form.suspensionHeight_{{$parent.$index}}_{{$index}}.$touched || view.submitted)">Required
                                                            field</label>
                                                    </td>
                                                    <td class="col-sm-2">
                                                        <select class="form-control"
                                                                name="{{'antennaLocation_' + $parent.$index + '_' + $index}}"
                                                                id="{{'antennaLocation_' + $parent.$index + '_' + $index}}"
                                                                ng-model="ant.cn_antenna_loc"
                                                                ng-disabled="!(leasingCandidate.taskKey !== null && leasingCandidate.taskKey === 'uploadRSDandVSDfiles')"
                                                                ng-required="leasingCandidate.taskKey !== null && leasingCandidate.taskKey === 'uploadRSDandVSDfiles'"
                                                                ng-change="antennaLocationSelected($parent.$index, $index, ant.cn_antenna_loc)">
                                                            <option ng-repeat="a in dictionary.antennaLocation" ng-value="a.name">{{a.name}}</option>
                                                        </select>
                                                        <label class="error" ng-show="kcell_form.{{'antennaLocation_' + $parent.$index + '_' + $index}}.$error.required && ( kcell_form.{{'antennaLocation_' + $parent.$index + '_' + $index}}.$touched || view.submitted)">Required field</label>
                                                    </td>
                                                </tr>
                                                <tr><td></td></tr>
                                                </tbody>
                                            </table>
                                            <div class="form-group col-sm-12" style="background-color: white;">
                                                <table>
                                                    <tbody>
                                                    <tr>
                                                        <td class="col-sm-3">
                                                            <label><b>*Antenna type</b></label>
                                                        </td>
                                                        <td  ng-repeat="a in filteredAntennaTypesBySiteType" style="padding-right: 10px">
                                                            <div class="form-check">
                                                                <input type="checkbox" ng-disabled="!(leasingCandidate.taskKey !== null && leasingCandidate.taskKey === 'uploadRSDandVSDfiles')" ng-change="countAntennaQuantity(a, $parent.$parent.$index)" ng-model="ant.antennaType[a]" class="form-check-input" name="{{'antennaType_check_' + $parent.$index + '_' + $index}}" id="{{'antennaType_check_' + $parent.$index + '_' + $index}}" >
                                                                <label class="form-check-label" for="{{'antennaType_check_' + $parent.$index + '_' + $index}}">{{a}}</label>
                                                            </div>
                                                        </td>
                                                    </tr>
                                                    </tbody>
                                                </table>
                                            </div>
                                            <br>
                                        </div>
                                    </div>
                                </div>
                                <br>
                                <div class="col-sm-12">
                                    <table class="table table-condensed">
                                        <tbody>
                                        <tr>
                                            <td>Band:</td>
                                            <td  ng-repeat="a in dictionary.antennaTypes" style="padding-right: 10px">{{a.name}}</td>
                                        </tr>
                                        <tr>
                                            <td>Antenna Quantity:</td>
                                            <td  ng-repeat="a in dictionary.antennaTypes" style="padding-right: 10px">
                                                <input  ng-readonly="!(leasingCandidate.taskKey !== null && leasingCandidate.taskKey === 'uploadRSDandVSDfiles')" ng-disabled="true" class="form-control" type="text" name="cn_gsm_antenna_quantity_{{$parent.$parent.$index}}_{{a.name}}" id="cn_gsm_antenna_quantity_{{$parent.$parent.$index}}_{{a.name}}"
                                                       ng-model="s.bands[a.name].cn_gsm_antenna_quantity">
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>Required TRX:</td>
                                            <td  ng-repeat="a in dictionary.antennaTypes" style="padding-right: 10px">
                                                <input  ng-readonly="!(leasingCandidate.taskKey !== null && leasingCandidate.taskKey === 'uploadRSDandVSDfiles')" class="form-control" ng-disabled="!s.bands[a.name].active || (a.name !== 'G900' && a.name !== 'G1800')" type="text" name="cn_trx_{{$parent.$parent.$index}}_{{a.name}}" id="cn_trx_{{$parent.$parent.$index}}_{{a.name}}"
                                                       ng-model="s.bands[a.name].cn_trx">
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>WCDMA Carrier:</td>
                                            <td  ng-repeat="a in dictionary.antennaTypes" style="padding-right: 10px">
                                                <input  ng-readonly="!(leasingCandidate.taskKey !== null && leasingCandidate.taskKey === 'uploadRSDandVSDfiles')" ng-disabled="!s.bands[a.name].active || (a.name !== 'U900' && a.name !== 'U1800')" class="form-control" type="text" name="cn_wcdma_carrier_{{$parent.$parent.$index}}_{{a.name}}" id="cn_wcdma_carrier_{{$parent.$parent.$index}}_{{a.name}}"
                                                       ng-model="s.bands[a.name].cn_wcdma_carrier">
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>Tilt [deg] mechanical:</td>
                                            <td  ng-repeat="a in dictionary.antennaTypes" style="padding-right: 10px">
                                                <input  ng-readonly="!(leasingCandidate.taskKey !== null && leasingCandidate.taskKey === 'uploadRSDandVSDfiles')" class="form-control" ng-disabled="!s.bands[a.name].active" type="text" name="cn_tilt_mech_{{$parent.$parent.$index}}_{{a.name}}" id="cn_tilt_mech_{{$parent.$parent.$index}}_{{a.name}}"
                                                       ng-model="s.bands[a.name].cn_tilt_mech">
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>Tilt [deg] electrical:</td>
                                            <td  ng-repeat="a in dictionary.antennaTypes" style="padding-right: 10px">
                                                <input  ng-readonly="!(leasingCandidate.taskKey !== null && leasingCandidate.taskKey === 'uploadRSDandVSDfiles')" class="form-control" ng-disabled="!s.bands[a.name].active" type="text" name="cn_tilt_electr_{{$parent.$parent.$index}}_{{a.name}}" id="cn_tilt_electr_{{$parent.$parent.$index}}_{{a.name}}"
                                                       ng-model="s.bands[a.name].cn_tilt_electr">
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>Direction [deg:</td>
                                            <td  ng-repeat="a in dictionary.antennaTypes" style="padding-right: 10px">
                                                <input  ng-readonly="!(leasingCandidate.taskKey !== null && leasingCandidate.taskKey === 'uploadRSDandVSDfiles')" class="form-control" ng-disabled="!s.bands[a.name].active" type="text" name="cn_direction_{{$parent.$parent.$index}}_{{a.name}}" id="cn_direction_{{$parent.$parent.$index}}_{{a.name}}"
                                                       ng-model="s.bands[a.name].cn_direction">
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>Height (top of ant) [m]:</td>
                                            <td  ng-repeat="a in dictionary.antennaTypes" style="padding-right: 10px">
                                                <input  ng-readonly="!(leasingCandidate.taskKey !== null && leasingCandidate.taskKey === 'uploadRSDandVSDfiles')" class="form-control" ng-disabled="!s.bands[a.name].active" type="text" name="cn_height_{{$parent.$parent.$index}}_{{a.name}}" id="cn_height_{{$parent.$parent.$index}}_{{a.name}}"
                                                       ng-model="s.bands[a.name].cn_height">
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>Duplex Filter:</td>
                                            <td  ng-repeat="a in dictionary.antennaTypes" style="padding-right: 10px">
                                                <div class="form-check">
                                                    <input  ng-disabled="!(leasingCandidate.taskKey !== null && leasingCandidate.taskKey === 'uploadRSDandVSDfiles')" type="checkbox" ng-disabled="!s.bands[a.name].active" ng-model="s.bands[a.name].cn_duplex" class="form-check-input" id="cn_duplex_{{$parent.$parent.$index}}_{{a.name}}" name="cn_duplex_{{$parent.$parent.$index}}_{{a.name}}">
                                                    <label class="form-check-label" for="cn_duplex_{{$parent.$parent.$index}}_{{a.name}}">Yes</label>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>Diversity:</td>
                                            <td  ng-repeat="a in dictionary.antennaTypes" style="padding-right: 10px">
                                                <div class="form-check">
                                                    <input  ng-disabled="!(leasingCandidate.taskKey !== null && leasingCandidate.taskKey === 'uploadRSDandVSDfiles')" type="checkbox" ng-disabled="!s.bands[a.name].active" ng-model="s.bands[a.name].cn_diversity" class="form-check-input" id="cn_diversity_{{$parent.$parent.$index}}_{{a.name}}" name="cn_diversity_{{$parent.$parent.$index}}_{{a.name}}">
                                                    <label class="form-check-label" for="cn_diversity_{{$parent.$parent.$index}}_{{a.name}}">Yes</label>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>Power Splitter:</td>
                                            <td  ng-repeat="a in dictionary.antennaTypes" style="padding-right: 10px">
                                                <div class="form-check">
                                                    <input  ng-disabled="!(leasingCandidate.taskKey !== null && leasingCandidate.taskKey === 'uploadRSDandVSDfiles')" type="checkbox" ng-disabled="!s.bands[a.name].active" ng-model="s.bands[a.name].cn_power_splitter" class="form-check-input" id="cn_power_splitter_{{$parent.$parent.$index}}_{{a.name}}" name="cn_power_splitter_{{$parent.$parent.$index}}_{{a.name}}">
                                                    <label class="form-check-label" for="cn_power_splitter_{{$parent.$parent.$index}}_{{a.name}}">Yes</label>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>Hybrid Combiner Unit:</td>
                                            <td  ng-repeat="a in dictionary.antennaTypes" style="padding-right: 10px">
                                                <div class="form-check">
                                                    <input  ng-disabled="!(leasingCandidate.taskKey !== null && leasingCandidate.taskKey === 'uploadRSDandVSDfiles')" type="checkbox" ng-disabled="!s.bands[a.name].active" ng-model="s.bands[a.name].cn_hcu" class="form-check-input" id="cn_hcu_{{$parent.$parent.$index}}_{{a.name}}" name="cn_hcu_{{$parent.$parent.$index}}_{{a.name}}">
                                                    <label class="form-check-label" for="cn_hcu_{{$parent.$parent.$index}}_{{a.name}}">Yes</label>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>ASC:</td>
                                            <td  ng-repeat="a in dictionary.antennaTypes" style="padding-right: 10px">
                                                <div class="form-check">
                                                    <input  ng-disabled="!(leasingCandidate.taskKey !== null && leasingCandidate.taskKey === 'uploadRSDandVSDfiles')" type="checkbox" ng-disabled="!s.bands[a.name].active" ng-model="s.bands[a.name].cn_asc" class="form-check-input" id="cn_asc_{{$parent.$parent.$index}}_{{a.name}}" name="cn_asc_{{$parent.$parent.$index}}_{{a.name}}">
                                                    <label class="form-check-label" for="cn_asc_{{$parent.$parent.$index}}_{{a.name}}">Yes</label>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>Remote Electrical Tilt:</td>
                                            <td  ng-repeat="a in dictionary.antennaTypes" style="padding-right: 10px">
                                                <div class="form-check">
                                                    <input  ng-disabled="!(leasingCandidate.taskKey !== null && leasingCandidate.taskKey === 'uploadRSDandVSDfiles')" type="checkbox" ng-disabled="!s.bands[a.name].active" ng-model="s.bands[a.name].cn_ret" class="form-check-input" id="cn_ret_{{$parent.$parent.$index}}_{{a.name}}" name="cn_ret_{{$parent.$parent.$index}}_{{a.name}}">
                                                    <label class="form-check-label" for="cn_ret_{{$parent.$parent.$index}}_{{a.name}}">Yes</label>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>TMA:</td>
                                            <td  ng-repeat="a in dictionary.antennaTypes" style="padding-right: 10px">
                                                <div class="form-check">
                                                    <input  ng-disabled="!(leasingCandidate.taskKey !== null && leasingCandidate.taskKey === 'uploadRSDandVSDfiles')" type="checkbox" ng-disabled="!s.bands[a.name].active" ng-model="s.bands[a.name].cn_tma" class="form-check-input" id="cn_tma_{{$parent.$parent.$index}}_{{a.name}}" name="cn_tma_{{$parent.$parent.$index}}_{{a.name}}">
                                                    <label class="form-check-label" for="cn_tma_{{$parent.$parent.$index}}_{{a.name}}">Yes</label>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>TCC:</td>
                                            <td  ng-repeat="a in dictionary.antennaTypes" style="padding-right: 10px">
                                                <div class="form-check">
                                                    <input  ng-disabled="!(leasingCandidate.taskKey !== null && leasingCandidate.taskKey === 'uploadRSDandVSDfiles')" type="checkbox" ng-disabled="!s.bands[a.name].active || (a.name !== 'G900' && a.name !== 'G1800')" ng-model="s.bands[a.name].cn_tcc" class="form-check-input" id="cn_tcc_{{$parent.$parent.$index}}_{{a.name}}" name="cn_tcc_{{$parent.$parent.$index}}_{{a.name}}">
                                                    <label class="form-check-label" for="cn_tcc_{{$parent.$parent.$index}}_{{a.name}}">Yes</label>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>Extended range:</td>
                                            <td  ng-repeat="a in dictionary.antennaTypes" style="padding-right: 10px">
                                                <div class="form-check">
                                                    <input  ng-disabled="!(leasingCandidate.taskKey !== null && leasingCandidate.taskKey === 'uploadRSDandVSDfiles')" type="checkbox" ng-disabled="!s.bands[a.name].active || (a.name !== 'G900' && a.name !== 'G1800')" ng-model="s.bands[a.name].cn_gsm_range" class="form-check-input" id="cn_gsm_range_{{$parent.$parent.$index}}_{{a.name}}" name="cn_gsm_range_{{$parent.$parent.$index}}_{{a.name}}">
                                                    <label class="form-check-label" for="cn_gsm_range_{{$parent.$parent.$index}}_{{a.name}}">Yes</label>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>Radio Unit type:</td>
                                            <td  ng-repeat="a in dictionary.antennaTypes" style="padding-right: 10px">
                                                <select  ng-disabled="!(leasingCandidate.taskKey !== null && leasingCandidate.taskKey === 'uploadRSDandVSDfiles')" class="form-control col-sm-2" ng-disabled="!s.bands[a.name].active" name="radioUnit_{{$parent.$parent.$index}}_{{a.name}}" id="radioUnit_{{$parent.$parent.$index}}_{{a.name}}" ng-model="s.bands[a.name].cn_radio_unit.name" >
                                                    <option ng-repeat="r in dictionary.radioUnit" ng-value="r.name">{{r.name}}</option>
                                                </select>
                                            </td>
                                        </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </tab>
                        <tab ng-click="tabStepRight()">
                            <tab-heading height="50px"><b>></b></tab-heading>
                        </tab>
                    </tabset>
                    <br>
                    <!-- asdasd
                    <div class="form-group">
                        <label class="col-sm-3 control-label">Antennas:</label>
                        <div class="col-sm-8">
                            <div class="form-check col-sm-5">
                                <select multiple style="overflow-y: scroll; height: 20vh" ng-model="leasingCandidate.firstMultiselect" class="form-control no-event" id="sel3">
                                    <option ng-repeat="d in dictionary.antennasList" value="{{$index}}">{{d.antenna}}</option>
                                </select>
                            </div>
                            <div class="form-check col-sm-2 no-event">
                                <div class="btn-group-vertical btn-group-xs pull-right col-sm-pull-5">
                                    <button type="button" class="btn btn-default"><span class="glyphicon glyphicon-chevron-right" ng-click="fromFirstToSecondWindow(firstMultiselect)"></span></button>
                                    <button type="button" class="btn btn-default"><span class="glyphicon glyphicon-chevron-left" ng-click="fromSecondToFirstWindow(secondMultiSelect)"></span></button>
                                </div>
                            </div>
                            <div class="form-check col-sm-5">
                                <select multiple class="form-control no-event" style="overflow-y: scroll; height: 20vh" ng-model="secondMultiSelect" id="sel4" name="selectedAntennas">
                                    <option ng-repeat="a in leasingCandidate.cellAntenna.selectedAntennas">{{a.antenna}}</option>
                                </select>
                                <label class="error" ng-show="kcell_form.selectedAntennas.$error.required && ( kcell_form.selectedAntennas.$touched || parentForm.$submitted)">Required field</label>

                            </div>
                        </div>
                    </div>
                    -->
                    <!--<div class="form-group">
                        <label class="col-sm-3 control-label">Cell Antenna quantity:</label>
                        <div class="col-sm-8">
                            <input class="form-control" id="antennasQuantity" name="antennasQuantity" class="no-event form-control" ng-model="leasingCandidate.cellAntenna.quantity">
                            <label class="error" ng-show="kcell_form.antennasQuantity.$error.required && ( kcell_form.antennasQuantity.$touched || parentForm.$submitted)">Required field</label>
                        </div>
                    </div>-->

                    <!--
                    <div class="form-group ">
                        <label class="col-sm-1 control-label"></label>
                        <div class="col-sm-11">
                            <table class="table table-condensed" ng-show="leasingCandidate.cellAntenna.selectedAntennas && leasingCandidate.cellAntenna.selectedAntennas.length>0">
                                <thead>
                                <tr>
                                    <td>Antenna name:</td>
                                    <td class="col-sm-1">Quantity:</td>
                                    <td>Dimensions:</td>
                                    <td class="col-sm-2">Frequency band:</td>
                                    <td class="col-sm-1">Weight:</td>
                                    <td>Azimuth:</td>
                                    <td>Suspension height:</td>
                                </tr>
                                </thead>
                                <tbody>
                                <tr class="no-event" ng-repeat="s in leasingCandidate.cellAntenna.selectedAntennas">
                                    <td class="col-sm-3">{{s.antenna}}</td>
                                    <td class="col-sm-1">
                                        <input type="text"  required class="form-control" id="quantity_{{$index}}" name="quantity_{{$index}}" ng-model="s.quantity" placeholder="">
                                        <label class="error" ng-show="kcell_form.quantity_{{$index}}.$error.required && ( kcell_form.quantity_{{$index}}.$touched || parentForm.$submitted)">Required field</label>

                                    </td>
                                    <td class="col-sm-2">
                                        <input class="form-control" id="dimensions_{{$index}}" name="dimensions_{{$index}}" ng-model="s.dimension" placeholder="1000x100x100" required>
                                        <label class="error" ng-show="kcell_form.dimensions_{{$index}}.$error.required && ( kcell_form.dimensions_{{$index}}.$touched || parentForm.$submitted)">Required field</label>
                                    </td>
                                    <td class="col-sm-2">
                                        <input class="form-control" type="number" id="frequencyBand_{{$index}}" name="frequencyBand_{{$index}}" ng-model="s.frequencyBand" placeholder="" required>
                                        <label class="error" ng-show="kcell_form.frequencyBand_{{$index}}.$error.required && ( kcell_form.frequencyBand_{{$index}}.$touched || parentForm.$submitted)">Required field</label>
                                    </td>
                                    <td class="col-sm-1">
                                        <input class="form-control" id="weight_{{$index}}" name="weight_{{$index}}" ng-model="s.weight" placeholder="10" required>
                                        <label class="error" ng-show="kcell_form.weight_{{$index}}.$error.required && ( kcell_form.weight_{{$index}}.$touched || parentForm.$submitted)">Required field</label>

                                    </td>
                                    <td class="col-sm-2">
                                        <input class="form-control" id="azimuth_{{$index}}" name="azimuth_{{$index}}" type="number" ng-change="checkAzimuth(s.azimuth, $index)" ng-model="s.azimuth" placeholder="(0-360)" required>
                                        <label class="error" ng-show="kcell_form.azimuth_{{$index}}.$error.required && ( kcell_form.azimuth_{{$index}}.$touched || parentForm.$submitted)">Required field</label>
                                    </td>
                                    <td class="col-sm-2">
                                        <input class="form-control" id="suspensionHeight_{{$index}}" name="suspensionHeight_{{$index}}" ng-model="s.suspensionHeight" placeholder="" required>
                                        <label class="error" ng-show="kcell_form.suspensionHeight_{{$index}}.$error.required && ( kcell_form.suspensionHeight_{{$index}}.$touched || parentForm.$submitted)">Required field</label>

                                    </td>

                                </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-sm-3 control-label">Address:</label>
                        <div class="col-sm-8" style="padding-left:30px">
                            <textarea class="form-control no-event" ng-value="addressToString(leasingCandidate.cellAntenna.address)" class="no-event form-control" ng-model="leasingCandidate.cellAntenna.address" name="address" maxlength="500" rows="3" style="resize:none"></textarea>
                            <label class="error" ng-show="kcell_form.address.$error.required && ( kcell_form.address.$touched || parentForm.$submitted)">Required field</label>
                        </div>
                    </div>
                -->
                </accordion-group>
            </accordion>


            <accordion class="content-visible-accordion">
                <accordion-group is-open="false">
                    <accordion-heading>
                        <span ng-class="{'error' : isError('renterCompany')}">Renter Company   <i class="pull-right glyphicon" ng-class="{'glyphicon-chevron-up': status.isCustomHeaderOpen, 'glyphicon-chevron-down': !status.isCustomHeaderOpen}"></i></span>
                    </accordion-heading>
                    <div class="form-group">
                        <label class="col-sm-3 control-label">{{leasingCandidate.confirmStartLeasingTask || leasingCandidate.confirmStartLeasingNOTask ? '*' : ''}}Legal type:</label>
                        <div class="col-sm-6">
                            <select class="form-control"  id="legalType" name="legalType"
                                    ng-model="leasingCandidate.renterCompany.legalType"
                                    ng-options="type.id as type.desc for type in dictionary.legalType"
                                    ng-selected="defineSiteObjectType()"
                                    ng-required="(leasingCandidate.confirmStartLeasingTask && confirmStartLeasingTaskResult !== 'Reject')
 || leasingCandidate.confirmStartLeasingNOTask">
                            </select>
                            <label class="error" ng-show="kcell_form.legalType.$error.required && ( kcell_form.legalType.$touched || parentForm.$submitted)">Required field</label>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-sm-3 control-label">{{leasingCandidate.confirmStartLeasingTask || leasingCandidate.confirmStartLeasingNOTask ? '*' : ''}}Legal name:</label>
                        <div class="col-sm-6">
                            <input class="form-control"  id="RClegalName" name="RClegalName"  ng-model="leasingCandidate.renterCompany.legalName"
                                   ng-required="(leasingCandidate.confirmStartLeasingTask && confirmStartLeasingTaskResult !== 'Reject')
 || leasingCandidate.confirmStartLeasingNOTask">
                            <label class="error" ng-show="kcell_form.RClegalName.$error.required && ( kcell_form.RClegalName.$touched || parentForm.$submitted)">Required field</label>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-sm-3 control-label">{{leasingCandidate.confirmStartLeasingTask || leasingCandidate.confirmStartLeasingNOTask ? '*' : ''}}Legal address:</label>
                        <div class="col-sm-6">
                            <input class="form-control "  id="legalAddress" name="legalAddress"  ng-model="leasingCandidate.renterCompany.legalAddress" ng-required="(leasingCandidate.confirmStartLeasingTask && confirmStartLeasingTaskResult !== 'Reject')
 || leasingCandidate.confirmStartLeasingNOTask">
                            <label class="error" ng-show="kcell_form.legalAddress.$error.required && ( kcell_form.legalAddress.$touched || parentForm.$submitted)">Required field</label>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-sm-3 control-label">{{leasingCandidate.confirmStartLeasingTask || leasingCandidate.confirmStartLeasingNOTask ? '*' : ''}}Tel./Fax:</label>
                        <div class="col-sm-6">
                            <input class="form-control "  id="telFax" name="telFax"  ng-model="leasingCandidate.renterCompany.telFax" ng-required="(leasingCandidate.confirmStartLeasingTask && confirmStartLeasingTaskResult !== 'Reject')
 || leasingCandidate.confirmStartLeasingNOTask">
                            <label class="error" ng-show="kcell_form.telFax.$error.required && ( kcell_form.telFax.$touched || parentForm.$submitted)">Required field</label>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-sm-3 control-label">{{leasingCandidate.confirmStartLeasingTask || leasingCandidate.confirmStartLeasingNOTask ? '*' : ''}}Name of the 1st Leader:</label>
                        <div class="col-sm-6">
                            <input class="form-control"  id="firstLeaderName" name="firstLeaderName"  ng-model="leasingCandidate.renterCompany.firstLeaderName" ng-required="(leasingCandidate.confirmStartLeasingTask && confirmStartLeasingTaskResult !== 'Reject')
 || leasingCandidate.confirmStartLeasingNOTask">
                            <label class="error" ng-show="kcell_form.firstLeaderName.$error.required && ( kcell_form.firstLeaderName.$touched || parentForm.$submitted)">Required field</label>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-sm-3 control-label">{{leasingCandidate.confirmStartLeasingTask || leasingCandidate.confirmStartLeasingNOTask ? '*' : ''}}Position of the 1st Leader:</label>
                        <div class="col-sm-6">
                            <input class="form-control"  id="firstLeaderPos" name="firstLeaderPos"  ng-model="leasingCandidate.renterCompany.firstLeaderPos" ng-required="(leasingCandidate.confirmStartLeasingTask && confirmStartLeasingTaskResult !== 'Reject')
 || leasingCandidate.confirmStartLeasingNOTask">
                            <label class="error" ng-show="kcell_form.firstLeaderPos.$error.required && ( kcell_form.firstLeaderPos.$touched || parentForm.$submitted)">Required field</label>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-sm-3 control-label">{{leasingCandidate.confirmStartLeasingTask || leasingCandidate.confirmStartLeasingNOTask ? '*' : ''}}Email:</label>
                        <div class="col-sm-6">
                            <input class="form-control email"  id="email" name="email"  ng-model="leasingCandidate.renterCompany.email" ng-required="(leasingCandidate.confirmStartLeasingTask && confirmStartLeasingTaskResult !== 'Reject')
 || leasingCandidate.confirmStartLeasingNOTask">
                            <label class="error" ng-show="kcell_form.email.$error.required && ( kcell_form.email.$touched || parentForm.$submitted)">Required field</label>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-sm-3 control-label"><h4>Contact Person</h4></label>
                        <div class="col-sm-6"></div>
                    </div>
                    <div class="form-group">
                        <label class="col-sm-3 control-label">{{leasingCandidate.confirmStartLeasingTask || leasingCandidate.confirmStartLeasingNOTask ? '*' : ''}}Name:</label>
                        <div class="col-sm-6">
                            <input class="form-control"  id="contactName" name="contactName"  ng-model="leasingCandidate.renterCompany.contactName" ng-required="(leasingCandidate.confirmStartLeasingTask && confirmStartLeasingTaskResult !== 'Reject')
 || leasingCandidate.confirmStartLeasingNOTask">
                            <label class="error" ng-show="kcell_form.contactName.$error.required && ( kcell_form.contactName.$touched || parentForm.$submitted)">Required field</label>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-sm-3 control-label">{{leasingCandidate.confirmStartLeasingTask || leasingCandidate.confirmStartLeasingNOTask ? '*' : ''}}LastName:</label>
                        <div class="col-sm-6">
                            <input class="form-control"  id="contactLastName" name="contactLastName"  ng-model="leasingCandidate.renterCompany.contactLastName" ng-required="(leasingCandidate.confirmStartLeasingTask && confirmStartLeasingTaskResult !== 'Reject')
 || leasingCandidate.confirmStartLeasingNOTask">
                            <label class="error" ng-show="kcell_form.contactLastName.$error.required && ( kcell_form.contactLastName.$touched || parentForm.$submitted)">Required field</label>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-sm-3 control-label">{{leasingCandidate.confirmStartLeasingTask || leasingCandidate.confirmStartLeasingNOTask ? '*' : ''}}Position:</label>
                        <div class="col-sm-6">
                            <input class="form-control"  id="position" name="position"  ng-model="leasingCandidate.renterCompany.contactPosition" ng-required="(leasingCandidate.confirmStartLeasingTask && confirmStartLeasingTaskResult !== 'Reject')
 || leasingCandidate.confirmStartLeasingNOTask">
                            <label class="error" ng-show="kcell_form.position.$error.required && ( kcell_form.position.$touched || parentForm.$submitted)">Required field</label>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-sm-3 control-label">Contact Information:</label>
                        <div class="col-sm-6">
                            <input class="form-control"  id="contractInfo" name="contractInfo"  ng-model="leasingCandidate.renterCompany.contactInfo">
                            <label class="error" ng-show="kcell_form.contractInfo.$error.required && ( kcell_form.contractInfo.$touched || parentForm.$submitted)">Required field</label>
                        </div>
                    </div>

                </accordion-group>
            </accordion>

            <accordion class="content-visible-accordion" ng-show="leasingCandidate.candidate.transmissionType !== 'Provider' && leasingCandidate.candidate.transmissionType !== 'Satellite'">
                <accordion-group is-open="false">
                    <accordion-heading>
                        <span ng-class="{'error' : isError('nearEndInformation')}">Near End Information <i class="pull-right glyphicon" ng-class="{'glyphicon-chevron-up': status.isCustomHeaderOpen, 'glyphicon-chevron-down': !status.isCustomHeaderOpen}"></i></span>
                    </accordion-heading>
                    <div class="form-group">
                        <label class="col-sm-3 control-label">{{leasingCandidate.checkAndApproveFETask ? '*' : ''}}TR Antenna type:</label>
                        <div class="col-sm-6">
                            <select ng-disabled="!leasingCandidate.checkAndApproveFETask && !(leasingCandidate.taskKey === 'approveByCentralTR')" class="form-control" id="antennaType" name="antennaType"
                                    ng-model="leasingCandidate.transmissionAntenna.antennaType"
                                    ng-change="defineByAntennaType(leasingCandidate.transmissionAntenna.antennaType, 'transmission')" ng-required="leasingCandidate.checkAndApproveFETask && leasingCandidate.candidate.transmissionType !== 'Provider' && leasingCandidate.candidate.transmissionType !== 'Satellite'">
                                <option value="">-</option>
                                <option ng-repeat="a in dictionary.antennaType" value="{{a.name}}">{{a.name}}</option>
                            </select>
                            <label class="error" ng-show="kcell_form.antennaType.$error.required && ( kcell_form.antennaType.$touched || parentForm.$submitted)">Required field</label>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-sm-3 control-label">{{leasingCandidate.checkAndApproveFETask ? '*' : ''}}TR Antenna quantity:</label>
                        <div class="col-sm-6">
                            <input ng-readonly="!leasingCandidate.checkAndApproveFETask && !(leasingCandidate.taskKey === 'approveByCentralTR')" type="number" class="form-control" id="antennaQuantity"
                                   name="antennaQuantity"  ng-model="leasingCandidate.transmissionAntenna.antennaQuantity" ng-required="leasingCandidate.checkAndApproveFETask && leasingCandidate.candidate.transmissionType !== 'Provider' && leasingCandidate.candidate.transmissionType !== 'Satellite'">
                            <label class="error" ng-show="kcell_form.antennaQuantity.$error.required && ( kcell_form.antennaQuantity.$touched || parentForm.$submitted)">Required field</label>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-sm-3 control-label">{{leasingCandidate.checkAndApproveFETask ? '*' : ''}}Frequency Band:</label>
                        <div class="col-sm-6">
                            <select ng-disabled="(!leasingCandidate.checkAndApproveFETask && !(leasingCandidate.taskKey === 'approveByCentralTR')) || !leasingCandidate.frequenciesByAntennaType" class="form-control" id="frequencyBand" name="frequencyBand"
                                    ng-model="leasingCandidate.transmissionAntenna.frequencyBand" ng-required="leasingCandidate.checkAndApproveFETask && leasingCandidate.candidate.transmissionType !== 'Provider' && leasingCandidate.candidate.transmissionType !== 'Satellite'">
                                <option ng-repeat="freq in leasingCandidate.frequenciesByAntennaType.frequencies">{{freq}}</option>
                            </select>
                            <label class="error" ng-show="kcell_form.frequencyBand.$error.required && ( kcell_form.frequencyBand.$touched || parentForm.$submitted)">Required field</label>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-sm-3 control-label">Diameter:</label>
                        <div class="col-sm-6">{{leasingCandidate.transmissionAntenna.diameter}}</div>
                    </div>
                    <div class="form-group">
                        <label class="col-sm-3 control-label">Weight:</label>
                        <div class="col-sm-6">{{leasingCandidate.transmissionAntenna.weight}}</div>
                    </div>
                    <div class="form-group">
                        <label class="col-sm-3 control-label">{{leasingCandidate.checkAndApproveFETask ? '*' : ''}}Suspension height of antennas:</label>
                        <div class="col-sm-6">
                            <input type="number" class="form-control" id="TRSuspensionHeight" name="TRSuspensionHeight"  ng-model="leasingCandidate.transmissionAntenna.suspensionHeight" ng-readonly="!leasingCandidate.checkAndApproveFETask && !(leasingCandidate.taskKey === 'approveByCentralTR')" ng-required="leasingCandidate.checkAndApproveFETask && leasingCandidate.candidate.transmissionType !== 'Provider' && leasingCandidate.candidate.transmissionType !== 'Satellite'">
                            <label class="error" ng-show="kcell_form.TRSuspensionHeight.$error.required && ( kcell_form.TRSuspensionHeight.$touched || parentForm.$submitted)">Required field</label>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-sm-3 control-label">{{leasingCandidate.checkAndApproveFETask ? '*' : ''}}Azimuth:</label>
                        <div class="col-sm-3">
                            <input class="form-control" id="TRazimuth" disabled name="TRazimuth"  ng-model="leasingCandidate.transmissionAntenna.azimuth" ng-readonly="!leasingCandidate.checkAndApproveFETask && !(leasingCandidate.taskKey === 'approveByCentralTR')" ng-required="leasingCandidate.checkAndApproveFETask && leasingCandidate.candidate.transmissionType !== 'Provider' && leasingCandidate.candidate.transmissionType !== 'Satellite'">
                            <label class="error" ng-show="kcell_form.TRazimuth.$error.required && ( kcell_form.TRazimuth.$touched || parentForm.$submitted)">Required field</label>
                        </div>
                        <div class="col-sm-3">
                            <button type="button" class="btn btn-default" ng-click="autoSetAzimuth()">
                                Расчитать
                            </button>
                        </div>
                    </div>

                    <div class="form-group col-sm-3">
                        <div class="col-sm-12">
                            <div class="form-check">
                                <input type="checkbox" ng-disabled="!(leasingCandidate.taskKey === 'approveByCentralTR' || leasingCandidate.confirmStartLeasingNOTask || leasingCandidate.confirmStartLeasingTask || leasingCandidate.checkAndApproveFETask)"
                                ng-model="leasingCandidate.transmissionAntenna.address.ca_diff_address" class="form-check-input" id="checkNE">
                                <label class="form-check-label" for="checkNE">Different address</label>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-9">
                        <accordion class="content-visible-accordion background-yellow-accordion">
                            <accordion-group is-open="false">
                                <accordion-heading>
                                    <span ng-class="{'error' : isError('nearEndAddress')}">Address<i class="pull-right glyphicon" ng-class="{'glyphicon-chevron-up': status.isCustomHeaderOpen, 'glyphicon-chevron-down': !status.isCustomHeaderOpen}"></i></span>
                                </accordion-heading>
                                <div class="form-group">
                                    <!-- <div style="padding-left:30px">
                                        <textarea class="form-control no-event" ng-value="leasingCandidate.transmissionAntenna.address.ca_diff_address ? addressToString(leasingCandidate.transmissionAntenna.address) : addressToString(leasingCandidate.address)" ng-model="leasingCandidate.transmissionAntenna.address" name="leasingCandidate.transmissionAntenna.addressString" maxlength="500" rows="3" style="resize:none"></textarea>
                                    </div> -->
                                    <div class="col-sm-10">
                                        <input class="form-control" readonly id="nearEndAddress" name="nearEndAddress" ng-model="leasingCandidate.transmissionAntenna.addressToString" ng-value="leasingCandidate.transmissionAntenna.address.ca_diff_address ? addressToString(leasingCandidate.transmissionAntenna.address) : addressToString(leasingCandidate.address)">
                                        <br>
                                        <div class="form-group" ng-show="leasingCandidate.transmissionAntenna.addressEditable">
                                            <label class="col-sm-4 control-label">*Oblast:</label>
                                            <div class="col-sm-8" class="form-check">
                                                <select class="form-control" id="cn_addr_oblast" name="nei_addr_oblast" ng-model="leasingCandidate.transmissionAntenna.address.cn_addr_oblast"
                                                        ng-change="filterDistrictAfterSelectOblNE(leasingCandidate.transmissionAntenna.address.cn_addr_oblast)"
                                                        ng-required="leasingCandidate.transmissionAntenna.addressEditable">
                                                    <option ng-repeat="oblast in oblastList" ng-value="oblast.name">{{oblast.name}}</option>
                                                </select>
                                                <label class="error" ng-show="kcell_form.nei_addr_oblast.$error.required && ( kcell_form.nei_addr_oblast.$touched || parentForm.$submitted)">Required field</label>
                                            </div>
                                        </div>
                                        <div class="form-group" ng-show="leasingCandidate.transmissionAntenna.addressEditable">
                                            <label class="col-sm-4 control-label">{{(leasingCandidate.confirmStartLeasingTask || leasingCandidate.confirmStartLeasingNOTask) ? '*' : ''}}District:</label>
                                            <div class="col-sm-8" class="form-check">
                                                <select class="form-control" id="nei_addr_district" name="nei_addr_district" ng-model="leasingCandidate.transmissionAntenna.address.cn_addr_district"
                                                ng-required="(leasingCandidate.confirmStartLeasingTask || leasingCandidate.confirmStartLeasingNOTask) && leasingCandidate.transmissionAntenna.addressEditable">
                                                    <option ng-repeat="district in filteredDistricts" ng-value="district.name">{{district.name}}</option>
                                                </select>
                                                <label class="error" ng-show="kcell_form.nei_addr_district.$error.required && ( kcell_form.nei_addr_district.$touched || parentForm.$submitted)">Required field</label>
                                            </div>
                                        </div>
                                        <div class="form-group" ng-show="leasingCandidate.transmissionAntenna.addressEditable">
                                            <label class="col-sm-4 control-label">{{(leasingCandidate.confirmStartLeasingTask || leasingCandidate.confirmStartLeasingNOTask) ? '*' : ''}}City / Village:</label>
                                            <div class="col-sm-8">
                                                <input type="text" ng-model="leasingCandidate.transmissionAntenna.address.cn_addr_city" ng-value='city.name' name="nei_addr_city" typeahead="city.name for city in getCityNE($viewValue)"
                                                ng-required="(leasingCandidate.confirmStartLeasingTask || leasingCandidate.confirmStartLeasingNOTask) && leasingCandidate.transmissionAntenna.addressEditable"
                                                typeahead-on-select="addressCitySelectedNE($item,$model,$label)" class="form-control" placeholder="Start typing...">
                                                <label class="error" ng-show="kcell_form.nei_addr_city.$error.required && ( kcell_form.nei_addr_city.$touched || parentForm.$submitted)">Required field</label>
                                            </div>
                                        </div>
                                        <div class="form-group" ng-show="leasingCandidate.transmissionAntenna.addressEditable">
                                            <div class="col-sm-12">
                                                <div class="form-check">
                                                    <input type="checkbox" ng-model="leasingCandidate.transmissionAntenna.address.ca_not_full_addres" class="form-check-input" id="ca_not_full_addres">
                                                    <label class="form-check-label" for="ca_not_full_addres">Object without address</label>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="form-group" ng-show="leasingCandidate.transmissionAntenna.addressEditable">
                                            <label class="col-sm-4 control-label">{{!leasingCandidate.transmissionAntenna.address.ca_not_full_addres ? '*' : ''}}Street/Microdistrict:</label>
                                            <div class="col-sm-8">
                                                <input class="form-control" id="nei_addr_street" name="nei_addr_street" ng-model="leasingCandidate.transmissionAntenna.address.cn_addr_street" ng-required="leasingCandidate.transmissionAntenna.addressEditable && !leasingCandidate.transmissionAntenna.address.ca_not_full_addres" ng-disabled="leasingCandidate.transmissionAntenna.address.ca_not_full_addres">
                                                <label class="error" ng-show="kcell_form.nei_addr_street.$error.required && ( kcell_form.nei_addr_street.$touched || parentForm.$submitted)">Required field</label>
                                            </div>
                                        </div>
                                        <div class="form-group" ng-show="leasingCandidate.transmissionAntenna.addressEditable">
                                            <label class="col-sm-4 control-label">{{!leasingCandidate.transmissionAntenna.address.ca_not_full_addres ? '*' : ''}}Building:</label>
                                            <div class="col-sm-8">
                                                <input class="form-control" id="nei_addr_building" name="nei_addr_building" ng-model="leasingCandidate.transmissionAntenna.address.cn_addr_building" ng-required="leasingCandidate.transmissionAntenna.addressEditable && !leasingCandidate.transmissionAntenna.address.ca_not_full_addres" ng-disabled="leasingCandidate.transmissionAntenna.address.ca_not_full_addres">
                                                <label class="error" ng-show="kcell_form.nei_addr_building.$error.required && ( kcell_form.nei_addr_building.$touched || parentForm.$submitted)">Required field</label>
                                            </div>
                                        </div>
                                        <div class="form-group" ng-show="leasingCandidate.transmissionAntenna.addressEditable">
                                            <label class="col-sm-4 control-label">Cadastral number:</label>
                                            <div class="col-sm-8">
                                                <input class="form-control" id="nei_addr_cadastral_number" name="nei_addr_cadastral_number" ng-model="leasingCandidate.transmissionAntenna.address.cn_addr_cadastral_number">
                                                <label class="error" ng-show="kcell_form.cn_addr_cadastral_number.$error.required && ( kcell_form.cn_addr_cadastral_number.$touched || parentForm.$submitted)">Required field</label>
                                            </div>
                                        </div>
                                        <div class="form-group" ng-show="leasingCandidate.transmissionAntenna.addressEditable">
                                            <label class="col-sm-4 control-label">{{leasingCandidate.transmissionAntenna.address.ca_not_full_addres ? '*' : ''}}Note to the address:</label>
                                            <div class="col-sm-8">
                                                <input class="form-control" id="nei_addr_note" name="nei_addr_note" ng-model="leasingCandidate.transmissionAntenna.address.cn_addr_note" ng-required="leasingCandidate.transmissionAntenna.address.ca_not_full_addres && leasingCandidate.transmissionAntenna.addressEditable">
                                                <label class="error" ng-show="kcell_form.nei_addr_note.$error.required && ( kcell_form.nei_addr_note.$touched || parentForm.$submitted)">Required field</label>
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label class="col-sm-3 control-label">{{leasingCandidate.transmissionAntenna.address.ca_not_full_addres ? '*' : ''}}Latitude:</label>
                                            <div class="col-sm-8">
                                                <input class="form-control" id="ne_latitude" placeholder="ХХ.ХХХХХХ" name="ne_latitude"
                                                       ng-pattern="latitudePattern" ng-disabled="!leasingCandidate.transmissionAntenna.address.ca_diff_address"
                                                       ng-required="leasingCandidate.transmissionAntenna.address.ca_diff_address"
                                                       ng-model="leasingCandidate.transmissionAntenna.address.latitude" maxlength="11">
                                                <label class="error"
                                                       ng-show="kcell_form.ne_latitude.$error.required && ( kcell_form.ne_latitude.$touched || parentForm.$submitted)">Required
                                                    field</label>
                                                <!-- <label class="error" ng-show="invalidLatitude">Latitude must be in [40.568, 55.440] range</label>-->
                                                <label class="error"
                                                       ng-if="kcell_form.ne_latitude.$error.pattern && ( kcell_form.ne_latitude.$touched || parentForm.$submitted)">Expected: 40.568000 <- Latitude <- 55.440000</label>
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label class="col-sm-3 control-label">{{leasingCandidate.transmissionAntenna.address.ca_not_full_addres ? '*' : ''}}Longitude:</label>
                                            <div class="col-sm-8">
                                                <input class="form-control" id="ne_longitude" placeholder="ХХ.ХХХХХХ" name="ne_longitude"
                                                       ng-pattern="longitudePattern" ng-disabled="!leasingCandidate.transmissionAntenna.address.ca_diff_address"
                                                       ng-required="leasingCandidate.transmissionAntenna.address.ca_diff_address"
                                                       ng-model="leasingCandidate.transmissionAntenna.address.longitude"
                                                       maxlength="11">
                                                <label class="error"
                                                       ng-show="kcell_form.ne_longitude.$error.required && ( kcell_form.ne_longitude.$touched || parentForm.$submitted)">Required
                                                    field</label>
                                                <!--<label class="error" ng-show="invalidLongitude">Longitude must be in [46.493, 87.315] range</label>-->
                                                <label class="error"
                                                       ng-if="kcell_form.ne_longitude.$error.pattern && ( kcell_form.ne_longitude.$touched || parentForm.$submitted)">Expected: 46.493000 <- Longitude <-87.315000</label>

                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-sm-2">
                                        <span class="input-group-btn" ng-if="(leasingCandidate.confirmStartLeasingTask || leasingCandidate.confirmStartLeasingNOTask || leasingCandidate.checkAndApproveFETask) && leasingCandidate.transmissionAntenna.address.ca_diff_address">
                                            <button type="button" class="btn btn-default" ng-click="leasingCandidate.transmissionAntenna.addressEditable = !leasingCandidate.transmissionAntenna.addressEditable">
                                                <i class="glyphicon glyphicon-pencil"></i>
                                            </button>
                                        </span>
                                    </div>
                                </div>
                            </accordion-group>
                        </accordion>
                    </div>
                    <div class="form-group" ng-show="leasingCandidate.uploadTsdTask">
                        <label class="col-sm-3 control-label">Transmission parameters</label>
                        <div class="col-sm-9">
                            <textarea class="form-control" ng-disabled="!leasingCandidate.checkAndApproveFETask" ng-model="leasingCandidate.ne_tr_parameters"  maxlength="500" rows="2" style="resize:none"></textarea>
                        </div>
                    </div>
                    <div class="form-group" ng-show="leasingCandidate.uploadTsdTask">
                        <label class="col-sm-3 control-label">Rate the difficulty of transmission works</label>
                        <div class="col-sm-9">{{leasingCandidate.ne_tr_rate}}</div>
                    </div>

                </accordion-group>
            </accordion>

            <accordion class="content-visible-accordion" ng-show="leasingCandidate.candidate.transmissionType==='Satellite' || leasingCandidate.candidate.transmissionType==='Provider' || leasingCandidate.candidate.transmissionType==='Microwave + Satellite or Provider'">
                <accordion-group is-open="false">
                    <accordion-heading>
                        <span>Transmission Information <i class="pull-right glyphicon" ng-class="{'glyphicon-chevron-up': status.isCustomHeaderOpen, 'glyphicon-chevron-down': !status.isCustomHeaderOpen}"></i></span>
                    </accordion-heading>
                    <div class="form-group">
                        <label class="col-sm-3 control-label">Channel capacity (Mbps):</label>
                        <div class="col-sm-6">
                            <input type="number" class="form-control" id="channelCapacity" name="channelCapacity"
                                   ng-value="leasingCandidate.candidate.channelCapacity" disabled="disabled">
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-sm-3 control-label">Description:</label>
                        <div class="col-sm-6">
                            <textarea class="form-control" ng-value="leasingCandidate.candidate.transmissionDescription" name="transmissionDescription"
                                maxlength="500" rows="4" style="resize:none" disabled="disabled"></textarea>
                        </div>
                    </div>
                </accordion-group>
            </accordion>
            <accordion class="content-visible-accordion">
                <accordion-group is-open="false">
                    <accordion-heading>
                        <span ng-class="{'error' : isError('powerSource')}">Power Source <i class="pull-right glyphicon" ng-class="{'glyphicon-chevron-up': status.isCustomHeaderOpen, 'glyphicon-chevron-down': !status.isCustomHeaderOpen}"></i></span>
                    </accordion-heading>

                    <div class="form-group">
                        <label class="col-sm-4 control-label">{{leasingCandidate.estimateTechnicalCapabilityResTask ? '*' : ''}}Does renter agree to provide us 3 Phase/3.5kWof electrical energy?</label>
                        <div class="col-sm-6"  >
                            <label class="radio-inline">
                                <input type="radio"
                                        ng-disabled="!leasingCandidate.estimateTechnicalCapabilityResTask"
                                        ng-required="leasingCandidate.estimateTechnicalCapabilityResTask"
                                        name="provideUs3Phase" ng-model="leasingCandidate.powerSource.provideUs3Phase" value="Yes"> Yes
                            </label>
                            <label class="radio-inline">
                                <input type="radio"
                                        ng-disabled="!leasingCandidate.estimateTechnicalCapabilityResTask"
                                        ng-required="leasingCandidate.estimateTechnicalCapabilityResTask" name="provideUs3Phase" ng-model="leasingCandidate.powerSource.provideUs3Phase" value="No"> No
                            </label>
                            <label class="error" ng-show="kcell_form.provideUs3Phase.$error.required && ( kcell_form.provideUs3Phase.$touched || parentForm.$submitted)">Required field</label>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-sm-4 control-label">{{leasingCandidate.estimateTechnicalCapabilityResTask ? '*' : ''}}Cable length to connection point (in meters):</label>
                        <div class="col-sm-6">
                            <input class="form-control"
                                   ng-readonly="!leasingCandidate.estimateTechnicalCapabilityResTask"
                                   ng-required="leasingCandidate.estimateTechnicalCapabilityResTask" id="cableLength" name="cableLength"  ng-model="leasingCandidate.powerSource.cableLength" >
                            <label class="error" ng-show="kcell_form.cableLength.$error.required && ( kcell_form.cableLength.$touched || parentForm.$submitted)">Required field</label>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-sm-4 control-label">{{leasingCandidate.estimateTechnicalCapabilityResTask && leasingCandidate.cableLayingTypeChecks<1 ? '*' : ''}}Cable laying type:</label>
                        <div class="col-sm-6" >
                            <div class="form-check col-sm-6" ng-repeat="t in leasingCandidate.powerSource.cableLayingType track by $index">
                                <input type="checkbox" name="cableLayingType"
                                       ng-disabled="!leasingCandidate.estimateTechnicalCapabilityResTask"
                                        ng-model="t.value" class="form-check-input" id="{{'check' + $index}}" ng-click="checkCableLayingType($index, t.value)" ng-required="leasingCandidate.estimateTechnicalCapabilityResTask && leasingCandidate.cableLayingTypeChecks<1">
                                <label class="form-check-label" for="{{'check' + $index}}">{{ t.title }}</label>
                            </div>
                            <label class="error" ng-show="kcell_form.cableLayingType.$error.required && ( leasingCandidate.cableLayingTypeChecks.$touched || parentForm.$submitted)">Required field</label>

                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-sm-4 control-label">{{leasingCandidate.estimateTechnicalCapabilityResTask ? '*' : ''}}Does renter agree to receive monthly paymentfor consumed electrical energy according to ourpower counters displays buy the bank transactionsand give us invoices?</label>
                        <div class="col-sm-6">
                            <label class="radio-inline">
                                <input type="radio"
                                       ng-disabled="!leasingCandidate.estimateTechnicalCapabilityResTask"
                                       ng-required="leasingCandidate.estimateTechnicalCapabilityResTask" name="agreeToReceiveMonthlyPayment" ng-model="leasingCandidate.powerSource.agreeToReceiveMonthlyPayment" value="Yes"> Yes
                            </label>
                            <label class="radio-inline">
                                <input type="radio"
                                       ng-disabled="!leasingCandidate.estimateTechnicalCapabilityResTask"
                                       ng-required="leasingCandidate.estimateTechnicalCapabilityResTask" name="agreeToReceiveMonthlyPayment" ng-model="leasingCandidate.powerSource.agreeToReceiveMonthlyPayment" value="No"> No
                            </label>
                            <label class="error" ng-show="kcell_form.agreeToReceiveMonthlyPayment.$error.required && ( kcell_form.agreeToReceiveMonthlyPayment.$touched || parentForm.$submitted)">Required field</label>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-md-4 control-label">{{leasingCandidate.estimateTechnicalCapabilityResTask ? '*' : ''}}Closest public (RES) electrical line:</label>

                        <div class="col-sm-4">
                            <div class="input-group">
                                <span class="input-group-addon" id="basic-addon1">0,4 kV</span>
                                <input class="form-control" type="number"
                                       ng-disabled="!leasingCandidate.estimateTechnicalCapabilityResTask"
                                       ng-required="leasingCandidate.estimateTechnicalCapabilityResTask" id="closestPublic04" name="closestPublic04"  ng-model="leasingCandidate.powerSource.closestPublic04" >
                            </div>
                            <label class="error" ng-show="kcell_form.closestPublic04.$error.required && ( kcell_form.closestPublic04.$touched || parentForm.$submitted)">Required field</label>
                        </div>
                        <div class="col-sm-4">
                            <div class="input-group">
                                <span class="input-group-addon" id="basic-addon2">10 kV</span>
                                <input class="form-control" type="number"
                                       ng-disabled="!leasingCandidate.estimateTechnicalCapabilityResTask"
                                       ng-required="leasingCandidate.estimateTechnicalCapabilityResTask" id="closestPublic10" name="closestPublic10"  ng-model="leasingCandidate.powerSource.closestPublic10" >
                            </div>
                            <label class="error" ng-show="kcell_form.closestPublic10.$error.required && ( kcell_form.closestPublic10.$touched || parentForm.$submitted)">Required field</label>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-md-4 control-label">Transformer power substation:</label>
                        <div class="col-sm-5">
                            <div class="form-check">
                                <label class="form-check-label">
                                    <input class="form-check-input" type="radio" name="cn_tps" ng-model="leasingCandidate.powerSource.cn_tps" ng-click="checkTPS(leasingCandidate.powerSource.cn_tps)"
                                        value="Available (LEP installation not required)"
                                           ng-disabled="!leasingCandidate.estimateTechnicalCapabilityResTask"
                                    > Available (LEP installation not required)
                                </label>
                                <label class="form-check-label">
                                    <input class="form-check-input" type="radio" name="cn_tps" ng-model="leasingCandidate.powerSource.cn_tps" ng-click="checkTPS(leasingCandidate.powerSource.cn_tps)"
                                        value="Available (LEP installation required)"
                                           ng-disabled="!leasingCandidate.estimateTechnicalCapabilityResTask"> Available (LEP installation required)
                                </label>
                                <label class="form-check-label">
                                    <input class="form-check-input" type="radio" name="cn_tps" ng-model="leasingCandidate.powerSource.cn_tps" ng-click="checkTPS(leasingCandidate.powerSource.cn_tps)"
                                        value="TPS installation required (TPS is missing)"
                                           ng-disabled="!leasingCandidate.estimateTechnicalCapabilityResTask"> TPS installation required (TPS is missing)
                                </label>
                            </div>
                        </div>
                    </div>

                    <div class="form-group" ng-if="leasingCandidate.powerSource.cn_tps == 'Available (LEP installation not required)' || leasingCandidate.powerSource.cn_tps == 'Available (LEP installation required)'">
                        <label class="col-md-4 control-label">{{leasingCandidate.estimateTechnicalCapabilityResTask ? '*' : ''}}TPS belongs:</label>
                        <div class="col-sm-3">
                            <div class="form-check">
                                <label class="form-check-label">
                                    <input class="form-check-input" type="radio" name="cn_tps_belongs" ng-model="leasingCandidate.powerSource.cn_tps_belongs" ng-click="checkTPSB(leasingCandidate.powerSource.cn_tps_belongs)" ng-required="leasingCandidate.estimateTechnicalCapabilityResTask"
                                        value="RES" ng-disabled="!leasingCandidate.estimateTechnicalCapabilityResTask"> RES
                                </label>
                                <label class="form-check-label">
                                    <input class="form-check-input" type="radio" name="cn_tps_belongs" ng-model="leasingCandidate.powerSource.cn_tps_belongs" ng-click="checkTPSB(leasingCandidate.powerSource.cn_tps_belongs)" ng-required="leasingCandidate.estimateTechnicalCapabilityResTask"
                                        value="Landlord" ng-disabled="!leasingCandidate.estimateTechnicalCapabilityResTask"> Landlord
                                </label>
                                <label class="form-check-label">
                                    <input class="form-check-input" type="radio" name="cn_tps_belongs" ng-model="leasingCandidate.powerSource.cn_tps_belongs" ng-click="checkTPSB(leasingCandidate.powerSource.cn_tps_belongs)" ng-required="leasingCandidate.estimateTechnicalCapabilityResTask"
                                        value="Other" ng-disabled="!leasingCandidate.estimateTechnicalCapabilityResTask"> Other
                                </label>
                                <label class="error"
                                    ng-show="kcell_form.cn_tps_belongs.$error.required && (leasingCandidate.checkTPSTouched || parentForm.$submitted)">Required
                                    field
                                </label>
                            </div>
                        </div>
                        <div class="col-sm-5">
                            <label ng-if="leasingCandidate.powerSource.cn_tps_belongs=='Other'" class="form-check-label">
                                <input type="text" class="form-check-input" id="cn_tps_belongs_commentary" name="cn_tps_belongs_commentary"
                                    ng-model="leasingCandidate.powerSource.cn_tps_belongs_commentary">
                            </label>
                            <label class="error" ng-show="kcell_form.leasingCandidate.powerSource.cn_tps_belongs_commentary.$error.required && (checkTPSTouched || parentForm.$submitted)">Required field</label>
                        </div>
                    </div>

                    <div ng-if="leasingCandidate.powerSource.cn_tps == 'Available (LEP installation not required)' || leasingCandidate.powerSource.cn_tps == 'Available (LEP installation required)'" class="form-group">
                        <label class="col-sm-4 control-label">{{leasingCandidate.estimateTechnicalCapabilityResTask ? '*' : ''}}Distance to candidate, m:</label>
                        <div class="col-sm-4">
                            <input type="number" class="form-control" id="cn_tps_distance" name="cn_tps_distance" ng-required="leasingCandidate.estimateTechnicalCapabilityResTask"
                                   ng-model="leasingCandidate.powerSource.cn_tps_distance"
                                   ng-readonly="!leasingCandidate.estimateTechnicalCapabilityResTask" >
                            <label class="error"
                            ng-show="kcell_form.cn_tps_distance.$error.required && (leasingCandidate.checkTPSTouched || parentForm.$submitted)">Required
                            field
                            </label>
                        </div>
                    </label>
                    </div>
                </accordion-group>
            </accordion>
        </div>
    </tab>
    <tab active="isFE" ng-hide="leasingCandidate.taskKey === 'approveByCentralTR' || leasingCandidate.candidate.transmissionType === 'Provider' || leasingCandidate.candidate.transmissionType === 'Satellite'">
        <tab-heading ng-class="{'error' : isError('farEndInformation')}">
            <span class="glyphicon glyphicon-list"></span> Far End Information
        </tab-heading>
        <div class="well" style="margin-top: 20px;">
            <div class="form-group">
                <div class="row col-sm-8">
                    <h4>Far Ends priority:</h4>
                    <table class="table table-bordered col-sm-12">
                        <thead>
                        <td width="10%">№</td>
                        <td width="90%">Far End Name</td>
                        </thead>

                        <tbody ui-sortable="sortableOptions" ng-model="leasingCandidate.farEndInformation">

                        <tr ng-repeat="fe in leasingCandidate.farEndInformation">
                            <td>{{ $index + 1 }}</td>
                            <td>
                                <div ng-click="openFarEndInformation($index)" class="far-end-info" ng-style="{'background-color': currentFarEnd===leasingCandidate.farEndInformation[$index] ? '#652d86' : '#f7f7f7', 'color': currentFarEnd===leasingCandidate.farEndInformation[$index] ? 'white' : 'black'}">{{fe.farEndName}}
                            </td>
                            <!--<td><a ng-click="editFE($index)">Изменить</a><a class="glyphicon glyphicon-trash pull-right" ng-click="deleteFE($index)"></a></td>-->
                        </tr>
                        <!--<tr>
                           <td>{{ farEndInformation.length + 1 }}</td>
                           <td>
                               <input type="text" ng-model="newFe.farEndName" name="farEndName" ng-required="!threeFarEndNotNecessaryCheck"
                                      typeahead="site as sites.site_name for sites in getSite($viewValue)"
                                      typeahead-on-select="siteSelected($item,$model,$label)" class="form-control"
                                      autocomplete="on" placeholder="Far End Name">
                           </td>
                        </tr>-->
                        </tbody>
                    </table>
                </div>

            </div>


            <div class="form-group" ng-if="leasingCandidate.threeFarEndNotNecessary.check">
                <div class="col-sm-12">
                    <input type="checkbox" disabled ng-model="leasingCandidate.threeFarEndNotNecessary.check" class="form-check-input" name="threeFarEndNotNecessaryCheck" id="threeFarEndNotNecessaryCheck">
                    <label class="form-check-label" style="font-weight:normal">The possibility of providing 3 FE is not available</label>
                </div>
            </div>
            <div class="form-group" style="margin-bottom:15px;" ng-if="leasingCandidate.threeFarEndNotNecessary.check">
                <label class="col-sm-2 control-label">Description:</label>
                <div class="col-sm-6">
                    <textarea class="form-control" readonly ng-model="leasingCandidate.threeFarEndNotNecessary.comment" name="threeFarEndNotNecessaryCheckComment" placeholder="Comments..." maxlength="500" rows="4" style="resize:none"></textarea>
                    <label class="error" ng-show="kcell_form.threeFarEndNotNecessaryCheckComment.$error.required && (kcell_form.threeFarEndNotNecessaryCheckComment.$touched || parentForm.$submitted)">Required field</label>

                </div>
            </div>
            <div class="form-group" ng-if="leasingCandidate.checkAndApproveFETask">
                <label class="col-sm-2 control-label">{{leasingCandidate.checkAndApproveFETask ? '*' : ''}}Resolution:</label>
                <div class="col-sm-6">
                    <label class="radio-inline">
                        <input type="radio" name="checkAndApproveFETaskResult" ng-model="leasingCandidate.checkAndApproveFETaskResult" value="approved" ng-required="leasingCandidate.checkAndApproveFETask"> Approve
                    </label>
                    <label class="radio-inline">
                        <input type="radio" name="checkAndApproveFETaskResult" ng-model="leasingCandidate.checkAndApproveFETaskResult" value="rejected" ng-required="leasingCandidate.checkAndApproveFETask"> FE does not fit
                    </label>
                    <label class="radio-inline">
                        <input type="radio" name="checkAndApproveFETaskResult" ng-model="leasingCandidate.checkAndApproveFETaskResult" value="priorityChange" ng-required="leasingCandidate.checkAndApproveFETask"> Priority change required
                    </label>
                    <label class="error" ng-show="kcell_form.checkAndApproveFETaskResult.$error.required && ( kcell_form.checkAndApproveFETaskResult.$touched || parentForm.$submitted)">Required field</label>
                </div>
            </div>
            <div class="form-group" style="margin-bottom:15px;" ng-if="leasingCandidate.checkAndApproveFETaskResult==='rejected' || leasingCandidate.checkAndApproveFETaskResult==='priorityChange'">
                <label class="col-sm-2 control-label">Comments:</label>
                <div class="col-sm-6">
                    <textarea class="form-control" ng-readonly="!leasingCandidate.checkAndApproveFETask" ng-model="leasingCandidate.checkAndApproveFETaskResolutionComment" name="checkAndApproveFETaskResolutionComment" ng-required="currentFarEnd.priority && leasingCandidate.checkAndApproveFETask && (leasingCandidate.checkAndApproveFETaskResult==='rejected' || leasingCandidate.checkAndApproveFETaskResult==='priorityChange')" placeholder="Comments..." maxlength="500" rows="4" style="resize:none"></textarea>
                    <label class="error" ng-show="kcell_form.checkAndApproveFETaskResolutionComment.$error.required && (kcell_form.checkAndApproveFETaskResolutionComment.$touched || kcell_form.$submitted || kcell_form.$submitted)">Required field</label>

                </div>
            </div>

            <accordion
            ng-if="leasingCandidate.farEndInformation.length>0 && candidate.transmissionType!=='Satellite' && candidate.transmissionType!=='Provider' && defaultFarEndCard" class="content-visible-accordion background-yellow-accordion">
                    <accordion-group is-open="true">
                        <accordion-heading>
                            <span ng-class="{'error' : isError('farEndInformationAccordion')}">Far End Information <i class="pull-right glyphicon" ng-class="{'glyphicon-chevron-up': status.isCustomHeaderOpen, 'glyphicon-chevron-down': !status.isCustomHeaderOpen}"></i></span>
                        </accordion-heading>
                            <div class="col-sm-12">
                                <div class="form-group">
                                    <label class="col-sm-3 control-label">Far End name:</label>
                                    <label class="col-sm-8 control-label">{{currentFarEnd.farEndName}}</label>
                                </div>
                                <div class="form-group">
                                    <label class="col-sm-3 control-label">Latitude:</label>
                                    <div class="col-sm-8">
                                        <input class="form-control" id="fe_latitude" placeholder="ХХ.ХХХХХХ" name="fe_latitude"
                                               ng-pattern="latitudePattern" ng-required="currentFarEnd.priority && leasingCandidate.checkAndApproveFETask"
                                               ng-readonly="!leasingCandidate.checkAndApproveFETask"
                                               ng-model="currentFarEnd.fe_latitude" maxlength="11">
                                        <label class="error"
                                               ng-show="kcell_form.fe_latitude.$error.required && ( kcell_form.fe_latitude.$touched || parentForm.$submitted)">Required
                                            field</label>
                                        <!-- <label class="error" ng-show="invalidLatitude">Latitude must be in [40.568, 55.440] range</label>-->
                                        <label class="error"
                                               ng-if="kcell_form.fe_latitude.$error.pattern && ( kcell_form.fe_latitude.$touched || parentForm.$submitted)">Expected: 40.568000 <- Latitude <- 55.440000</label>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="col-sm-3 control-label">Longitude:</label>
                                    <div class="col-sm-8">
                                        <input class="form-control" id="fe_longitude" placeholder="ХХ.ХХХХХХ" name="fe_longitude"
                                               ng-pattern="longitudePattern" ng-required="currentFarEnd.priority && leasingCandidate.checkAndApproveFETask"
                                               ng-model="currentFarEnd.fe_longitude"
                                               ng-readonly="!leasingCandidate.checkAndApproveFETask"
                                               maxlength="11">
                                        <label class="error"
                                               ng-show="kcell_form.fe_longitude.$error.required && ( kcell_form.fe_longitude.$touched || parentForm.$submitted)">Required
                                            field</label>
                                        <!--<label class="error" ng-show="invalidLongitude">Longitude must be in [46.493, 87.315] range</label>-->
                                        <label class="error"
                                               ng-if="kcell_form.fe_longitude.$error.pattern && ( kcell_form.fe_longitude.$touched || parentForm.$submitted)">Expected: 46.493000 <- Longitude <-87.315000</label>

                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="col-sm-3 control-label">Far End address:</label>
                                    <div class="col-sm-8">
                                            <input class="form-control" readonly id="farEndAddress" name="farEndAddress" ng-model="currentFarEnd.addressToString" ng-value="addressToString(currentFarEnd.address)">
                                            <span class="input-group-btn" ng-if="leasingCandidate.confirmStartLeasingTask || leasingCandidate.confirmStartLeasingNOTask">
                                                <button type="button" class="btn btn-default" ng-click="currentFarEnd.farEndAddressEditable = !currentFarEnd.farEndAddressEditable">
                                                    <i class="glyphicon glyphicon-pencil"></i>
                                                </button>
                                            </span>
                                        <br>
                                        <div class="form-group" ng-show="currentFarEnd.farEndAddressEditable">
                                            <label class="col-sm-4 control-label">*Oblast:</label>
                                            <div class="col-sm-8" class="form-check">
                                                <select class="form-control" id="fe_addr_oblast" name="fe_addr_oblast" ng-model="currentFarEnd.address.cn_addr_oblast"
                                                        ng-change="filterDistrictAfterSelectObl(currentFarEnd.address.cn_addr_oblast)">
                                                    <option ng-repeat="oblast in oblastList" ng-value="oblast.name">{{oblast.name}}</option>
                                                </select>
                                                <label class="error" ng-show="kcell_form.fe_addr_oblast.$error.required && ( kcell_form.fe_addr_oblast.$touched || parentForm.$submitted)">Required field</label>
                                            </div>
                                        </div>
                                        <div class="form-group" ng-show="currentFarEnd.farEndAddressEditable">
                                            <label class="col-sm-4 control-label">*District:</label>
                                            <div class="col-sm-8" class="form-check">
                                                <select class="form-control" id="fe_addr_district" name="fe_addr_district" ng-model="currentFarEnd.address.cn_addr_district" disabled>
                                                    <option ng-repeat="district in filteredDistricts" ng-value="district.name">{{district.name}}</option>
                                                </select>
                                                <label class="error" ng-show="kcell_form.fe_addr_district.$error.required && ( kcell_form.fe_addr_district.$touched || parentForm.$submitted)">Required field</label>
                                            </div>
                                        </div>
                                        <div class="form-group" ng-show="currentFarEnd.farEndAddressEditable">
                                            <label class="col-sm-4 control-label">*City / Village:</label>
                                            <div class="col-sm-8">
                                                <input type="text" ng-model="currentFarEnd.address.cn_addr_city" ng-value='city.name' name="fe_addr_city" typeahead="city.name for city in getCity($viewValue)" typeahead-on-select="addressCitySelected($item,$model,$label)" class="form-control" ng-required="(leasingCandidate.confirmStartLeasingTask && confirmStartLeasingTaskResult !== 'Reject')
 || leasingCandidate.confirmStartLeasingNOTask" placeholder="Start typing...">
                                                <label class="error" ng-show="kcell_form.fe_addr_city.$error.required && ( kcell_form.fe_addr_city.$touched || parentForm.$submitted)">Required field</label>
                                            </div>
                                        </div>
                                        <div class="form-group" ng-show="currentFarEnd.farEndAddressEditable">
                                            <div class="col-sm-12">
                                                <div class="form-check">
                                                    <input type="checkbox" ng-model="currentFarEnd.address.ca_not_full_addres" class="form-check-input" id="fe_not_full_addres">
                                                    <label class="form-check-label" for="ca_not_full_addres">Object without address</label>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="form-group" ng-show="currentFarEnd.farEndAddressEditable">
                                            <label class="col-sm-4 control-label">{{!currentFarEnd.address.ca_not_full_addres ? '*' : ''}}Street/Microdistrict:</label>
                                            <div class="col-sm-8">
                                                <input class="form-control" id="fe_addr_street" name="fe_addr_street" ng-model="currentFarEnd.address.cn_addr_street" ng-required="!currentFarEnd.address.ca_not_full_addres && currentFarEnd.farEndAddressEditable" ng-disabled="currentFarEnd.address.ca_not_full_addres">
                                                <label class="error" ng-show="kcell_form.fe_addr_street.$error.required && ( kcell_form.fe_addr_street.$touched || parentForm.$submitted)">Required field</label>
                                            </div>
                                        </div>
                                        <div class="form-group" ng-show="currentFarEnd.farEndAddressEditable">
                                            <label class="col-sm-4 control-label">{{!currentFarEnd.address.ca_not_full_addres ? '*' : ''}}Building:</label>
                                            <div class="col-sm-8">
                                                <input class="form-control" id="fe_addr_building" name="fe_addr_building" ng-model="currentFarEnd.address.cn_addr_building" ng-required="!currentFarEnd.address.ca_not_full_addres && currentFarEnd.farEndAddressEditable" ng-disabled="currentFarEnd.address.ca_not_full_addres">
                                                <label class="error" ng-show="kcell_form.fe_addr_building.$error.required && ( kcell_form.fe_addr_building.$touched || parentForm.$submitted)">Required field</label>
                                            </div>
                                        </div>
                                        <div class="form-group" ng-show="currentFarEnd.farEndAddressEditable">
                                            <label class="col-sm-4 control-label">{{currentFarEnd.address.ca_not_full_addres ? '*' : ''}}Cadastral number:</label>
                                            <div class="col-sm-8">
                                                <input class="form-control" id="fe_addr_cadastral_number" name="fe_addr_cadastral_number" ng-model="currentFarEnd.address.cn_addr_cadastral_number" ng-required="currentFarEnd.address.ca_not_full_addres && currentFarEnd.farEndAddressEditable">
                                                <label class="error" ng-show="kcell_form.fe_addr_cadastral_number.$error.required && ( kcell_form.fe_addr_cadastral_number.$touched || parentForm.$submitted)">Required field</label>
                                            </div>
                                        </div>
                                        <div class="form-group" ng-show="currentFarEnd.farEndAddressEditable">
                                            <label class="col-sm-4 control-label">{{currentFarEnd.address.ca_not_full_addres ? '*' : ''}}Note to the address:</label>
                                            <div class="col-sm-8">
                                                <input class="form-control" id="fe_addr_note" name="fe_addr_note" ng-model="currentFarEnd.address.cn_addr_note" ng-required="currentFarEnd.address.ca_not_full_addres && currentFarEnd.farEndAddressEditable && currentFarEnd.farEndAddressEditable">
                                                <label class="error" ng-show="kcell_form.fe_addr_note.$error.required && ( kcell_form.fe_addr_note.$touched || parentForm.$submitted)">Required field</label>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <!-- <div class="form-group">
                                    <label class="col-sm-3 control-label">Contract Information:</label>
                                    <div class="col-sm-8">
                                        <input class="form-control" ng-class="{'no-event': true}" id="contractInformation" name="contractInformation"  ng-model="currentFarEnd.contractInformation" ng-required="currentFarEnd.priority && leasingCandidate.checkAndApproveFETask">
                                        <label class="error" ng-show="kcell_form.contractInformation.$error.required && ( kcell_form.contractInformation.$touched || parentForm.$submitted)">Required field</label>
                                    </div>
                                </div> -->
                                <div class="form-group">
                                    <label class="col-sm-3 control-label">Square:</label>
                                    <div class="col-sm-8">
                                        <input class="form-control" ng-readonly="!leasingCandidate.checkAndApproveFETask" id="fe_form_FeSquare" name="fe_form_FeSquare"  ng-model="currentFarEnd.square">
                                        <label class="error" ng-show="kcell_form.fe_form_FeSquare.$error.required && ( kcell_form.fe_form_FeSquare.$touched || parentForm.$submitted)">Required field</label>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="col-sm-3 control-label">{{currentFarEnd.priority && leasingCandidate.checkAndApproveFETask ? '*' : ''}}Equipment type:</label>
                                    <div class="col-sm-8">
                                        <select class="form-control" id="equipmentType" name="fe_form_equipmentType"
                                                ng-model="currentFarEnd.equipmentType" ng-disabled="!leasingCandidate.checkAndApproveFETask" ng-required="currentFarEnd.priority && leasingCandidate.checkAndApproveFETask">
                                            <option value="" disabled ng-selected="currentFarEnd.equipmentType===''" hidden>Select Equipment Type</option>
                                            <option ng-repeat="e in dictionary.equipmentType" ng-value="e.name">{{e.name}}</option>
                                        </select>

                                        <label class="error" ng-show="kcell_form.fe_form_equipmentType.$error.required && ( kcell_form.fe_form_equipmentType.$touched || parentForm.$submitted)">Required field</label>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <table class="table table-condensed">
                                        <thead>
                                        <tr>
                                            <td class="col-sm-2">{{currentFarEnd.priority && leasingCandidate.checkAndApproveFETask ? '*' : ''}}Antenna type:</td>
                                            <td class="col-sm-1">{{currentFarEnd.priority && leasingCandidate.checkAndApproveFETask ? '*' : ''}}Quantity:</td>
                                            <td class="col-sm-1">{{currentFarEnd.priority && leasingCandidate.checkAndApproveFETask ? '*' : ''}}Frequency band:</td>
                                            <td>{{currentFarEnd.priority && leasingCandidate.checkAndApproveFETask ? '*' : ''}}Diameter:</td>
                                            <td class="col-sm-1">{{currentFarEnd.priority && leasingCandidate.checkAndApproveFETask ? '*' : ''}}Weight (kg):</td>
                                            <td>{{currentFarEnd.priority && leasingCandidate.checkAndApproveFETask ? '*' : ''}}Azimuth:</td>
                                            <td>{{currentFarEnd.priority && leasingCandidate.checkAndApproveFETask ? '*' : ''}}Suspension height (m):</td>
                                        </tr>
                                        </thead>
                                        <tbody>
                                        <tr>
                                            <td class="col-sm-2">
                                                <select class="form-control" id="feAntennaType" name="fe_form_feAntennaType"
                                                        ng-model="currentFarEnd.feAntennaType"
                                                        ng-change="defineByAntennaType(currentFarEnd.feAntennaType, 'farend')"
                                                        ng-disabled="!leasingCandidate.checkAndApproveFETask"
                                                        ng-required="currentFarEnd.priority && leasingCandidate.checkAndApproveFETask">
                                                    <option value="" disabled ng-selected="currentFarEnd.feAntennaType===''" hidden>Select Type</option>
                                                    <option ng-repeat="a in dictionary.antennaType" value="{{a.name}}">{{a.name}}</option>
                                                </select>
                                                <label class="error" ng-show="kcell_form.fe_form_feAntennaType.$error.required && ( kcell_form.fe_form_feAntennaType.$touched || parentForm.$submitted)">Required field</label>
                                            </td>
                                            <td class="col-sm-1" style="padding-right: 0;">
                                                <input type="number" class="form-control" id="FeAntennasQuantity" ng-readonly="!leasingCandidate.checkAndApproveFETask" name="fe_form_FeAntennasQuantity"  ng-model="currentFarEnd.antennasQuantity" ng-required="currentFarEnd.priority && leasingCandidate.checkAndApproveFETask">
                                                <label class="error" ng-show="kcell_form.fe_form_FeAntennasQuantity.$error.required && ( kcell_form.fe_form_FeAntennasQuantity.$touched || parentForm.$submitted)">Required field</label>
                                            </td>
                                            <td class="col-sm-1" style="padding-right: 0;">
                                                <select class="form-control" id="FeFrequencyBand" name="fe_form_FeFrequencyBand"
                                                        ng-disabled="!leasingCandidate.frequenciesFeByAntennaType && true"
                                                        ng-model="currentFarEnd.frequencyBand"
                                                        ng-options="freq for freq in leasingCandidate.frequenciesFeByAntennaType.frequencies"
                                                        ng-readonly="!leasingCandidate.checkAndApproveFETask"
                                                        ng-required="currentFarEnd.priority && leasingCandidate.checkAndApproveFETask">
                                                </select>
                                                <label class="error" ng-show="kcell_form.fe_form_FeFrequencyBand.$error.required && ( kcell_form.fe_form_FeFrequencyBand.$touched || parentForm.$submitted)">Required field</label>
                                            </td>
                                            <td class="col-sm-1" style="padding-right: 0;">
                                                <input class="form-control" readonly id="antennaDiameter" name="fe_form_antennaDiameter"  ng-model="currentFarEnd.diameter" ng-required="currentFarEnd.priority && leasingCandidate.checkAndApproveFETask">
                                                <label class="error" ng-show="kcell_form.fe_form_antennaDiameter.$error.required && ( kcell_form.fe_form_antennaDiameter.$touched || parentForm.$submitted)">Required field</label>

                                            </td>
                                            <td class="col-sm-1" style="padding-right: 0;">
                                                <input class="form-control" ng-readonly="!leasingCandidate.checkAndApproveFETask" id="FeWeight" name="fe_form_FeWeight"  ng-model="currentFarEnd.weight" >
                                                <label class="error" ng-show="kcell_form.fe_form_FeWeight.$error.required && ( kcell_form.fe_form_FeWeight.$touched || parentForm.$submitted)">Required field</label>

                                            </td>
                                            <td class="col-sm-1" style="padding-right: 0;">
                                                <input class="form-control" id="FeAzimuth" ng-readonly="!leasingCandidate.checkAndApproveFETask" name="fe_form_FeAzimuth" ng-change="checkAzimuth(currentFarEnd.azimuth, -1)" ng-model="currentFarEnd.azimuth"
                                                       ng-required="currentFarEnd.priority && leasingCandidate.checkAndApproveFETask">
                                                <label class="error" ng-show="kcell_form.fe_form_FeAzimuth.$error.required && ( kcell_form.fe_form_FeAzimuth.$touched || parentForm.$submitted)">Required field</label>

                                            </td>
                                            <td class="col-sm-2" style="padding-right: 30px;">
                                                <input class="form-control" ng-readonly="!leasingCandidate.checkAndApproveFETask" id="FeSuspensionHeight" name="fe_form_FeSuspensionHeight"  ng-model="currentFarEnd.suspensionHeight"
                                                       ng-required="currentFarEnd.priority && leasingCandidate.checkAndApproveFETask">
                                                <label class="error" ng-show="kcell_form.fe_form_FeSuspensionHeight.$error.required && ( kcell_form.fe_form_FeSuspensionHeight.$touched || parentForm.$submitted)">Required field</label>

                                            </td>
                                        </tr>
                                        </tbody>
                                    </table>
                                </div>
                                <!-- <div class="form-group">
                                    <label class="col-sm-3 control-label">{{currentFarEnd.priority && leasingCandidate.checkAndApproveFETask ? '*' : ''}}Antenna type:</label>
                                    <label class="col-sm-1 control-label" style="margin-right: 5px; padding-left: 5px;">{{currentFarEnd.priority && leasingCandidate.checkAndApproveFETask ? '*' : ''}}Quantity:</label>
                                    <label class="col-sm-2 control-label" style="padding-right: 0;">{{currentFarEnd.priority && leasingCandidate.checkAndApproveFETask ? '*' : ''}}Frequency band:</label>
                                    <label class="col-sm-1 control-label" style="margin-right: 5px; padding-left: 5px;">{{currentFarEnd.priority && leasingCandidate.checkAndApproveFETask ? '*' : ''}}Diameter:</label>
                                    <label class="col-sm-1 control-label" style="margin-right: 5px; padding-left: 5px;">{{currentFarEnd.priority && leasingCandidate.checkAndApproveFETask ? '*' : ''}}Weight:</label>
                                    <label class="col-sm-1 control-label" style="margin-right: 5px; padding-left: 5px;">{{currentFarEnd.priority && leasingCandidate.checkAndApproveFETask ? '*' : ''}}Azimuth:</label>
                                    <label class="col-sm-2 control-label" style="padding-left: 5px;">{{currentFarEnd.priority && leasingCandidate.checkAndApproveFETask ? '*' : ''}}Suspension height:</label>
                                </div>
                                <div class="form-group">
                                    <div class="col-sm-3">
                                        <select class="form-control" id="feAntennaType" name="feAntennaType"
                                                ng-model="currentFarEnd.feAntennaType"
                                                ng-change="defineByAntennaType(currentFarEnd.feAntennaType, 'farend')"
                                                ng-class="{'no-event': !leasingCandidate.checkAndApproveFETask}"
                                                ng-required="currentFarEnd.priority && leasingCandidate.checkAndApproveFETask">
                                            <option value="" disabled ng-selected="currentFarEnd.feAntennaType===''" hidden>Select Type</option>
                                            <option ng-repeat="a in dictionary.antennaType" value="{{a.name}}">{{a.name}}</option>
                                        </select>
                                        <label class="error" ng-show="kcell_form.feAntennaType.$error.required && ( kcell_form.feAntennaType.$touched || parentForm.$submitted)">Required field</label>
                                    </div>
                                    <div class="col-sm-1" style="padding-right: 0;">
                                        <input type="number" class="form-control" id="FeAntennasQuantity" ng-class="{'no-event': !leasingCandidate.checkAndApproveFETask}" name="FeAntennasQuantity"  ng-model="currentFarEnd.antennasQuantity" ng-required="currentFarEnd.priority && leasingCandidate.checkAndApproveFETask">
                                        <label class="error" ng-show="kcell_form.FeAntennasQuantity.$error.required && ( kcell_form.FeAntennasQuantity.$touched || parentForm.$submitted)">Required field</label>
                                    </div>
                                    <div class="col-sm-2" style="padding-right: 0;">
                                        <select class="form-control" id="FeFrequencyBand" name="FeFrequencyBand"
                                                ng-disabled="!leasingCandidate.frequenciesFeByAntennaType && true"
                                                ng-model="currentFarEnd.frequencyBand"
                                                ng-options="freq for freq in leasingCandidate.frequenciesFeByAntennaType.frequencies"
                                                ng-class="{'no-event': !leasingCandidate.checkAndApproveFETask}"
                                                ng-required="currentFarEnd.priority && leasingCandidate.checkAndApproveFETask">
                                        </select>
                                        <label class="error" ng-show="kcell_form.FeFrequencyBand.$error.required && ( kcell_form.FeFrequencyBand.$touched || parentForm.$submitted)">Required field</label>
                                    </div>
                                    <div class="col-sm-1" style="padding-right: 0;">
                                        <input class="form-control" ng-class="{'no-event': true}" id="antennaDiameter" name="antennaDiameter"  ng-model="currentFarEnd.diameter" ng-required="currentFarEnd.priority && leasingCandidate.checkAndApproveFETask">
                                        <label class="error" ng-show="kcell_form.antennaDiameter.$error.required && ( kcell_form.antennaDiameter.$touched || parentForm.$submitted)">Required field</label>

                                    </div>
                                    <div class="col-sm-1" style="padding-right: 0;">
                                        <input class="form-control" ng-class="{'no-event': !leasingCandidate.checkAndApproveFETask}" id="FeWeight" name="FeWeight"  ng-model="currentFarEnd.weight" >
                                        <label class="error" ng-show="kcell_form.FeWeight.$error.required && ( kcell_form.FeWeight.$touched || parentForm.$submitted)">Required field</label>

                                    </div>
                                    <div class="col-sm-1" style="padding-right: 0;">
                                        <input class="form-control" id="FeAzimuth" ng-class="{'no-event': !leasingCandidate.checkAndApproveFETask}" name="FeAzimuth" ng-change="checkAzimuth(currentFarEnd.azimuth, -1)" ng-model="currentFarEnd.azimuth"
                                               ng-required="currentFarEnd.priority && leasingCandidate.checkAndApproveFETask">
                                        <label class="error" ng-show="kcell_form.FeAzimuth.$error.required && ( kcell_form.FeAzimuth.$touched || parentForm.$submitted)">Required field</label>

                                    </div>
                                    <div class="col-sm-2" style="padding-right: 30px;">
                                        <input class="form-control" ng-class="{'no-event': !leasingCandidate.checkAndApproveFETask}" id="FeSuspensionHeight" name="FeSuspensionHeight"  ng-model="currentFarEnd.suspensionHeight"
                                               ng-required="currentFarEnd.priority && leasingCandidate.checkAndApproveFETask">
                                        <label class="error" ng-show="kcell_form.FeSuspensionHeight.$error.required && ( kcell_form.FeSuspensionHeight.$touched || parentForm.$submitted)">Required field</label>

                                    </div>
                                </div> -->
                                <div class="form-group" ng-hide = "currentFarEnd.priority && leasingCandidate.checkAndApproveFETask">
                                    <label class="col-sm-3 control-label">Сonstruction type:</label>
                                    <div class="col-sm-8">
                                        <input class="form-control no-event" id="FeConstructionType1" name="fe_form_FeConstructionType1"
                                               ng-model="currentFarEnd.constructionType.name" readonly>
                                    </div>
                                </div>
                                <div class="form-group" ng-show="currentFarEnd.priority && leasingCandidate.checkAndApproveFETask">
                                    <label class="col-sm-3 control-label">{{currentFarEnd.priority && leasingCandidate.checkAndApproveFETask ? '*' : ''}}Сonstruction type:</label>
                                    <div class="col-sm-8">
                                        <select class="form-control" id="FeConstructionType" name="fe_form_FeConstructionType"
                                                ng-model="currentFarEnd.constructionType"
                                                ng-disabled="!leasingCandidate.checkAndApproveFETask"
                                                ng-required="currentFarEnd.priority && leasingCandidate.checkAndApproveFETask">
                                            <option value="" disabled ng-selected="currentFarEnd.constructionType===''" hidden>Select Construction Type</option>
                                            <option ng-value="currentFarEnd.constructionType" ng-selected="currentFarEnd.constructionType != null" hidden>{{currentFarEnd.constructionType.name}}</option>
                                            <option ng-repeat="c in dictionary.FarEndConstructiontype" ng-value="c">{{c.name}}</option>
                                        </select>
                                        <label class="error" ng-show="kcell_form.fe_form_FeConstructionType.$error.required && ( kcell_form.fe_form_FeConstructionType.$touched || parentForm.$submitted)">Required field</label>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="col-sm-3 control-label">{{currentFarEnd.priority && leasingCandidate.checkAndApproveFETask ? '*' : ''}}Survey Date:</label>
                                    <div class="col-sm-8">
                                    <div class="input-group">
                                        <input type="text" ng-model="currentFarEnd.surveyDate" name="fe_form_surveyDate" class="form-control"
                                               datepicker-popup="dd.MM.yyyy" is-open="surveyDateFieldOpened" id="surveyDate"
                                               ng-readonly="!leasingCandidate.checkAndApproveFETask"
                                               ng-required="currentFarEnd.priority && leasingCandidate.checkAndApproveFETask"/>
                                        <span class="input-group-btn">
                                            <button type="button" class="btn btn-default" ng-click="surveyDateFieldOpened = true">
                                                <i class="glyphicon glyphicon-calendar"></i>
                                            </button>
                                        </span>
                                    </div>
                                    <label class="error" ng-show="kcell_form.fe_form_surveyDate.$error.required && ( kcell_form.fe_form_surveyDate.$touched || parentForm.$submitted)">Required field</label>
                                </div>
                                </div>
                                <div class="form-group">
                                    <label class="col-sm-3 control-label">Results of visit of objects:</label>
                                    <div class="col-sm-8">
                                        <input class="form-control" id="ResultsOfVisit" name="fe_form_ResultsOfVisit"
                                               ng-model="currentFarEnd.resultsOfVisit"
                                               ng-readonly="!leasingCandidate.checkAndApproveFETask">
                                        <label class="error" ng-show="kcell_form.fe_form_ResultsOfVisit.$error.required && ( kcell_form.fe_form_ResultsOfVisit.$touched || parentForm.$submitted)">Required field</label>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="col-sm-3 control-label">Comments:</label>
                                    <div class="col-sm-8">
                                        <textarea class="form-control" ng-model="currentFarEnd.comments" name="fe_form_FeComments" maxlength="500" rows="4" style="resize:none"
                                        ng-readonly="!leasingCandidate.checkAndApproveFETask"></textarea>
                                        <label class="error" ng-show="kcell_form.fe_form_FeComments.$error.required && ( kcell_form.fe_form_FeComments.$touched || parentForm.$submitted)">Required field</label>
                                    </div>
                                </div>
                                <h4><b>Renter Company</b></h4>
                                <div class="form-group">
                                    <label class="col-sm-3 control-label">Legal type:</label>
                                    <div class="col-sm-8">
                                        <select class="form-control" id="farEndLegalType" name="fe_form_farEndLegalType"
                                                ng-model="currentFarEnd.legalType"
                                                ng-disabled="!leasingCandidate.checkAndApproveFETask && !leasingCandidate.confirmStartLeasingTask && !leasingCandidate.confirmStartLeasingNOTask">
                                            <option value="" disabled ng-selected="currentFarEnd.legalType===''" hidden>Select Legal Type</option>
                                            <option ng-value="type.id" ng-repeat="type in dictionary.legalType">{{type.desc}}</option>
                                        </select>
                                        <label class="error" ng-show="kcell_form.fe_form_farEndLegalType.$error.required && ( kcell_form.fe_form_farEndLegalType.$touched || parentForm.$submitted)">Required field</label>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="col-sm-3 control-label">Legal name:</label>
                                    <div class="col-sm-8">
                                        <input class="form-control" id="FERClegalName"
                                               ng-readonly="!leasingCandidate.checkAndApproveFETask && !leasingCandidate.confirmStartLeasingTask && !leasingCandidate.confirmStartLeasingNOTask"
                                               name="fe_form_FERClegalName"  ng-model="currentFarEnd.renterCompany.legalName">
                                        <label class="error" ng-show="kcell_form.fe_form_FERClegalName.$error.required && ( kcell_form.fe_form_FERClegalName.$touched || parentForm.$submitted)">Required field</label>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="col-sm-3 control-label">Legal address:</label>
                                    <div class="col-sm-8">
                                        <textarea class="form-control"
                                                  ng-readonly="!leasingCandidate.checkAndApproveFETask && !leasingCandidate.confirmStartLeasingTask && !leasingCandidate.confirmStartLeasingNOTask"
                                                  id="FERCLegalAddress" name="fe_form_FERCLegalAddress" ng-model="currentFarEnd.renterCompany.legalAddress"
                                                  maxlength="500" rows="4" style="resize:none"></textarea>
                                        <label class="error" ng-show="kcell_form.fe_form_FERCLegalAddress.$error.required && ( kcell_form.fe_form_FERCLegalAddress.$touched || parentForm.$submitted)">Required field</label>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="col-sm-3 control-label">Tel./Fax:</label>
                                    <div class="col-sm-8">
                                        <input class="form-control" id="FERCTelFax"
                                               ng-readonly="!leasingCandidate.checkAndApproveFETask && !leasingCandidate.confirmStartLeasingTask && !leasingCandidate.confirmStartLeasingNOTask"
                                               name="fe_form_FERCTelFax"  ng-model="currentFarEnd.renterCompany.telFax">
                                        <label class="error" ng-show="kcell_form.fe_form_FERCTelFax.$error.required && ( kcell_form.fe_form_FERCTelFax.$touched || parentForm.$submitted)">Required field</label>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="col-sm-3 control-label">Name of the 1st Leader:</label>
                                    <div class="col-sm-8">
                                        <input ng-readonly="!leasingCandidate.checkAndApproveFETask && !leasingCandidate.confirmStartLeasingTask && !leasingCandidate.confirmStartLeasingNOTask" class="form-control" id="FERCFirstLeaderName" name="fe_form_FERCFirstLeaderName"  ng-model="currentFarEnd.renterCompany.firstLeaderName">
                                        <label class="error" ng-show="kcell_form.fe_form_FERCFirstLeaderName.$error.required && (kcell_form.fe_form_FERCFirstLeaderName.$touched || parentForm.$submitted)">Required field</label>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="col-sm-3 control-label">Position of the 1st Leader:</label>
                                    <div class="col-sm-8">
                                        <input class="form-control" id="FERCFirstLeaderPosition" name="fe_form_FERCFirstLeaderPosition"
                                               ng-model="currentFarEnd.renterCompany.firstLeaderPosition"
                                               ng-readonly="!leasingCandidate.checkAndApproveFETask && !leasingCandidate.confirmStartLeasingTask && !leasingCandidate.confirmStartLeasingNOTask">
                                        <label class="error" ng-show="kcell_form.fe_form_FERCFirstLeaderPosition.$error.required && ( kcell_form.fe_form_FERCFirstLeaderPosition.$touched || parentForm.$submitted)">Required field</label>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="col-sm-3 control-label">Email:</label>
                                    <div class="col-sm-8">
                                        <input class="form-control" id="FERCemail" name="fe_form_FERCemail"
                                                ng-readonly="!leasingCandidate.checkAndApproveFETask && !leasingCandidate.confirmStartLeasingTask && !leasingCandidate.confirmStartLeasingNOTask"
                                               ng-model="currentFarEnd.renterCompany.email">
                                        <label class="error" ng-show="kcell_form.fe_form_FERCemail.$error.required && ( kcell_form.fe_form_FERCemail.$touched || parentForm.$submitted)">Required field</label>
                                    </div>
                                </div>
                                <h4><b>Contact Person:</b></h4>
                                <div class="form-group">
                                    <label class="col-sm-3 control-label">Name:</label>
                                    <div class="col-sm-8">
                                        <input class="form-control" id="FERC_Name" name="fe_form_FERC_Name"  ng-model="currentFarEnd.renterCompany.name"
                                        ng-readonly="!leasingCandidate.checkAndApproveFETask">
                                        <label class="error" ng-show="kcell_form.fe_form_FERC_Name.$error.required && ( kcell_form.fe_form_FERC_Name.$touched || parentForm.$submitted)">Required field</label>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="col-sm-3 control-label">Position:</label>
                                    <div class="col-sm-8">
                                        <input class="form-control" id="FERC_Position" name="fe_form_FERC_Position"  ng-model="currentFarEnd.renterCompany.position"
                                        ng-readonly="!leasingCandidate.checkAndApproveFETask">
                                        <label class="error" ng-show="kcell_form.fe_form_FERC_Position.$error.required && ( kcell_form.fe_form_FERC_Position.$touched || parentForm.$submitted)">Required field</label>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="col-sm-3 control-label">Contact Information:</label>
                                    <div class="col-sm-8">
                                        <input class="form-control" id="FERC_ContractInformation" name="fe_form_FERC_ContractInformation"
                                        ng-readonly="!leasingCandidate.checkAndApproveFETask"
                                               ng-model="currentFarEnd.renterCompany.contactInformation">
                                        <label class="error" ng-show="kcell_form.fe_form_FERC_ContractInformation.$error.required && ( kcell_form.fe_form_FERC_ContractInformation.$touched || parentForm.$submitted )">Required field</label>
                                    </div>
                                </div>

                                <br>
                            </div>
                    </accordion-group>
                </accordion>



        </div>
    </tab>
</tabset>
</form>
