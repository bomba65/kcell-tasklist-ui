<div class="row layout-row">
	<style>
		table.report {
			border: 1px solid darkgray;
			/*table-layout: fixed;*/
			border-collapse: collapse;
		}

		table.report th {
			border: 1px solid darkgray;
			border-collapse: collapse;
			padding: 2px 4px;
		}

		table.report td {
			border: 1px solid darkgray;
			border-collapse: collapse;
			padding: 2px 4px;
		}

		table.report td.number {
			text-align: right;
		}
	</style>
	<div class="col-md-2 no-float left">
		<div class="left-wrapper">
			<h4>Reports</h4>
			<ul id="filters">
				<li ng-repeat="report in reports" ng-class="active" ng-class="{active: report === currentReport}">
					<a ng-click="selectReport(report)" class="ng-binding">{{reportsMap[report].name}}</a>
				</li>
			</ul>
		</div>
	</div>
	<div class="col-md-10 no-float right left-wrapper">
		<div class="currentTask">
			<div class="scrollcontainer">
				<div class="scrollable">
					<div class="page-body container-fluid">
						<h3>{{reportsMap[currentReport].name}} <span ng-show="task">Â» {{userTasksMap[task].name}}</span></h3>
						<table class="report" ng-hide="task">
							<thead>
							<tr>
								<th>Activity</th>
								<th>Almaty</th>
								<th>East</th>
								<th>West</th>
								<th>North &amp; Central</th>
								<th>South</th>
								<th>Astana</th>
								<th>No region</th>
							</tr>
							<tr>
								<td colspan="8">&nbsp;</td>
							</tr>
							<tr>
								<th colspan="8">[Kcell]</th>
							</tr>
							<tr>
								<td colspan="8">&nbsp;</td>
							</tr>
							</thead>
							<tbody>
							<tr ng-repeat="taskDefId in kcellTasks">
								<td><a href="#/statistics?task={{taskDefId}}">{{userTasksMap[taskDefId].name}}</a></td>
								<td class="number" ng-repeat="region in ['.almaty', '.east', '.west', '.north_central', '.south', '.astana', '.no_region',]">
									{{ _.get(tasksByIdAndRegionCounted, taskDefId + region, 0) }}
								</td>
							</tr>
							</tbody>
							<thead>
							<tr>
								<td colspan="8">&nbsp;</td>
							</tr>
							<tr>
								<th colspan="8">[Contractor]</th>
							</tr>
							<tr>
								<td colspan="8">&nbsp;</td>
							</tr>
							</thead>
							<tbody>
							<tr ng-repeat="taskDefId in contractorTasks">
								<td><a href="#/statistics?task={{taskDefId}}">{{userTasksMap[taskDefId].name}}</a></td>
								<td class="number" ng-repeat="region in ['.almaty', '.east', '.west', '.north_central', '.south', '.astana', '.no_region',]">
									{{ _.get(tasksByIdAndRegionCounted, taskDefId + region, 0) }}
								</td>
							</tr>
							</tbody>
							<tfoot>
							</tfoot>
						</table>

						<table class="report" ng-show="task">
							<thead>
							<tr>
								<th>Region</th>
								<th>Sitename</th>
								<th>JR Number</th>
								<th>Contractor</th>
								<th>Reason</th>
								<th>Requested by</th>
								<th>Requested date</th>
								<th>Validity date</th>
							</tr>
							</thead>
							<tbody ng-show="tasks.length > 0">
							<tr ng-repeat="task in tasks">
								<td>{{ getJrRegion(task.variables.jrNumber.value) }}</td>
								<td>{{ task.variables.siteName.value }}</td>
								<td>{{ task.variables.jrNumber.value }}</td>
								<td>{{ contractorsTitle[task.variables.contractor.value] }}</td>
								<td>{{ reasonsTitle[task.variables.reason.value] }}</td>
								<td>{{ task.variables.starter.value }}</td>
								<td>{{ task.variables.requestedDate.value | date: 'dd.MM.yyyy' }}</td>
								<td>{{ task.variables.validityDate.value | date: 'dd.MM.yyyy'}}</td>
							</tr>
							</tbody>
							<tbody ng-hide="tasks.length > 0">
							<tr>
								<th colspan="9">No data</th>
							</tr>
							</tbody>
							<tfoot>
							</tfoot>
						</table>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
