<?xml version="1.0" encoding="UTF-8"?>
<bpmn:definitions xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:bioc="http://bpmn.io/schema/bpmn/biocolor/1.0" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:camunda="http://camunda.org/schema/1.0/bpmn" id="Definitions_0ux2it4" targetNamespace="http://bpmn.io/schema/bpmn" exporter="Camunda Modeler" exporterVersion="2.2.3">
  <bpmn:collaboration id="Collaboration_10pqjqw">
    <bpmn:participant id="tnu_tsd" name="TNU" processRef="tnu_tsd_db" />
  </bpmn:collaboration>
  <bpmn:process id="tnu_tsd_db" name="TNU" isExecutable="true">
    <bpmn:dataStoreReference id="tnutsd_nimdb" name="NIM (SAO)" />
    <bpmn:userTask id="tnutsd_fill_tsd_by_center" name="process file in Mentum, and fill table" camunda:formKey="embedded:app:forms/tnuTsd/processFileInMentum.html" camunda:candidateGroups="hq_tn_engineer">
      <bpmn:extensionElements>
        <camunda:taskListener class="kz.kcell.bpm.assignments.tnuTsd.RegionEngineerErrorHandler" event="create" />
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_00e3mgn</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0a4a4vs</bpmn:outgoing>
      <bpmn:dataOutputAssociation id="DataOutputAssociation_1iyolna">
        <bpmn:targetRef>tnutsd_ftp</bpmn:targetRef>
      </bpmn:dataOutputAssociation>
    </bpmn:userTask>
    <bpmn:serviceTask id="tnutsd_servicetask_create_csv" name="create csv file,  save to ftp" camunda:delegateExpression="${tnuTsdCsvToFtp}">
      <bpmn:extensionElements>
        <camunda:inputOutput>
          <camunda:inputParameter name="content">
            <camunda:script scriptFormat="groovy" resource="tnuTsd/csv.groovy" />
          </camunda:inputParameter>
        </camunda:inputOutput>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_0tlotos</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_00e3mgn</bpmn:outgoing>
      <bpmn:dataOutputAssociation id="DataOutputAssociation_0nf6qu4">
        <bpmn:targetRef>tnutsd_ftp</bpmn:targetRef>
      </bpmn:dataOutputAssociation>
    </bpmn:serviceTask>
    <bpmn:parallelGateway id="tnutsd_parallelgw_sendtodb_start">
      <bpmn:incoming>SequenceFlow_0w1mgp5</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1ruro3h</bpmn:outgoing>
      <bpmn:outgoing>SequenceFlow_0lixrt6</bpmn:outgoing>
    </bpmn:parallelGateway>
    <bpmn:parallelGateway id="tnutsd_parallelgw_sendtodb_complete">
      <bpmn:incoming>SequenceFlow_0hk1g9r</bpmn:incoming>
      <bpmn:incoming>SequenceFlow_0nwyqve</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1jwesmo</bpmn:outgoing>
    </bpmn:parallelGateway>
    <bpmn:exclusiveGateway id="tnutsd_exclgw_problemsolved_nim">
      <bpmn:incoming>SequenceFlow_1302brg</bpmn:incoming>
      <bpmn:incoming>SequenceFlow_0lixrt6</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_113gna0</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:serviceTask id="tnutsd_servicetask_sendtonimdb" name="send data to NIM" camunda:asyncBefore="true" camunda:class="kz.kcell.bpm.tnuTsd.SendDataToNim">
      <bpmn:incoming>SequenceFlow_113gna0</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0hk1g9r</bpmn:outgoing>
      <bpmn:dataOutputAssociation id="DataOutputAssociation_14j3dvy">
        <bpmn:targetRef>tnutsd_nimdb</bpmn:targetRef>
      </bpmn:dataOutputAssociation>
    </bpmn:serviceTask>
    <bpmn:userTask id="tnutsd_problemhandle_nim" name="Error handle by  NIM admin" camunda:formKey="embedded:app:forms/tnuTsd/errorHandleByNimAdmin.html" camunda:candidateGroups="hq_tn_engineer">
      <bpmn:incoming>SequenceFlow_0jy2ftc</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1302brg</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:exclusiveGateway id="tnutsd_exclgw_problemsolved_asset">
      <bpmn:incoming>SequenceFlow_1ruro3h</bpmn:incoming>
      <bpmn:incoming>SequenceFlow_0k3d4yu</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1nuo18z</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:serviceTask id="tnutsd_servicetask_sendtoassetdb" name="Send data to Assets DB" camunda:asyncBefore="true" camunda:class="kz.kcell.bpm.tnuTsd.SendDataToAssets">
      <bpmn:incoming>SequenceFlow_1nuo18z</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0nwyqve</bpmn:outgoing>
      <bpmn:dataOutputAssociation id="DataOutputAssociation_0due83f">
        <bpmn:targetRef>tnutsd_assetdb</bpmn:targetRef>
      </bpmn:dataOutputAssociation>
    </bpmn:serviceTask>
    <bpmn:userTask id="tnutsd_problemhandle_asset" name="Error handle by  Assets DB admin" camunda:formKey="embedded:app:forms/tnuTsd/errorHandleByAssetsDbAdmin.html">
      <bpmn:extensionElements>
        <camunda:taskListener class="kz.kcell.bpm.assignments.tnuTsd.RegionEngineerErrorHandler" event="create" />
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_0n9bhio</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0k3d4yu</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:dataStoreReference id="tnutsd_assetdb" name="Assets DB" />
    <bpmn:subProcess id="SubProcess_1hddpah" triggeredByEvent="true">
      <bpmn:startEvent id="tnutsd_startevent_bymessage_interrupting" name="старт процесса обработчика">
        <bpmn:outgoing>SequenceFlow_1c7xwzj</bpmn:outgoing>
        <bpmn:messageEventDefinition id="MessageEventDefinition_1amfy95" messageRef="Message_07skjoi" />
      </bpmn:startEvent>
      <bpmn:endEvent id="tnutsd_endevent_bymessage_interrupting" name="окончание процесса обработчика">
        <bpmn:incoming>SequenceFlow_1eppbd5</bpmn:incoming>
      </bpmn:endEvent>
      <bpmn:serviceTask id="tnutsd_servicetask_delete_data" name="Delete data from DB and send email to hq engineers that process updating" camunda:class="kz.kcell.bpm.tnuTsd.MarkDeletedAndSendProcessIsUpdating">
        <bpmn:incoming>SequenceFlow_1c7xwzj</bpmn:incoming>
        <bpmn:outgoing>SequenceFlow_1eppbd5</bpmn:outgoing>
      </bpmn:serviceTask>
      <bpmn:sequenceFlow id="SequenceFlow_1c7xwzj" sourceRef="tnutsd_startevent_bymessage_interrupting" targetRef="tnutsd_servicetask_delete_data" />
      <bpmn:sequenceFlow id="SequenceFlow_1eppbd5" sourceRef="tnutsd_servicetask_delete_data" targetRef="tnutsd_endevent_bymessage_interrupting" />
      <bpmn:textAnnotation id="TextAnnotation_16gtzo9">
        <bpmn:text>данные удалены</bpmn:text>
      </bpmn:textAnnotation>
      <bpmn:association id="Association_0bu563u" sourceRef="tnutsd_servicetask_delete_data" targetRef="TextAnnotation_16gtzo9" />
    </bpmn:subProcess>
    <bpmn:dataStoreReference id="tnutsd_ftp" name="FTP" />
    <bpmn:endEvent id="tnutsd_endprocess" name="end TNU">
      <bpmn:incoming>SequenceFlow_0am6j0l</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:exclusiveGateway id="tnutsd_exclgw_checkstarttype2">
      <bpmn:incoming>SequenceFlow_1mlijil</bpmn:incoming>
      <bpmn:incoming>SequenceFlow_0lhxsx2</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0am6j0l</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:serviceTask id="tnutsd_servicetask_UpdateProecssVariables" name="Update process variables" camunda:class="kz.kcell.bpm.tnuTsd.UpdateVariables">
      <bpmn:incoming>SequenceFlow_1y995ec</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1mlijil</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:exclusiveGateway id="tnutsd_exclgw_checkstarttype1" default="SequenceFlow_1y995ec">
      <bpmn:incoming>SequenceFlow_0cc50ho</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1y995ec</bpmn:outgoing>
      <bpmn:outgoing>SequenceFlow_0lhxsx2</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:serviceTask id="tnutsd_servicetask_delete_csv" name="Delete related csv file from ftp" camunda:delegateExpression="${tnuTsdDeleteCsvFromFtp}">
      <bpmn:incoming>SequenceFlow_0a4a4vs</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0w1mgp5</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:boundaryEvent id="tnutsd_error_nim" name="send to nim fail" attachedToRef="tnutsd_servicetask_sendtonimdb">
      <bpmn:outgoing>SequenceFlow_0jy2ftc</bpmn:outgoing>
      <bpmn:errorEventDefinition id="ErrorEventDefinition_1uxkjr4" camunda:errorCodeVariable="sendNimErrorCode" camunda:errorMessageVariable="sendNimErrorMessage" />
    </bpmn:boundaryEvent>
    <bpmn:boundaryEvent id="tnutsd_error_asset" name="Send to Assets fail" attachedToRef="tnutsd_servicetask_sendtoassetdb">
      <bpmn:outgoing>SequenceFlow_0n9bhio</bpmn:outgoing>
      <bpmn:errorEventDefinition id="ErrorEventDefinition_0979uq7" camunda:errorCodeVariable="sendAssetsErrorCode" camunda:errorMessageVariable="sendAssetsErrorMessage" />
    </bpmn:boundaryEvent>
    <bpmn:sequenceFlow id="SequenceFlow_0w1mgp5" sourceRef="tnutsd_servicetask_delete_csv" targetRef="tnutsd_parallelgw_sendtodb_start" />
    <bpmn:sequenceFlow id="SequenceFlow_0cc50ho" sourceRef="tnutsd_servicetask_mailtogroups" targetRef="tnutsd_exclgw_checkstarttype1" />
    <bpmn:sequenceFlow id="SequenceFlow_1y995ec" name="if started by message" sourceRef="tnutsd_exclgw_checkstarttype1" targetRef="tnutsd_servicetask_UpdateProecssVariables" />
    <bpmn:sequenceFlow id="SequenceFlow_0lhxsx2" name="if started manualy" sourceRef="tnutsd_exclgw_checkstarttype1" targetRef="tnutsd_exclgw_checkstarttype2">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${startType=='manually'}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="SequenceFlow_1mlijil" sourceRef="tnutsd_servicetask_UpdateProecssVariables" targetRef="tnutsd_exclgw_checkstarttype2" />
    <bpmn:sequenceFlow id="SequenceFlow_0am6j0l" sourceRef="tnutsd_exclgw_checkstarttype2" targetRef="tnutsd_endprocess" />
    <bpmn:sequenceFlow id="SequenceFlow_0k3d4yu" sourceRef="tnutsd_problemhandle_asset" targetRef="tnutsd_exclgw_problemsolved_asset" />
    <bpmn:sequenceFlow id="SequenceFlow_1302brg" sourceRef="tnutsd_problemhandle_nim" targetRef="tnutsd_exclgw_problemsolved_nim" />
    <bpmn:sequenceFlow id="SequenceFlow_0n9bhio" sourceRef="tnutsd_error_asset" targetRef="tnutsd_problemhandle_asset" />
    <bpmn:sequenceFlow id="SequenceFlow_0jy2ftc" sourceRef="tnutsd_error_nim" targetRef="tnutsd_problemhandle_nim" />
    <bpmn:sequenceFlow id="SequenceFlow_0lixrt6" sourceRef="tnutsd_parallelgw_sendtodb_start" targetRef="tnutsd_exclgw_problemsolved_nim" />
    <bpmn:sequenceFlow id="SequenceFlow_1ruro3h" sourceRef="tnutsd_parallelgw_sendtodb_start" targetRef="tnutsd_exclgw_problemsolved_asset" />
    <bpmn:sequenceFlow id="SequenceFlow_0hk1g9r" sourceRef="tnutsd_servicetask_sendtonimdb" targetRef="tnutsd_parallelgw_sendtodb_complete" />
    <bpmn:sequenceFlow id="SequenceFlow_113gna0" sourceRef="tnutsd_exclgw_problemsolved_nim" targetRef="tnutsd_servicetask_sendtonimdb" />
    <bpmn:sequenceFlow id="SequenceFlow_0nwyqve" sourceRef="tnutsd_servicetask_sendtoassetdb" targetRef="tnutsd_parallelgw_sendtodb_complete" />
    <bpmn:sequenceFlow id="SequenceFlow_1nuo18z" sourceRef="tnutsd_exclgw_problemsolved_asset" targetRef="tnutsd_servicetask_sendtoassetdb" />
    <bpmn:sequenceFlow id="SequenceFlow_0a4a4vs" sourceRef="tnutsd_fill_tsd_by_center" targetRef="tnutsd_servicetask_delete_csv" />
    <bpmn:sequenceFlow id="SequenceFlow_00e3mgn" sourceRef="tnutsd_servicetask_create_csv" targetRef="tnutsd_fill_tsd_by_center" />
    <bpmn:sequenceFlow id="SequenceFlow_0i0f12u" sourceRef="tnutsd_fill_tsd_by_region" targetRef="ExclusiveGateway_08wvk1d" />
    <bpmn:sequenceFlow id="SequenceFlow_0a6jssc" sourceRef="tnutsd_exclgw_starttype" targetRef="tnutsd_fill_tsd_by_region" />
    <bpmn:sequenceFlow id="SequenceFlow_00nakkc" sourceRef="tnutsd_startevent_manual" targetRef="ExclusiveGateway_08wvk1d" />
    <bpmn:sequenceFlow id="SequenceFlow_1jwesmo" sourceRef="tnutsd_parallelgw_sendtodb_complete" targetRef="tnutsd_servicetask_mailtogroups" />
    <bpmn:sequenceFlow id="SequenceFlow_1e85nj3" sourceRef="tnutsd_servicetask_check_data" targetRef="tnutsd_exclgw_starttype" />
    <bpmn:sequenceFlow id="SequenceFlow_0rnln32" sourceRef="tnutsd_servicetask_mark_data" targetRef="tnutsd_exclgw_starttype" />
    <bpmn:sequenceFlow id="SequenceFlow_1h2s6qm" sourceRef="tnutsd_startevent_bymessage" targetRef="tnutsd_servicetask_check_data" />
    <bpmn:sequenceFlow id="SequenceFlow_1gcqszq" sourceRef="IntermediateThrowEvent_1p1jcfq" targetRef="tnutsd_servicetask_mark_data" />
    <bpmn:startEvent id="tnutsd_startevent_bymessage" name="start by message from leasing process">
      <bpmn:extensionElements>
        <camunda:executionListener delegateExpression="${tnuTsdSetBusinessKey}" event="end" />
      </bpmn:extensionElements>
      <bpmn:outgoing>SequenceFlow_1h2s6qm</bpmn:outgoing>
      <bpmn:messageEventDefinition id="MessageEventDefinition_1dal2ng" messageRef="Message_0qxlzs0" />
    </bpmn:startEvent>
    <bpmn:serviceTask id="tnutsd_servicetask_check_data" name="check variables Process Instance ID" camunda:class="kz.kcell.bpm.tnuTsd.CheckVariables">
      <bpmn:incoming>SequenceFlow_1h2s6qm</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1e85nj3</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:boundaryEvent id="IntermediateThrowEvent_1p1jcfq" attachedToRef="tnutsd_servicetask_check_data">
      <bpmn:outgoing>SequenceFlow_1gcqszq</bpmn:outgoing>
      <bpmn:conditionalEventDefinition id="ConditionalEventDefinition_1mpf4wb">
        <bpmn:condition xsi:type="bpmn:tFormalExpression" />
      </bpmn:conditionalEventDefinition>
    </bpmn:boundaryEvent>
    <bpmn:serviceTask id="tnutsd_servicetask_mark_data" name="mark TSD in DB is not actual" camunda:class="kz.kcell.bpm.tnuTsd.MarkTsdNotActual">
      <bpmn:incoming>SequenceFlow_1gcqszq</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0rnln32</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:exclusiveGateway id="tnutsd_exclgw_starttype">
      <bpmn:incoming>SequenceFlow_1e85nj3</bpmn:incoming>
      <bpmn:incoming>SequenceFlow_0rnln32</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0a6jssc</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:userTask id="tnutsd_fill_tsd_by_region" name="Fill TSD by region engineer" camunda:formKey="embedded:app:forms/tnuTsd/fillByRegionEngineer.html">
      <bpmn:documentation>Transmission Survey Data (process file in Mentum)</bpmn:documentation>
      <bpmn:extensionElements>
        <camunda:taskListener class="kz.kcell.bpm.assignments.tnuTsd.RegionEngineerAssignmentHandler" event="create" />
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_0a6jssc</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0i0f12u</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:exclusiveGateway id="ExclusiveGateway_08wvk1d">
      <bpmn:incoming>SequenceFlow_0i0f12u</bpmn:incoming>
      <bpmn:incoming>SequenceFlow_00nakkc</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0tlotos</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="SequenceFlow_0tlotos" sourceRef="ExclusiveGateway_08wvk1d" targetRef="tnutsd_servicetask_create_csv" />
    <bpmn:startEvent id="tnutsd_startevent_manual" name="start manualy" camunda:formKey="embedded:app:forms/tnuTsd/start.html" camunda:initiator="starter">
      <bpmn:extensionElements>
        <camunda:executionListener delegateExpression="${tnuTsdSetBusinessKey}" event="end" />
      </bpmn:extensionElements>
      <bpmn:outgoing>SequenceFlow_00nakkc</bpmn:outgoing>
    </bpmn:startEvent>
    <bpmn:sendTask id="tnutsd_servicetask_mailtogroups" name="send notification to region engineer, Permit group, Leasing group" camunda:asyncBefore="true" camunda:delegateExpression="${camundaMailer}">
      <bpmn:extensionElements>
        <camunda:inputOutput>
          <camunda:inputParameter name="to">
            <camunda:script scriptFormat="groovy" resource="tnuTsd/getEmailAddresses.groovy" />
          </camunda:inputParameter>
          <camunda:inputParameter name="html">
            <camunda:script scriptFormat="groovy" resource="tnuTsd/getHtmlBody.groovy" />
          </camunda:inputParameter>
          <camunda:inputParameter name="subject">
            <camunda:script scriptFormat="groovy" resource="tnuTsd/getTnuTsdSubject.groovy" />
          </camunda:inputParameter>
        </camunda:inputOutput>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_1jwesmo</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0cc50ho</bpmn:outgoing>
    </bpmn:sendTask>
    <bpmn:textAnnotation id="TextAnnotation_0rr61dr">
      <bpmn:text>дополнительно принимать 3 переменных process instance ID (Leasing), assets ID, NIM ID</bpmn:text>
    </bpmn:textAnnotation>
    <bpmn:textAnnotation id="TextAnnotation_06167oj">
      <bpmn:text>получение сообщения с данными для анализа</bpmn:text>
    </bpmn:textAnnotation>
    <bpmn:textAnnotation id="TextAnnotation_13aqi2w">
      <bpmn:text>используем метод Update process variables. Обновляем переменные в процессе лизинга по process instance ID</bpmn:text>
    </bpmn:textAnnotation>
    <bpmn:textAnnotation id="TextAnnotation_1e97bok">
      <bpmn:text>эти же данные необходимо отправить в NIM</bpmn:text>
    </bpmn:textAnnotation>
    <bpmn:textAnnotation id="TextAnnotation_1i4wkzc">
      <bpmn:text>если NIM ID not null than Update method, if null then Insert</bpmn:text>
    </bpmn:textAnnotation>
    <bpmn:textAnnotation id="TextAnnotation_0z6v839">
      <bpmn:text>выставляется таск на админа базы о том, что метод не сработал с кодом ошибки</bpmn:text>
    </bpmn:textAnnotation>
    <bpmn:textAnnotation id="TextAnnotation_103alwm">
      <bpmn:text>обработал ошибку и нажал Compete</bpmn:text>
    </bpmn:textAnnotation>
    <bpmn:textAnnotation id="TextAnnotation_194w5d2">
      <bpmn:text>если AssetsID not null than Update method, if null then Insert</bpmn:text>
    </bpmn:textAnnotation>
    <bpmn:textAnnotation id="TextAnnotation_1yxgdrv">
      <bpmn:text>приходят все данные TSD, которые нужно записать в db</bpmn:text>
    </bpmn:textAnnotation>
    <bpmn:textAnnotation id="TextAnnotation_1beie45">
      <bpmn:text>данные добавлены в базу</bpmn:text>
    </bpmn:textAnnotation>
    <bpmn:textAnnotation id="TextAnnotation_021m1ad">
      <bpmn:text>данные не удалось положить в db</bpmn:text>
    </bpmn:textAnnotation>
    <bpmn:textAnnotation id="TextAnnotation_0oiv1to">
      <bpmn:text>if Assets ID/NIM ID not null then delete, if null then end</bpmn:text>
    </bpmn:textAnnotation>
    <bpmn:textAnnotation id="TextAnnotation_1vy0mxg">
      <bpmn:text>выгружает csv, обрабаотывает в Mentum, заполняет дополнительные данные в TSD таблицу</bpmn:text>
    </bpmn:textAnnotation>
    <bpmn:textAnnotation id="TextAnnotation_0r06g5n">
      <bpmn:text>приходит csv файл, а также показываются заполненные данные</bpmn:text>
    </bpmn:textAnnotation>
    <bpmn:textAnnotation id="TextAnnotation_011axcr">
      <bpmn:text>файл csv создан и прикреплен к процессу</bpmn:text>
    </bpmn:textAnnotation>
    <bpmn:textAnnotation id="TextAnnotation_0gv4mb3">
      <bpmn:text>приходят заполненные данные из которых нужно сформировать csv файл</bpmn:text>
    </bpmn:textAnnotation>
    <bpmn:textAnnotation id="TextAnnotation_0tznrf0">
      <bpmn:text>запускает удаление данных по данному процессу в базах</bpmn:text>
    </bpmn:textAnnotation>
    <bpmn:textAnnotation id="TextAnnotation_1jimbbb">
      <bpmn:text>в случае если приходит сообщение из лизинг процесса стартует прерываение действующего TNU процесса</bpmn:text>
    </bpmn:textAnnotation>
    <bpmn:textAnnotation id="TextAnnotation_0y4riym">
      <bpmn:text>данные отправлены</bpmn:text>
    </bpmn:textAnnotation>
    <bpmn:association id="Association_0l60pb6" sourceRef="tnutsd_startevent_manual" targetRef="TextAnnotation_0hsx6qt" />
    <bpmn:association id="Association_1y9xisk" sourceRef="tnutsd_startevent_bymessage" targetRef="TextAnnotation_0rr61dr" />
    <bpmn:association id="Association_0o8e8kw" sourceRef="tnutsd_startevent_bymessage" targetRef="TextAnnotation_06167oj" />
    <bpmn:association id="Association_0niqqjx" sourceRef="tnutsd_fill_tsd_by_center" targetRef="TextAnnotation_1vy0mxg" />
    <bpmn:association id="Association_1mqsp8u" sourceRef="tnutsd_fill_tsd_by_center" targetRef="TextAnnotation_0r06g5n" />
    <bpmn:association id="Association_0iz7fda" sourceRef="tnutsd_servicetask_create_csv" targetRef="TextAnnotation_011axcr" />
    <bpmn:association id="Association_1t6oguf" sourceRef="tnutsd_servicetask_create_csv" targetRef="TextAnnotation_0gv4mb3" />
    <bpmn:association id="Association_04r83k7" sourceRef="tnutsd_fill_tsd_by_region" targetRef="TextAnnotation_090cnp7" />
    <bpmn:association id="Association_0w4opvk" sourceRef="tnutsd_fill_tsd_by_region" targetRef="TextAnnotation_15s03xq" />
    <bpmn:association id="Association_0u7e0pe" sourceRef="tnutsd_servicetask_sendtonimdb" targetRef="TextAnnotation_1e97bok" />
    <bpmn:association id="Association_0qik3vp" sourceRef="tnutsd_servicetask_sendtonimdb" targetRef="TextAnnotation_1i4wkzc" />
    <bpmn:association id="Association_0ndqpqv" sourceRef="tnutsd_servicetask_sendtonimdb" targetRef="TextAnnotation_0y4riym" />
    <bpmn:association id="Association_14uemsm" sourceRef="tnutsd_problemhandle_nim" targetRef="TextAnnotation_0z6v839" />
    <bpmn:association id="Association_02vhpcg" sourceRef="tnutsd_problemhandle_nim" targetRef="TextAnnotation_103alwm" />
    <bpmn:association id="Association_146b4x4" sourceRef="tnutsd_servicetask_sendtoassetdb" targetRef="TextAnnotation_194w5d2" />
    <bpmn:association id="Association_0lopkfb" sourceRef="tnutsd_servicetask_sendtoassetdb" targetRef="TextAnnotation_1yxgdrv" />
    <bpmn:association id="Association_0toso3e" sourceRef="tnutsd_servicetask_sendtoassetdb" targetRef="TextAnnotation_1beie45" />
    <bpmn:association id="Association_089sd0q" sourceRef="tnutsd_startevent_bymessage_interrupting" targetRef="TextAnnotation_1jimbbb" />
    <bpmn:association id="Association_081gwxr" sourceRef="tnutsd_servicetask_delete_data" targetRef="TextAnnotation_0oiv1to" />
    <bpmn:association id="Association_02mnyfc" sourceRef="tnutsd_servicetask_delete_data" targetRef="TextAnnotation_0tznrf0" />
    <bpmn:association id="Association_1dx0cbu" sourceRef="tnutsd_servicetask_UpdateProecssVariables" targetRef="TextAnnotation_13aqi2w" />
    <bpmn:association id="Association_0m6hevg" sourceRef="tnutsd_error_asset" targetRef="TextAnnotation_021m1ad" />
    <bpmn:textAnnotation id="TextAnnotation_090cnp7">
      <bpmn:text>часть данных заполнена</bpmn:text>
    </bpmn:textAnnotation>
    <bpmn:textAnnotation id="TextAnnotation_15s03xq">
      <bpmn:text>запоненение части данных региональным инженером</bpmn:text>
    </bpmn:textAnnotation>
    <bpmn:textAnnotation id="TextAnnotation_0hsx6qt">
      <bpmn:text>запуск процесса вручную</bpmn:text>
    </bpmn:textAnnotation>
  </bpmn:process>
  <bpmn:message id="Message_0qxlzs0" name="TnuTsdStartMessage" />
  <bpmn:message id="Message_07skjoi" name="TnuTsdCancelMessage" />
  <bpmndi:BPMNDiagram id="BPMNDiagram_1">
    <bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="Collaboration_10pqjqw">
      <bpmndi:BPMNShape id="Participant_1odllm1_di" bpmnElement="tnu_tsd" isHorizontal="true">
        <dc:Bounds x="160" y="230" width="3638" height="1230" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="TextAnnotation_06167oj_di" bpmnElement="TextAnnotation_06167oj" bioc:stroke="rgb(30, 136, 229)" bioc:fill="rgb(187, 222, 251)">
        <dc:Bounds x="530" y="420" width="100" height="68" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="TextAnnotation_0gv4mb3_di" bpmnElement="TextAnnotation_0gv4mb3" bioc:stroke="rgb(30, 136, 229)" bioc:fill="rgb(187, 222, 251)">
        <dc:Bounds x="1290" y="627" width="100" height="95" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="StartEvent_09zjtad_di" bpmnElement="tnutsd_startevent_bymessage">
        <dc:Bounds x="495" y="582" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="473" y="625" width="84" height="40" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ServiceTask_04sqd1u_di" bpmnElement="tnutsd_servicetask_create_csv">
        <dc:Bounds x="1360" y="740" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ParallelGateway_1v586sd_di" bpmnElement="tnutsd_parallelgw_sendtodb_start">
        <dc:Bounds x="2125" y="755" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="UserTask_0wd0rk5_di" bpmnElement="tnutsd_fill_tsd_by_center">
        <dc:Bounds x="1550" y="740" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ServiceTask_0bpxltv_di" bpmnElement="tnutsd_servicetask_sendtoassetdb">
        <dc:Bounds x="2700" y="960" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ParallelGateway_1bq5slu_di" bpmnElement="tnutsd_parallelgw_sendtodb_complete">
        <dc:Bounds x="3005" y="755" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ServiceTask_1uk6ecr_di" bpmnElement="tnutsd_servicetask_sendtonimdb">
        <dc:Bounds x="2650" y="470" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="UserTask_1nvw6qm_di" bpmnElement="tnutsd_fill_tsd_by_region">
        <dc:Bounds x="987" y="740" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="DataStoreReference_0fueahj_di" bpmnElement="tnutsd_assetdb">
        <dc:Bounds x="2935" y="1135" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="2934" y="1113" width="51" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="SubProcess_1hddpah_di" bpmnElement="SubProcess_1hddpah" isExpanded="true">
        <dc:Bounds x="1330" y="1200" width="605" height="205" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BoundaryEvent_0sfc45j_di" bpmnElement="tnutsd_error_asset">
        <dc:Bounds x="2762" y="1022" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="2775" y="1056" width="74" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Association_0o8e8kw_di" bpmnElement="Association_0o8e8kw">
        <di:waypoint x="520" y="583" />
        <di:waypoint x="565" y="488" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Association_1t6oguf_di" bpmnElement="Association_1t6oguf">
        <di:waypoint x="1384" y="740" />
        <di:waypoint x="1371" y="722" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_1h2s6qm_di" bpmnElement="SequenceFlow_1h2s6qm">
        <di:waypoint x="531" y="600" />
        <di:waypoint x="609" y="600" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_0i0f12u_di" bpmnElement="SequenceFlow_0i0f12u">
        <di:waypoint x="1087" y="780" />
        <di:waypoint x="1204" y="780" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_00e3mgn_di" bpmnElement="SequenceFlow_00e3mgn">
        <di:waypoint x="1460" y="780" />
        <di:waypoint x="1550" y="780" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_1ruro3h_di" bpmnElement="SequenceFlow_1ruro3h">
        <di:waypoint x="2150" y="805" />
        <di:waypoint x="2150" y="1000" />
        <di:waypoint x="2305" y="1000" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_0a4a4vs_di" bpmnElement="SequenceFlow_0a4a4vs">
        <di:waypoint x="1650" y="780" />
        <di:waypoint x="1730" y="780" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="DataOutputAssociation_0due83f_di" bpmnElement="DataOutputAssociation_0due83f">
        <di:waypoint x="2799" y="1033" />
        <di:waypoint x="2935" y="1144" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="StartEvent_1s2x9ri_di" bpmnElement="tnutsd_startevent_bymessage_interrupting">
        <dc:Bounds x="1370" y="1277" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1349" y="1320" width="79" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="EndEvent_0gpz2zg_di" bpmnElement="tnutsd_endevent_bymessage_interrupting">
        <dc:Bounds x="1742" y="1277" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1737" y="1325" width="65" height="40" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ServiceTask_1527x5f_di" bpmnElement="tnutsd_servicetask_delete_data">
        <dc:Bounds x="1520" y="1255" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_1c7xwzj_di" bpmnElement="SequenceFlow_1c7xwzj">
        <di:waypoint x="1406" y="1295" />
        <di:waypoint x="1520" y="1295" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_1eppbd5_di" bpmnElement="SequenceFlow_1eppbd5">
        <di:waypoint x="1620" y="1295" />
        <di:waypoint x="1742" y="1295" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ExclusiveGateway_00wwgzz_di" bpmnElement="tnutsd_exclgw_starttype" isMarkerVisible="true">
        <dc:Bounds x="846" y="755" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="StartEvent_10i03ns_di" bpmnElement="tnutsd_startevent_manual">
        <dc:Bounds x="495" y="942" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="480" y="985" width="67" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_00nakkc_di" bpmnElement="SequenceFlow_00nakkc">
        <di:waypoint x="531" y="960" />
        <di:waypoint x="1229" y="960" />
        <di:waypoint x="1229" y="806" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="TextAnnotation_0hsx6qt_di" bpmnElement="TextAnnotation_0hsx6qt" bioc:stroke="rgb(30, 136, 229)" bioc:fill="rgb(187, 222, 251)">
        <dc:Bounds x="544" y="866" width="100" height="54" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Association_0l60pb6_di" bpmnElement="Association_0l60pb6">
        <di:waypoint x="527" y="949" />
        <di:waypoint x="561" y="920" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="TextAnnotation_15s03xq_di" bpmnElement="TextAnnotation_15s03xq" bioc:stroke="rgb(30, 136, 229)" bioc:fill="rgb(187, 222, 251)">
        <dc:Bounds x="997" y="640" width="100" height="68" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Association_0w4opvk_di" bpmnElement="Association_0w4opvk">
        <di:waypoint x="1041" y="740" />
        <di:waypoint x="1044" y="708" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="TextAnnotation_090cnp7_di" bpmnElement="TextAnnotation_090cnp7" bioc:stroke="rgb(67, 160, 71)" bioc:fill="rgb(200, 230, 201)">
        <dc:Bounds x="997" y="856" width="100" height="40" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Association_04r83k7_di" bpmnElement="Association_04r83k7">
        <di:waypoint x="1041" y="820" />
        <di:waypoint x="1045" y="856" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="TextAnnotation_011axcr_di" bpmnElement="TextAnnotation_011axcr" bioc:stroke="rgb(67, 160, 71)" bioc:fill="rgb(200, 230, 201)">
        <dc:Bounds x="1350" y="880" width="100" height="67" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Association_0iz7fda_di" bpmnElement="Association_0iz7fda">
        <di:waypoint x="1407" y="820" />
        <di:waypoint x="1403" y="880" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="TextAnnotation_0r06g5n_di" bpmnElement="TextAnnotation_0r06g5n" bioc:stroke="rgb(30, 136, 229)" bioc:fill="rgb(187, 222, 251)">
        <dc:Bounds x="1540" y="620" width="100" height="81" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Association_1mqsp8u_di" bpmnElement="Association_1mqsp8u">
        <di:waypoint x="1597" y="740" />
        <di:waypoint x="1593" y="701" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="TextAnnotation_1vy0mxg_di" bpmnElement="TextAnnotation_1vy0mxg" bioc:stroke="rgb(67, 160, 71)" bioc:fill="rgb(200, 230, 201)">
        <dc:Bounds x="1550" y="845" width="130" height="95" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Association_0niqqjx_di" bpmnElement="Association_0niqqjx">
        <di:waypoint x="1605" y="820" />
        <di:waypoint x="1609" y="845" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="TextAnnotation_1jimbbb_di" bpmnElement="TextAnnotation_1jimbbb" bioc:stroke="rgb(30, 136, 229)" bioc:fill="rgb(187, 222, 251)">
        <dc:Bounds x="1290" y="1010" width="100" height="137" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Association_089sd0q_di" bpmnElement="Association_089sd0q">
        <di:waypoint x="1384" y="1278" />
        <di:waypoint x="1355" y="1147" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="TextAnnotation_0tznrf0_di" bpmnElement="TextAnnotation_0tznrf0" bioc:stroke="rgb(30, 136, 229)" bioc:fill="rgb(187, 222, 251)">
        <dc:Bounds x="1550" y="1051" width="100" height="95" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Association_02mnyfc_di" bpmnElement="Association_02mnyfc">
        <di:waypoint x="1576" y="1255" />
        <di:waypoint x="1593" y="1146" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="TextAnnotation_16gtzo9_di" bpmnElement="TextAnnotation_16gtzo9" bioc:stroke="rgb(67, 160, 71)" bioc:fill="rgb(200, 230, 201)">
        <dc:Bounds x="1610" y="1345" width="100" height="39" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Association_0bu563u_di" bpmnElement="Association_0bu563u">
        <di:waypoint x="1617" y="1332" />
        <di:waypoint x="1634" y="1345" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="TextAnnotation_1yxgdrv_di" bpmnElement="TextAnnotation_1yxgdrv" bioc:stroke="rgb(30, 136, 229)" bioc:fill="rgb(187, 222, 251)">
        <dc:Bounds x="2585" y="842" width="100" height="67" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Association_0lopkfb_di" bpmnElement="Association_0lopkfb">
        <di:waypoint x="2714" y="960" />
        <di:waypoint x="2666" y="909" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="TextAnnotation_021m1ad_di" bpmnElement="TextAnnotation_021m1ad" bioc:stroke="rgb(229, 57, 53)" bioc:fill="rgb(255, 205, 210)">
        <dc:Bounds x="2640" y="1052" width="100" height="53" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Association_0m6hevg_di" bpmnElement="Association_0m6hevg">
        <di:waypoint x="2764" y="1048" />
        <di:waypoint x="2740" y="1057" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="TextAnnotation_1e97bok_di" bpmnElement="TextAnnotation_1e97bok" bioc:stroke="rgb(30, 136, 229)" bioc:fill="rgb(187, 222, 251)">
        <dc:Bounds x="2460" y="377" width="100" height="66" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Association_0u7e0pe_di" bpmnElement="Association_0u7e0pe">
        <di:waypoint x="2650" y="484" />
        <di:waypoint x="2560" y="436" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="TextAnnotation_0y4riym_di" bpmnElement="TextAnnotation_0y4riym" bioc:stroke="rgb(67, 160, 71)" bioc:fill="rgb(200, 230, 201)">
        <dc:Bounds x="2800" y="530" width="100" height="39" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Association_0ndqpqv_di" bpmnElement="Association_0ndqpqv">
        <di:waypoint x="2750" y="523" />
        <di:waypoint x="2800" y="537" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="TextAnnotation_1beie45_di" bpmnElement="TextAnnotation_1beie45" bioc:stroke="rgb(67, 160, 71)" bioc:fill="rgb(200, 230, 201)">
        <dc:Bounds x="2840" y="1000" width="100" height="53" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Association_0toso3e_di" bpmnElement="Association_0toso3e">
        <di:waypoint x="2800" y="1009" />
        <di:waypoint x="2840" y="1017" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ServiceTask_0dgdchw_di" bpmnElement="tnutsd_servicetask_UpdateProecssVariables">
        <dc:Bounds x="3400" y="634" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="TextAnnotation_0rr61dr_di" bpmnElement="TextAnnotation_0rr61dr">
        <dc:Bounds x="700" y="348" width="100" height="124" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Association_1y9xisk_di" bpmnElement="Association_1y9xisk">
        <di:waypoint x="527" y="589" />
        <di:waypoint x="700" y="449" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="TextAnnotation_13aqi2w_di" bpmnElement="TextAnnotation_13aqi2w">
        <dc:Bounds x="3340" y="444" width="100" height="153" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Association_1dx0cbu_di" bpmnElement="Association_1dx0cbu">
        <di:waypoint x="3434" y="634" />
        <di:waypoint x="3420" y="597" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="EndEvent_1wdvlyt_di" bpmnElement="tnutsd_endprocess">
        <dc:Bounds x="3662" y="762" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="3658" y="805" width="45" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0a6jssc_di" bpmnElement="SequenceFlow_0a6jssc">
        <di:waypoint x="896" y="780" />
        <di:waypoint x="987" y="780" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="TextAnnotation_194w5d2_di" bpmnElement="TextAnnotation_194w5d2">
        <dc:Bounds x="2800" y="859" width="100" height="83" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Association_146b4x4_di" bpmnElement="Association_146b4x4">
        <di:waypoint x="2789" y="960" />
        <di:waypoint x="2808" y="942" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="TextAnnotation_1i4wkzc_di" bpmnElement="TextAnnotation_1i4wkzc">
        <dc:Bounds x="2630" y="363" width="100" height="82" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Association_0qik3vp_di" bpmnElement="Association_0qik3vp">
        <di:waypoint x="2693" y="470" />
        <di:waypoint x="2688" y="445" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ExclusiveGateway_0ep0lm0_di" bpmnElement="tnutsd_exclgw_checkstarttype1" isMarkerVisible="true">
        <dc:Bounds x="3275" y="755" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_1jwesmo_di" bpmnElement="SequenceFlow_1jwesmo">
        <di:waypoint x="3055" y="780" />
        <di:waypoint x="3083" y="780" />
        <di:waypoint x="3083" y="783" />
        <di:waypoint x="3110" y="783" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ExclusiveGateway_1kg13fy_di" bpmnElement="tnutsd_exclgw_checkstarttype2" isMarkerVisible="true">
        <dc:Bounds x="3545" y="755" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0am6j0l_di" bpmnElement="SequenceFlow_0am6j0l">
        <di:waypoint x="3595" y="780" />
        <di:waypoint x="3662" y="780" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_1y995ec_di" bpmnElement="SequenceFlow_1y995ec">
        <di:waypoint x="3300" y="755" />
        <di:waypoint x="3300" y="674" />
        <di:waypoint x="3400" y="674" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="3242" y="696" width="57" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_1mlijil_di" bpmnElement="SequenceFlow_1mlijil">
        <di:waypoint x="3500" y="674" />
        <di:waypoint x="3570" y="674" />
        <di:waypoint x="3570" y="755" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_0lhxsx2_di" bpmnElement="SequenceFlow_0lhxsx2">
        <di:waypoint x="3325" y="780" />
        <di:waypoint x="3545" y="780" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="3391" y="762" width="88" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_0jy2ftc_di" bpmnElement="SequenceFlow_0jy2ftc">
        <di:waypoint x="2750" y="568" />
        <di:waypoint x="2750" y="700" />
        <di:waypoint x="2560" y="700" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ExclusiveGateway_1ctljgp_di" bpmnElement="tnutsd_exclgw_problemsolved_nim" isMarkerVisible="true">
        <dc:Bounds x="2305" y="485" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_1302brg_di" bpmnElement="SequenceFlow_1302brg">
        <di:waypoint x="2460" y="700" />
        <di:waypoint x="2330" y="700" />
        <di:waypoint x="2330" y="535" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_113gna0_di" bpmnElement="SequenceFlow_113gna0">
        <di:waypoint x="2355" y="510" />
        <di:waypoint x="2650" y="510" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="UserTask_1wv0maq_di" bpmnElement="tnutsd_problemhandle_nim">
        <dc:Bounds x="2460" y="660" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ExclusiveGateway_1a5jorj_di" bpmnElement="tnutsd_exclgw_problemsolved_asset" isMarkerVisible="true">
        <dc:Bounds x="2305" y="975" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_1nuo18z_di" bpmnElement="SequenceFlow_1nuo18z">
        <di:waypoint x="2355" y="1000" />
        <di:waypoint x="2700" y="1000" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_0n9bhio_di" bpmnElement="SequenceFlow_0n9bhio">
        <di:waypoint x="2780" y="1058" />
        <di:waypoint x="2780" y="1170" />
        <di:waypoint x="2560" y="1170" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_0k3d4yu_di" bpmnElement="SequenceFlow_0k3d4yu">
        <di:waypoint x="2460" y="1170" />
        <di:waypoint x="2330" y="1170" />
        <di:waypoint x="2330" y="1025" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="UserTask_0bz0y08_di" bpmnElement="tnutsd_problemhandle_asset">
        <dc:Bounds x="2460" y="1130" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0lixrt6_di" bpmnElement="SequenceFlow_0lixrt6">
        <di:waypoint x="2150" y="755" />
        <di:waypoint x="2150" y="510" />
        <di:waypoint x="2305" y="510" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_0hk1g9r_di" bpmnElement="SequenceFlow_0hk1g9r">
        <di:waypoint x="2750" y="510" />
        <di:waypoint x="3030" y="510" />
        <di:waypoint x="3030" y="755" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_0nwyqve_di" bpmnElement="SequenceFlow_0nwyqve">
        <di:waypoint x="2800" y="1000" />
        <di:waypoint x="3030" y="1000" />
        <di:waypoint x="3030" y="805" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="TextAnnotation_0z6v839_di" bpmnElement="TextAnnotation_0z6v839" bioc:stroke="rgb(30, 136, 229)" bioc:fill="rgb(187, 222, 251)">
        <dc:Bounds x="2530" y="540" width="100" height="96" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Association_14uemsm_di" bpmnElement="Association_14uemsm">
        <di:waypoint x="2535" y="660" />
        <di:waypoint x="2550" y="636" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="TextAnnotation_103alwm_di" bpmnElement="TextAnnotation_103alwm" bioc:stroke="rgb(67, 160, 71)" bioc:fill="rgb(200, 230, 201)">
        <dc:Bounds x="2555" y="740" width="130" height="43" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Association_02vhpcg_di" bpmnElement="Association_02vhpcg">
        <di:waypoint x="2560" y="728" />
        <di:waypoint x="2581" y="740" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="DataStoreReference_18qak4d_di" bpmnElement="tnutsd_nimdb">
        <dc:Bounds x="2715" y="85" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="2782" y="113" width="55" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="DataOutputAssociation_14j3dvy_di" bpmnElement="DataOutputAssociation_14j3dvy">
        <di:waypoint x="2704" y="470" />
        <di:waypoint x="2738" y="135" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="TextAnnotation_0oiv1to_di" bpmnElement="TextAnnotation_0oiv1to">
        <dc:Bounds x="1660" y="1084" width="100" height="66" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Association_081gwxr_di" bpmnElement="Association_081gwxr">
        <di:waypoint x="1601" y="1255" />
        <di:waypoint x="1684" y="1150" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="DataStoreReference_0sxzj7g_di" bpmnElement="tnutsd_ftp">
        <dc:Bounds x="1445" y="563" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1469" y="543" width="22" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="DataOutputAssociation_0nf6qu4_di" bpmnElement="DataOutputAssociation_0nf6qu4">
        <di:waypoint x="1422" y="740" />
        <di:waypoint x="1459" y="613" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="DataOutputAssociation_1iyolna_di" bpmnElement="DataOutputAssociation_1iyolna">
        <di:waypoint x="1574" y="740" />
        <di:waypoint x="1490" y="613" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_0cc50ho_di" bpmnElement="SequenceFlow_0cc50ho">
        <di:waypoint x="3210" y="783" />
        <di:waypoint x="3243" y="783" />
        <di:waypoint x="3243" y="780" />
        <di:waypoint x="3275" y="780" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_0w1mgp5_di" bpmnElement="SequenceFlow_0w1mgp5">
        <di:waypoint x="1830" y="780" />
        <di:waypoint x="2125" y="780" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ServiceTask_0wxjgpm_di" bpmnElement="tnutsd_servicetask_delete_csv">
        <dc:Bounds x="1730" y="740" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BoundaryEvent_1vc5h25_di" bpmnElement="tnutsd_error_nim">
        <dc:Bounds x="2732" y="532" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="2752" y="573" width="75" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_1e85nj3_di" bpmnElement="SequenceFlow_1e85nj3">
        <di:waypoint x="709" y="600" />
        <di:waypoint x="871" y="600" />
        <di:waypoint x="871" y="755" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ServiceTask_00pszme_di" bpmnElement="tnutsd_servicetask_check_data">
        <dc:Bounds x="609" y="560" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BoundaryEvent_1eljmni_di" bpmnElement="IntermediateThrowEvent_1p1jcfq">
        <dc:Bounds x="671" y="622" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_1gcqszq_di" bpmnElement="SequenceFlow_1gcqszq">
        <di:waypoint x="689" y="658" />
        <di:waypoint x="689" y="780" />
        <di:waypoint x="689" y="740" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ServiceTask_1ldpiur_di" bpmnElement="tnutsd_servicetask_mark_data">
        <dc:Bounds x="639" y="740" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0rnln32_di" bpmnElement="SequenceFlow_0rnln32">
        <di:waypoint x="739" y="780" />
        <di:waypoint x="846" y="780" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="SendTask_1km3pc1_di" bpmnElement="tnutsd_servicetask_mailtogroups">
        <dc:Bounds x="3110" y="743" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ExclusiveGateway_08wvk1d_di" bpmnElement="ExclusiveGateway_08wvk1d" isMarkerVisible="true">
        <dc:Bounds x="1204" y="755" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0tlotos_di" bpmnElement="SequenceFlow_0tlotos">
        <di:waypoint x="1254" y="780" />
        <di:waypoint x="1360" y="780" />
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</bpmn:definitions>
