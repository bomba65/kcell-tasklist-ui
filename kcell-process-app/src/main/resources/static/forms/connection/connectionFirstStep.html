
<form role="form" class="form-horizontal" name="kcell_form" novalidate>
	<style type="text/css">
		.mr-1{
			margin-right: 2px
			}
		.bs-callout {
			padding: 20px;
			margin: 20px 0;
			border: 1px solid #eee;
			border-left-width: 5px;
			border-radius: 3px;
		}
		.bs-callout h5 {
			margin-top: 0;
			margin-bottom: 5px;
		}
		.bs-callout p:last-child {
			margin-bottom: 0;
		}
		.bs-callout code {
			border-radius: 3px;
		}
		.bs-callout+.bs-callout {
			margin-top: -5px;
		}
		.bs-callout-default {
			border-left-color: #777;
		}
		.bs-callout-default h5 {
			color: #777;
		}
		.bs-callout-primary {
			border-left-color: #428bca;
		}
		.bs-callout-primary h5 {
			color: #428bca;
		}
		.bs-callout-success {
			border-left-color: #5cb85c;
		}
		.bs-callout-success h5 {
			color: #5cb85c;
		}
		.bs-callout-danger {
			border-left-color: #d9534f;
		}
		.bs-callout-danger h5 {
			color: #d9534f;
		}
		.bs-callout-warning {
			border-left-color: #f0ad4e;
		}
		.bs-callout-warning h5 {
			color: #f0ad4e;
		}
		.bs-callout-info {
			border-left-color: #5bc0de;
		}
		.bs-callout-info h5 {
			color: #5bc0de;
		}
	</style>
	<script cam-script type="text/form-script">
		$scope.identificators = [];
		$scope.operators = [{'name':'beeline'}, {'name':'tele2'}, {'name':'altel'}, {'name':'kcell'} ];
		var identificators = $scope.identificators;
		camForm.on('form-loaded', function() {
		    camForm.variableManager.createVariable({
	  			name: 'identificators',
	  			type: 'json',
	 			value: identificators
			});
		});
		var operators = $scope.operators;
		camForm.on('form-loaded', function() {
		    camForm.variableManager.createVariable({
	  			name: 'operators',
	  			type: 'json',
	 			value: operators
			});
		});
		

		$scope.addIdentificator = function() {
			$scope.identificators.push({'title': $scope.newIdentificator, 'operators': operators});
			$scope.newIdentificator = '';
		}

		$scope.deleteIdentificator = function(index) {	
			$scope.identificators.splice(index, 1);
		}
	</script>
	<div class="bs-callout bs-callout-info">
		<h5>Ситуация:</h5>
		<ul>
			<li>Начните процесс подключения</li>
		</ul>
		<h5>Что необходимо сделать:</h5>
		<ul>
			<li>Введите стартовые данные</li>
			<li>Если подключение <b>onnet</b> и альфанумерик, убедитесь в том что номер доступен в <b>Product Catalog</b></li>
			<li>Если подключение <b>offnet\onnet</b> и цифровой, убедитесь в том что добавили номера нажав <b>"+"</b></li>
			<li>Нажмите <b>Start</b></li>
		</ul>
	</div>
	<div class="form-group">
		<label class="col-sm-4 control-label">Тип идентификатора:</label>
		<div class="col-sm-4">

	 		<select class="form-control" id="sel1"
			  	cam-variable-name="identificatorType"
		     	cam-variable-type="String"
		     	ng-model="identificatorType"
		     	placeholder="Тип идентификатора">
			    <option value="alfanumeric">Альфанумерик</option>
				<option value="digital">Цифровой</option>
			</select>
		</div>
	</div>
	<div class="form-group"> 
		<label class="col-sm-4 control-label">Тип подключения:</label>
		<div class="col-sm-4">
			<select class="form-control" id="sel1"
				cam-variable-name="connectionType"
				cam-variable-type="String"
				ng-model="connectionType"
				placeholder="Укажите тип подключения">
				<option value="onnet">Onnet</option>
				<option value="offnet">Offnet\Onnet</option>
			</select>
		</div>
	</div>
	<div class="form-group">
		<label class="col-sm-4 control-label">Идентификатор:</label>
		<div class="col-sm-4">
			<input
				cam-variable-name="firstIdentificator"
			    cam-variable-type="String"
			    ng-model ="firstIdentificator"
			    class="form-control" placeholder="Укажите идентификатор"/>
		</div>
	</div>
	<!--<div class="form-group" ng-show="connectionType === 'offnet' && identificatorType === 'digital'">
		<label class="col-sm-4 control-label">Идентификатор:</label>
		<div class="col-sm-4">
			<div  class="input-group" ng-submit="addIdentificator()">
				<input class="form-control" placeholder="Идентификатор на проверку" type="text" name="newIdentificator" ng-model="newIdentificator"/>
		     	<span class="input-group-btn">
		        	<button class="btn btn-secondary" type="button" ng-click="addIdentificator()">+</button>
		      	</span>
		    </div>
		</div>
	</div>
	<div class="form-group" ng-show="identificators">
		<label class="col-sm-4 control-label"></label>
		<div class="col-sm-8">
			<span class="label label-primary mr-1" ng-repeat="identificator in identificators">
				{{identificator.title}}
			    <span class="glyphicon glyphicon-remove" ng-click="deleteIdentificator($index)"></span>
			</span>
		</div>
	</div>-->

	<!--<div class="form-group" ng-show="connectionType === 'offnet'">
		<div class="alert alert-warning">Если оффнет, cоздайте Deal Task и введите Id созданной заявки</div>
		<label class="col-sm-4 control-label">ID созданной заявки:</label>
		<div class="col-sm-4">
			<input ng-required="connectionType === 'offnet'"
			    cam-variable-name="dealTask"
			    cam-variable-type="String"
			    class="form-control" placeholder="Номер заявки"/>
		</div>
	</div>-->
</form>



